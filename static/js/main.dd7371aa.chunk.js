(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){"use strict";var n=a(35),r=a(2),i={InsertElements:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function r(i){var o=!0,l=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(h.id===t){var p=!0,d=!1,m=void 0;try{for(var v,f=a[Symbol.iterator]();!(p=(v=f.next()).done);p=!0){var y=v.value;i.splice(i.indexOf(h)+n,0,y)}}catch(g){d=!0,m=g}finally{try{p||null==f.return||f.return()}finally{if(d)throw m}}return e}var b=r(h.children);if(b)return b}}catch(g){l=!0,s=g}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}return!1}(e.children)},InsertElementsAfter:function(e,t,a){return this.InsertElements(e,t,a,0)},InsertElementsBefore:function(e,t,a){return this.InsertElements(e,t,a,1)},getElementIndex:function(e,t){for(var a=0;a<e.length;a++){if(e[a].id===t)return a}return!1},getParentArray:function(e,t){return function e(a){for(var n=0;n<a.length;n++){var r=a[n];if(r.id===t)return a;var i=e(r.children);if(r.children.length>0&&i)return i}return!1}(e)},getParentElementById:function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,o=e.children[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;if(l.id===t)return e;var s=this.getParentElementById(l,t);if(s)return s}}catch(c){n=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return!1},getElementGlobalPosition:function(e,t){var a={left:0,top:0};if("root"===t)return a;return function e(t,n){var r=!0,i=!1,o=void 0;try{for(var l,s=t.children[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;if(a.left+=c.states[c.currentState].style.left,a.top+=c.states[c.currentState].style.top,c.id===n)return a;e(c,n),a.left-=c.states[c.currentState].style.left,a.top-=c.states[c.currentState].style.top}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return a}(e,t)},getElementDataById:function(e,t){var a=e;if(void 0!==a.children){if(a.id===t)return a;a=a.children}return function e(a){for(var n=0;n<a.length;n++){var r=a[n];if(r.id===t)return r;var i=e(r.children);if(r.children.length>0&&i)return i}return!1}(a)},removeElementById:function(e,t){var a=Object(r.merge)({},e);return a.children=function e(a){for(var n=0;n<a.length;n++){if(a[n].id===t){a.splice(n,1);break}a[n].children=e(a[n].children)}return a}(a.children),a},spliceElementById:function(e,t){return function e(a){for(var n=0;n<a.length;n++){var r=a[n];if(r.id===t)return a.splice(n,1);var i=e(r.children);if(r.children.length>0&&i)return i}return!1}(e.children)},makeId:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e+="_"+(new Date).getTime()},generateElement:function(e,t,a,i){var o=Object(r.merge)({},n.d,i),l=Object(r.merge)({},n.c,{id:this.makeId(),style:o});return Object(r.merge)({},n.b,{id:this.makeId(),type:a,label:this.newLayerName(t,e),states:[l]})},checkLayerName:function(e,t){for(var a=0;a<t.length;a++){var n=t[a];if(n.label===e)return!0;if(n.children.length>0&&this.checkLayerName(e,n.children))return!0}return!1},newLayerName:function(e,t){for(var a,n=1;n;){if(a=e+" "+n,!this.checkLayerName(a,t))return a;n++}}};t.a=i},146:function(e,t,a){var n={"./MenuFileNew/":502,"./ObjectGroup/":318,"./ObjectUnGroup/":321,"./WorkspaceSnapToGrid/":324};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=146},195:function(e,t,a){e.exports=a(501)},27:function(e,t,a){"use strict";t.a={getElementPosition:function(e,t,a){for(var n=0;n<a.length;n++)if(a[n][e]===t)return n;return!1},objectAvailableByKey:function(e,t,a){var n=!0,r=!1,i=void 0;try{for(var o,l=a[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){if(o.value[e]===t)return!0}}catch(s){r=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return!1}}},3:function(e,t,a){"use strict";var n=a(57),r=a(2),i={prev:{tree:{}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HISTORY_ADD":return Object(r.merge)({},e,t.val);default:return e}},l={shift:!1,set:{86:{keydown:function(e){e.ctrlKey||(U.dispatch({type:"TOOLS_CURRENT",val:"selection"}),U.dispatch({type:"WORKAREA_CURSOR",val:"default"}))},keyup:function(e){}},82:{keydown:function(e){e.ctrlKey||(U.dispatch({type:"TOOLS_CURRENT",val:"box"}),U.dispatch({type:"WORKAREA_CURSOR",val:"crosshair"}))},keyup:function(e){}},90:{keydown:function(e){e.ctrlKey||(U.dispatch({type:"TOOLS_CURRENT",val:"zoom"}),U.dispatch({type:"WORKAREA_CURSOR",val:"zoom-in"}))},keyup:function(e){}},18:{keydown:function(e){"zoom"===U.getState().tools.current&&U.dispatch({type:"WORKAREA_CURSOR",val:"zoom-out"})},keyup:function(e){"zoom"===U.getState().tools.current&&U.dispatch({type:"WORKAREA_CURSOR",val:"zoom-in"})}},32:{keydown:function(e){var t=U.getState();"pan"!==t.tools.current&&(U.dispatch({type:"PUBLIC_ADD",key:"lastTool",val:t.tools.current}),U.dispatch({type:"TOOLS_CURRENT",val:"pan"}),U.dispatch({type:"WORKAREA_CURSOR",val:t.tools.set.pan.cursor}),t.tools.set.pan.initialize())},keyup:function(e){var t=U.getState(),a=t.public.lastTool;t.tools.set.pan.destroy(),U.dispatch({type:"TOOLS_CURRENT",val:a}),U.dispatch({type:"WORKAREA_CURSOR",val:t.tools.set[a].cursor}),U.dispatch({type:"PUBLIC_REMOVE",key:"lastTool"}),"function"===typeof t.tools.set[a].initialize&&t.tools.set[a].initialize()}}}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"KEYBOARD_SHIFT":return Object(r.merge)({},e,{shift:t.val});case"KEY_COMBO":return Object(r.merge)({},e,{set:t.val});default:return e}},c={x:0,y:0,up:{x:0,y:0},down:{x:0,y:0},offset:{x:0,y:0},offsetUp:{x:0,y:0},offsetDown:{x:0,y:0},dragDelta:{x:0,y:0},mouseDownEvent:null,longPressTimeout:null,isDown:!1,doubleTouch:!1,mouseEvent:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOUSE_POSITION":case"MOUSE_DOWN":case"MOUSE_UP":return Object(r.merge)({},e,t.val);case"MOUSE_DRAG_DELTA":return Object(r.merge)({},e,{dragDelta:{x:t.val.x,y:t.val.y}});case"MOUSE_DOWN_EVENT":return Object(r.merge)({},e,{mouseDownEvent:t.val});case"MOUSE_IS_DOWN":return Object(r.merge)({},e,{isDown:t.val});case"MOUSE_EVENT":return Object(r.merge)({},e,{mouseEvent:t.val});default:return e}},h={classes:[{label:"image1",type:"image",style:{backgroundImage:"url(/i/grumpy-cat.jpg)",backgroundSize:"cover",backgroundPosition:"center"}},{label:"ryan",type:"image",style:{backgroundImage:"url(https://media.giphy.com/media/KWkBL0UgsOuqc/giphy.gif)",backgroundSize:"cover",backgroundPosition:"center"}},{label:"syle1",type:"class",style:{borderWidth:"3px",borderStyle:"solid",borderColor:"blue"}}]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return(arguments.length>1?arguments[1]:void 0).type,e},d={todos:[{label:"Learn React",done:!0},{label:"Learn Redux",done:!0},{label:"Learn React-Redux Connect",done:!0},{label:"Learn React-Router with Redux",done:!0}],newTodoLabel:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return{todos:[{label:e.newTodoLabel,done:!1}].concat(e.todos),newTodoLabel:""};case"TOGGLE_TODO":var a=e.todos.slice(0);return a[t.index].done=!e.todos[t.index].done,Object(r.merge)({},e,{todos:a});case"NU_LABEL":return Object(r.merge)({},e,{newTodoLabel:t.label});default:return e}},v=a(12),f=a(27),y=a(36),b=function(e,t){return U.getState().tools.flags[e+"_"+t]},g=function(e,t,a){U.dispatch({type:"TOOLS_FLAG",key:e+"_"+t,val:a})},E={current:"selection",set:{selection:{iconClass:"custom_icons selection",iconString:"",cursor:"default",initialize:function(){g("select","willMove",!1),g("select","dragSelect",!1),g("select","active",!1),g("select","resizeSirection",!1),g("select","areaWindow",!1)},mousedown:function(e){var t=e.event.button,a=U.getState();if(0===t){g("select","active",!0);var n=e.event.target,r=n.dataset.id,i=e.event.shiftKey;if(g("select","willMove",n.dataset.move),g("select","resizeDirection",n.dataset.resize),y.a.addElementToPick(r,e.pick,i),!r){var o;g("select","dragSelect",!0);var l=b("select","areaWindow");l?o=l:((o=document.createElement("div")).setAttribute("class","area-window"),o.style.position="absolute",o.style.border="1px dashed #ccc",o.style.pointerEvents="none",o.style.boxSizing="border-box",document.getElementById("els_root").appendChild(o),g("select","areaWindow",o));var s=a.mouse;o.style.top=s.offsetDown.y+"px",o.style.left=s.offsetDown.x+"px",o.style.opacity=1,o.style.width=0,o.style.height=0}}},mousemove:function(e){if(b("select","active")){var t=U.getState(),a=t.mouse,n={x:a.offsetDown.x-a.offset.x,y:a.offsetDown.y-a.offset.y},i=Object(r.merge)({},t.tree),o=e.pick.elements;if(b("select","dragSelect")){var l=b("select","areaWindow").style,s={width:i.states[i.currentState].style.width,height:i.states[i.currentState].style.height},c={};n.y<=0?(c.height=-1*n.y,c.top=a.offsetDown.y,c.bottom=!1):(c.top=!1,c.bottom=s.height-a.offsetDown.y,c.height=n.y),n.x<=0?(c.width=-1*n.x,c.left=a.offsetDown.x,c.right=!1):(c.right=s.width-a.offsetDown.x,c.left=!1,c.width=n.x),l.top=c.top?c.top+"px":"auto",l.left=c.left?c.left+"px":"auto",l.width=c.width?c.width+"px":"auto",l.height=c.height?c.height+"px":"auto",l.bottom=c.bottom?c.bottom+"px":"auto",l.right=c.right?c.right+"px":"auto";var u=[],h=!0,p=!1,d=void 0;try{for(var m,y=i.children[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value,E=g.states[g.currentState].style,w=g.id;c.left||(c.left=s.width-c.right-c.width),c.top||(c.top=s.height-c.bottom-c.height);var O={x1:c.left<=E.left+E.width,x2:c.left+c.width>=E.left,y1:c.top<=E.top+E.height,y2:c.height+c.top>=E.top},k=O.x1&&O.x2&&O.y1&&O.y2,x=t.public.initialPick;if(k){if(!f.a.objectAvailableByKey("id",w,x)){var _={id:w,top:E.top,left:E.left,width:E.width,height:E.height};u.push(_)}}else if(f.a.objectAvailableByKey("id",w,x)){var j={id:w,top:E.top,left:E.left,width:E.width,height:E.height};u.push(j)}}}catch(B){p=!0,d=B}finally{try{h||null==y.return||y.return()}finally{if(p)throw d}}U.dispatch({type:"PICK_FULL",val:u})}else{if(!(0===o.length)){var N=!0,S=!1,D=void 0;try{for(var C,L=o[Symbol.iterator]();!(N=(C=L.next()).done);N=!0){var R=C.value,T=v.a.getElementDataById(i.children,R.id),M=T.currentState,I=T.states[M].style;if("1"===b("select","willMove"))I.left=R.left-n.x,I.top=R.top-n.y;else{var P=b("select","resizeDirection"),A=void 0,F=void 0;switch(P){case"nw":(A=R.width+n.x)>0&&(I.left=R.left-n.x,I.width=A),(F=R.height+n.y)>0&&(I.top=R.top-n.y,I.height=F);break;case"n":(F=R.height+n.y)>0&&(I.top=R.top-n.y,I.height=F);break;case"ne":(F=R.height+n.y)>0&&(I.top=R.top-n.y,I.height=F),I.width=R.width-n.x;break;case"w":(A=R.width+n.x)>0&&(I.left=R.left-n.x,I.width=A);break;case"e":I.width=R.width-n.x;break;case"sw":I.height=R.height-n.y,(A=R.width+n.x)>0&&(I.left=R.left-n.x,I.width=A);break;case"s":I.height=R.height-n.y;break;case"se":I.height=R.height-n.y,I.width=R.width-n.x}}}}catch(B){S=!0,D=B}finally{try{N||null==L.return||L.return()}finally{if(S)throw D}}U.dispatch({type:"TREE_FULL",val:i})}}}},mouseup:function(e){if(g("select","dragSelect",!1),b("select","active")){var t=U.getState(),a=[].concat(e.pick.elements);if(0===a.length)U.dispatch({type:"PUBLIC_REMOVE",key:"initialPick"});else{var n=t.tree,r=!0,i=!1,o=void 0;try{for(var l,s=a[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value,u=v.a.getElementDataById(n.children,c.id),h=u.currentState;c.left=u.states[h].style.left,c.top=u.states[h].style.top,c.width=u.states[h].style.width,c.height=u.states[h].style.height}}catch(d){i=!0,o=d}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}U.dispatch({type:"PICK_FULL",val:a})}}g("select","active",!1);var p=b("select","areaWindow");p&&(p.style.opacity=0)}},box:{iconClass:"material-icons",iconString:"crop_square",cursor:"crosshair",initialize:function(){g("box","initialized",!1),g("box","activeElement",!1),g("box","needsCleanupRight",!1),g("box","needsCleanupBottom",!1)},mousedown:function(e){if(0===e.event.button){g("box","initialized",!0);var t=U.getState(),a=t.tree.children,n=t.mouse,i={top:n.offsetDown.y,left:n.offsetDown.x},o=v.a.generateElement(a,"Box","box",i),l=Object(r.merge)({},t.tree);l.children.push(o),g("box","activeElement",o.id),U.dispatch({type:"TREE_FULL",val:l})}else e.event.preventDefault(),e.event.stopPropagation()},mousemove:function(e){if(b("box","initialized")){var t=b("box","activeElement"),a=U.getState(),n=a.mouse,i={x:n.offsetDown.x-n.offset.x,y:n.offsetDown.y-n.offset.y},o=Object(r.merge)({},a.tree),l=v.a.getElementDataById(o.children,t),s=l.currentState,c=l.states[s].style,u={width:o.states[o.currentState].style.width,height:o.states[o.currentState].style.height};i.y<=0?(c.height=-1*i.y,c.top=n.offsetDown.y,delete c.bottom,g("box","needsCleanupBottom",!1)):(delete c.top,c.bottom=u.height-n.offsetDown.y,c.height=i.y,g("box","needsCleanupBottom",!0)),i.x<=0?(c.width=-1*i.x,c.left=n.offsetDown.x,delete c.right,g("box","needsCleanupRight",!1)):(c.right=u.width-n.offsetDown.x,delete c.left,c.width=i.x,g("box","needsCleanupRight",!0)),U.dispatch({type:"TREE_FULL",val:o})}},mouseup:function(e){if(b("box","initialized")){g("box","initialized",!1);var t=b("box","activeElement"),a=U.getState(),n=Object(r.merge)({},a.tree),i=v.a.getElementDataById(n.children,t),o=i.currentState,l=i.states[o].style;if(0===l.width&&0===l.height){var s=n.children.indexOf(i);n.children.splice(s,1),U.dispatch({type:"TREE_FULL",val:n})}else if(b("box","needsCleanupRight")||b("box","needsCleanupBottom")){var c={width:n.states[n.currentState].style.width,height:n.states[n.currentState].style.height};b("box","needsCleanupRight")&&(l.left=c.width-l.width-l.right-0,delete l.right),b("box","needsCleanupBottom")&&(l.top=c.height-l.height-l.bottom-0,delete l.bottom),U.dispatch({type:"TREE_FULL",val:n})}}}},zoom:{iconClass:"material-icons",iconString:"search",cursor:"zoom-in",initialize:function(){},destroy:function(){},mousedown:function(e){},mousemove:function(e){},mouseup:function(e){var t=U.getState().public.zoomInstance;if(0===e.event.button){var a=e.event.altKey?.75:1/.75;t.zoomTo(e.event.clientX,e.event.clientY,a)}}},pan:{iconClass:"material-icons",iconString:"pan_tool",cursor:"move",initialize:function(){U.getState().public.zoomInstance.setPanButton(0)},destroy:function(){U.getState().public.zoomInstance.setPanButton(1)},mousedown:function(e){},mousemove:function(e){},mouseup:function(e){}}},flags:{}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=Object(r.merge)({},e);switch(t.type){case"TOOLS_CURRENT":return a.current=t.val,a;case"TOOLS_FLAG":return a.flags[t.key]=t.val,a;default:return e}},O=a(35),k=Object(r.merge)({},O.a),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TREE_ELEMENTS":return Object(r.merge)({},e.tree);case"TREE_FULL":return Object(r.merge)({},t.val);default:return e}},_={active:!0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;switch((arguments.length>1?arguments[1]:void 0).type){case"UNDO_DEACTIVATE":return Object(r.merge)({},e,{active:!1});case"UNDO_ACTIVATE":return Object(r.merge)({},e,{active:!0});default:return e}},N={snapToGrid:!0,gridSize:10,cursor:"default",elementClass:[],rootElement:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORKAREA_CURSOR":return Object(r.merge)({},e,{cursor:t.val});case"WORKAREA_SNAP_TO_GRID":return Object(r.merge)({},e,{snapToGrid:!e.snapToGrid});case"WORKAREA_GRID_SIZE":return Object(r.merge)({},e,{gridSize:t.val});case"WORKAREA_CLASS":return Object(r.merge)({},e,{elementClass:t.val});default:return e}},D={offset:{left:0,top:0},zoom:1,scroll:{top:0,left:0}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SCREEN_SCROLL":return Object(r.merge)({},e,{scroll:t.val});case"SCREEN_ZOOM":return Object(r.merge)({},e,{zoom:t.val});case"SCREEN_OFFSET":return Object(r.merge)({},e,{offset:t.val});default:return e}},L={elements:[]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PICK_FULL":return Object(r.merge)({},L,{elements:t.val});case"PICK_ADD":var a=Object(r.merge)({},e);return a.elements.push(t.val),a;case"PICK_REMOVE":var n=Object(r.merge)({},e),i=f.a.getElementPosition("id",t.val,n.elements);return n.elements.splice(i,1),n;case"PICK_CLEAR":return Object(r.merge)({},L);default:return e}},T=Object(r.merge)({},{menus:{file:{visible:!1,items:{new:{tag:"MenuFileNew"}}},object:{visible:!1,items:{group:{tag:"ObjectGroup"}}},workspace:{visible:!1,items:{snapToGrid:{tag:"WorkspaceSnapToGrid"}}}},helperData:{}}),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_ADD_HELPER":var a=Object(r.merge)({},e);return a.helperData[t.key]=t.value,a;case"MENU_ADD_ITEM":return Object(r.merge)({},e);case"MENU_TOGGLE_SUB":var n=Object(r.merge)({},e);for(var i in n.menus)i!==t.value&&!0===n.menus[i].visible&&(n.menus[i].visible=!1);return n.menus[t.value].visible=!n.menus[t.value].visible,n;default:return e}},I={},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUBLIC_ADD":var a={};return a[t.key]=t.val,Object(r.merge)({},e,a);case"PUBLIC_REMOVE":var n=Object(r.merge)({},e);return delete n[t.key],n;default:return e}},A=Object(n.b)({main:m,workarea:S,keyboard:s,library:p,mouse:u,undos:j,tools:w,tree:x,history:o,screen:C,pick:R,menu:M,public:P}),F=Object(n.c)(A),U=t.a=F},304:function(e,t,a){},306:function(e,t,a){},308:function(e,t,a){},310:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){},316:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t),a.d(t,"DumbMenuItem",function(){return m}),a.d(t,"MenuItem",function(){return v});var n=a(4),r=a(5),i=a(8),o=a(6),l=a(7),s=a(0),c=a.n(s),u=a(18),h=a(3),p=a(12),d=a(2),m=(a(319),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"group",value:function(){var e=[].concat(this.props.pick.elements),t=e[0],a=t.left,n=t.left+t.width,r=t.top,i=t.top+t.height;e.splice(0,1);var o=!0,l=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var m=c.value,v=m.left+m.width,f=m.top+m.height;m.left<a&&(a=m.left),v>n&&(n=v),m.top<r&&(r=m.top),f>i&&(i=f)}}catch(P){l=!0,s=P}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}var y={left:a,top:r,width:n-a,height:i-r},b=Object(d.merge)({},y,{backgroundColor:"rgba(0,0,0,0)",borderStyle:"none"}),g=h.a.getState(),E=g.tree.children,w=p.a.generateElement(E,"Group","group",b),O=Object(d.merge)({},g.tree),k=!0,x=!1,_=void 0;try{for(var j,N=this.props.pick.elements[Symbol.iterator]();!(k=(j=N.next()).done);k=!0){var S=j.value,D=Object(d.merge)({},p.a.getElementDataById(O.children,S.id)),C=!0,L=!1,R=void 0;try{for(var T,M=D.states[Symbol.iterator]();!(C=(T=M.next()).done);C=!0){var I=T.value;I.style.left=I.style.left-a,I.style.top=I.style.top-r}}catch(P){L=!0,R=P}finally{try{C||null==M.return||M.return()}finally{if(L)throw R}}w.children.push(D),O=p.a.removeElementById(O,S.id)}}catch(P){x=!0,_=P}finally{try{k||null==N.return||N.return()}finally{if(x)throw _}}O.children.push(w),h.a.dispatch({type:"TREE_FULL",val:O}),h.a.dispatch({type:"PICK_CLEAR"}),h.a.dispatch({type:"PICK_ADD",val:Object(d.merge)({},{id:w.id},y)})}},{key:"componentDidMount",value:function(){var e=this;h.a.dispatch({type:"KEY_COMBO",val:{71:{keydown:function(t){(t.ctrlKey||t.metaKey)&&e.group()},keyup:function(e){}}}})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{ref:"groupButton",className:"menu__dropdown-item",onClick:this.group.bind(this),disabled:this.props.pick.elements.length<2?"disabled":""},c.a.createElement("span",{className:"flex-loose"},"Group")))}}]),t}(s.Component)),v=Object(u.b)(function(e){return{pick:e.pick}})(m)},319:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t),a.d(t,"DumbMenuItem",function(){return m}),a.d(t,"MenuItem",function(){return v});var n=a(4),r=a(5),i=a(8),o=a(6),l=a(7),s=a(0),c=a.n(s),u=a(18),h=a(3),p=a(12),d=a(2),m=(a(322),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"ungroup",value:function(){var e=[].concat(this.props.pick.elements),t=[].concat(this.props.pick.elements),a=Object(d.merge)({},this.props.tree),n=!0,r=!1,i=void 0;try{for(var o,l=function(){var e=o.value,n=Object(d.merge)({},p.a.getElementDataById(a.children,e.id));if(n.children.length>0){var r=p.a.getElementIndex(a.children,e.id),i=!0,l=!1,s=void 0;try{for(var c,u=n.children[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var h=c.value,m=!0,v=!1,f=void 0;try{for(var y,b=h.states[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var g=y.value;g.style.left=g.style.left+e.left,g.style.top=g.style.top+e.top}}catch(w){v=!0,f=w}finally{try{m||null==b.return||b.return()}finally{if(v)throw f}}a.children.splice(r,0,h);var E=h.states[h.currentState];t.push({id:h.id,top:E.style.top,left:E.style.left,width:E.style.width,height:E.style.height})}}catch(w){l=!0,s=w}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}a=p.a.removeElementById(a,e.id),t=t.filter(function(t){return t.id!==e.id})}},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)l()}catch(c){r=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}h.a.dispatch({type:"PICK_CLEAR"}),h.a.dispatch({type:"TREE_FULL",val:a}),h.a.dispatch({type:"PICK_FULL",val:t})}},{key:"componentDidMount",value:function(){var e=this;h.a.dispatch({type:"KEY_COMBO",val:{85:{keydown:function(t){(t.ctrlKey||t.metaKey)&&e.ungroup()},keyup:function(e){}}}})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"menu__dropdown-item",onClick:this.ungroup.bind(this),disabled:this.props.pick.elements.length<2?"disabled":""},c.a.createElement("span",{className:"flex-loose"},"Ungroup")))}}]),t}(s.Component)),v=Object(u.b)(function(e){return{pick:e.pick,tree:e.tree}})(m)},322:function(e,t,a){},324:function(e,t,a){"use strict";a.r(t),a.d(t,"DumbMenuItem",function(){return p}),a.d(t,"MenuItem",function(){return d});var n=a(4),r=a(5),i=a(8),o=a(6),l=a(7),s=a(0),c=a.n(s),u=a(18),h=a(3),p=(a(325),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"snapToGrid",value:function(){h.a.dispatch({type:"WORKAREA_SNAP_TO_GRID"})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"menu__dropdown-item",onClick:this.snapToGrid},c.a.createElement("span",{className:"flex-loose"},"Snap To Grid"),c.a.createElement("i",{className:"flex-fixed material-icons"+(this.props.workarea.snapToGrid?"":" invisible")},"check")))}}]),t}(s.Component)),d=Object(u.b)(function(e){return{workarea:e.workarea}})(p)},325:function(e,t,a){},327:function(e,t,a){},329:function(e,t,a){},35:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return i}),a.d(t,"d",function(){return o});var n={id:"root",label:"Artboard 1",children:[],currentState:0,type:"artboard",states:[{label:"base",classes:[],text:"",style:{position:"relative",width:240,height:320,backgroundColor:"#ffffff",color:"#000000",transform:"rotate(0deg)",opacity:1,mixBlendMode:"normal"}}]},r={id:null,label:null,currentState:0,states:[],locked:!1,type:"box",children:[]},i={id:null,name:"base",classes:[],style:{},actions:[],text:""},o={position:"absolute",width:0,height:0,backgroundColor:"#ffffff",borderColor:"#000000",borderStyle:"solid",borderWidth:1,borderRadius:0,boxSizing:"border-box",transform:"rotate(0deg)",opacity:1,mixBlendMode:"normal"}},36:function(e,t,a){"use strict";var n=a(12),r=a(27),i=a(3);t.a={add:function(e){i.a.dispatch({type:"PICK_ADD",val:e})},remove:function(e){i.a.dispatch({type:"PICK_REMOVE",val:e})},clear:function(){i.a.dispatch({type:"PICK_CLEAR"})},isInPick:function(e){var t=i.a.getState().pick.elements;return r.a.objectAvailableByKey("id",e,t)},addElementToPick:function(e,t,a){if(e&&"root"!==e){var o=i.a.getState(),l=n.a.getElementDataById(o.tree.children,e),s=l.currentState,c=l.states[s].style,u={id:e,top:c.top,left:c.left,width:c.width,height:c.height},h=r.a.objectAvailableByKey("id",e,t.elements);a?h?t.remove(e):t.add(u):h||(t.clear(),t.add(u))}else{var p=[].concat(t.elements);a||(t.clear(),p=[]),i.a.dispatch({type:"PUBLIC_ADD",key:"initialPick",val:p})}}}},485:function(e,t,a){},487:function(e,t,a){},489:function(e,t,a){},491:function(e,t,a){},493:function(e,t,a){},495:function(e,t,a){},497:function(e,t,a){},499:function(e,t,a){},501:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),o=a(76),l=a(190),s=a.n(l),c=a(4),u=a(5),h=a(8),p=a(6),d=a(7),m=a(15),v=a(2),f=function(e,t){return Math.round(e/t)*t},y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=(arguments.length>5&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6]),o=e;if(a.snapToGrid&&(o={x:f(e.x,a.gridSize),y:f(e.y,a.gridSize)}),r.shift&&t&&"mousemove"===i.type){var l,s={x:o.x-n.offsetDown.x,y:o.y-n.offsetDown.y},c=-1*Math.atan2(s.y,s.x)*180/Math.PI;switch(c=Math.floor(c<0?360+c:c),Math.floor((c-15)/45)){case 0:l=s.x<Math.abs(s.y)?s.x:Math.abs(s.y),o={x:n.offsetDown.x+l,y:n.offsetDown.y-l};break;case 2:l=s.x>s.y?s.x:s.y,o={x:n.offsetDown.x+l,y:n.offsetDown.y+l};break;case 4:l=Math.abs(s.x)<s.y?Math.abs(s.x):s.y,o={x:n.offsetDown.x-l,y:n.offsetDown.y+l};break;case 6:l=s.x<s.y?s.x:s.y,o={x:n.offsetDown.x+l,y:n.offsetDown.y+l};break;case 1:case 5:o={x:n.offsetDown.x,y:o.y};break;case-1:case 7:case 3:o={x:o.x,y:n.offsetDown.y}}}return o},b=a(111),g=a.n(b),E=a(191),w=a(3),O=a(192),k=a.n(O),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).mouseDown=!1,a.logEvent=function(e){var t;e.persist(),e.preventDefault();var a=e.type;switch(t={x:e.pageX,y:e.pageY},a){case"mousedown":this.mouseDown=!0,this.props.mouseDownFunction(e,t);break;case"mouseup":this.mouseDown=!1,this.props.mouseUpFunction(e,t);break;default:console.log("woot")}this.props.registerMouseEventType(),this.props.eventReceptorFunction({theEvent:a,e:e})}.bind(Object(m.a)(Object(m.a)(a))),a.logMove=function(e){if(this.mouseDown){var t=this.refs.inputLogger,a={x:("touchmove"===e.type?e.originalEvent.touches[0].pageX:e.pageX)+t.scrollLeft,y:("touchmove"===e.type?e.originalEvent.touches[0].pageY:e.pageY)+t.scrollTop};this.props.mouseMoveFunction(a),this.props.eventReceptorFunction({theEvent:"mousemove",e:e})}}.bind(Object(m.a)(Object(m.a)(a))),a.zoomFn=function(){var e=Object(E.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.a.dispatch({type:"SCREEN_ZOOM",val:t.detail.scale});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.panFn=function(e){},a.transformFn=function(e){return window.dispatchEvent(new Event("resize"))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.cursor!==e.cursor}},{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){if(void 0!==this.refs.inputLogger){var e=this.refs.inputLogger,t=k()(e,{smoothScroll:!1,panButton:1,zoomDoubleClickSpeed:1,transformOrigin:{x:"calc(50% - 50vw)",y:"calc(50% - 50vh)",z:0}});e.addEventListener("zoom",this.zoomFn),e.addEventListener("panend",this.panFn),e.addEventListener("transform",this.transformFn),w.a.dispatch({type:"PUBLIC_ADD",key:"zoomInstance",val:t})}}},{key:"componentWillUnmount",value:function(){void 0!==this.refs.inputLogger&&(this.refs.inputLogger.removeEventListener("zoom",this.zoomFn),this.refs.inputLogger.removeEventListener("panend",this.panFn),this.refs.inputLogger.removeEventListener("transform",this.transformFn))}},{key:"render",value:function(){return r.a.createElement("div",{ref:"inputLogger",style:{cursor:this.props.cursor},className:"input-logger",onMouseDown:this.logEvent,onMouseUp:this.logEvent,onMouseMove:this.logMove},this.props.children)}}]),t}(n.Component),_=a(36),j=(a(304),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).eventReceptorFunction=function(e){w.a.dispatch({type:"MOUSE_EVENT",val:e.e});var t=this.props.tools;if(t.current&&void 0!==t.set[t.current]){var a=t.set[t.current][e.e.type];if("function"===typeof a){var n=w.a.getState().pick;a({pick:Object(v.merge)({},_.a,{elements:n.elements,initialStates:n.initialStates}),event:e.e})}}}.bind(Object(m.a)(Object(m.a)(a))),a.mouseDownFunction=function(e,t){var a=w.a.getState().screen,n=a.offset,r={x:Math.round((t.x-n.left)/a.zoom,0),y:Math.round((t.y-n.top)/a.zoom,0)};t=this.filterFunction(t,e),r=this.filterFunction(r,e),w.a.dispatch({type:"UNDO_DEACTIVATE"}),document.activeElement.blur(),w.a.dispatch({type:"MOUSE_DOWN",val:{down:{x:t.x,y:t.y},offsetDown:{x:r.x,y:r.y}}}),w.a.dispatch({type:"WORKAREA_CLASS",val:["mouse-down"]}),w.a.dispatch({type:"MOUSE_DRAG_DELTA",val:{x:0,y:0}}),w.a.dispatch({type:"MOUSE_DOWN_EVENT",val:e}),w.a.dispatch({type:"MOUSE_IS_DOWN",val:!0})},a.mouseUpFunction=function(e,t){var a=w.a.getState().screen,n=a.offset,r={x:Math.round((t.x-n.left)/a.zoom,0),y:Math.round((t.y-n.top)/a.zoom,0)};t=this.filterFunction(t,e),r=this.filterFunction(r,e),w.a.dispatch({type:"WORKAREA_CLASS",val:[]}),w.a.dispatch({type:"UNDO_ACTIVATE"}),w.a.dispatch({type:"MOUSE_UP",val:{up:{x:t.x,y:t.y},offsetUp:{x:r.x,y:r.y}}})},a.registerMouseEventType=function(e){w.a.dispatch({type:"MOUSE_EVENT",val:e})},a.mouseMoveFunction=function(e){var t=this.props.screen,a=t.offset,n={x:Math.round((e.x-a.left)/t.zoom,0),y:Math.round((e.y-a.top)/t.zoom,0)};e=this.filterFunction(e,{type:"mousemove"}),n=this.filterFunction(n,{type:"mousemove"}),w.a.dispatch({type:"MOUSE_POSITION",val:{x:e.x,y:e.y,offset:{x:n.x,y:n.y}}}),w.a.dispatch({type:"WORKAREA_CLASS",val:["mouse-down","mouse-move"]})}.bind(Object(m.a)(Object(m.a)(a))),a.filterFunction=function(e,t){return y(e,!0,this.props.workarea,this.props.mouse,this.props.keyboard,this.props.screen,t)}.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"work-area"},r.a.createElement(x,{zoom:this.props.screen.zoom,cursor:this.props.workarea.cursor,eventReceptorFunction:this.eventReceptorFunction,filterFunction:this.filterFunction,mouseDownFunction:this.mouseDownFunction,mouseUpFunction:this.mouseUpFunction,mouseMoveFunction:this.mouseMoveFunction,registerMouseEventType:this.registerMouseEventType},this.props.children))}}]),t}(n.Component)),N=Object(i.b)(function(e){return{mouse:e.mouse,tools:e.tools,screen:e.screen,workarea:e.workarea,keyboard:e.keyboard,pick:e.pick}})(j),S=a(194),D=a(27),C=(a(306),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"renderChildren",value:function(){var e=this;return this.props.specs.children?this.props.specs.children.map(function(a,n){return r.a.createElement(t,{key:n,specs:a,pick:e.props.pick})}):null}},{key:"getClassString",value:function(){var e=this.props.specs.states[this.props.specs.currentState].classes,t=["element"].concat(e);return D.a.objectAvailableByKey("id",this.props.specs.id,this.props.pick.elements)&&t.push("selected"),"root"===this.props.specs.id&&(t.push("element--root"),this.props.pick.elements.length>1&&t.push("selected-multiple")),t.join(" ")}},{key:"renderTools",value:function(){return"root"!==this.props.specs.id?r.a.createElement("div",{className:"element__tools"},r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"nw","data-move":"0",className:"element__tool element__tool--top-left"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"n","data-move":"0",className:"element__tool element__tool--top"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"ne","data-move":"0",className:"element__tool element__tool--top-right"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"w","data-move":"0",className:"element__tool element__tool--left"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"","data-move":"1",className:"element__tool element__tool--center"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"e","data-move":"0",className:"element__tool element__tool--right"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"sw","data-move":"0",className:"element__tool element__tool--bottom-left"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"s","data-move":"0",className:"element__tool element__tool--bottom"}),r.a.createElement("div",{"data-id":this.props.specs.id,"data-resize":"se","data-move":"0",className:"element__tool element__tool--bottom-right"})):null}},{key:"storeDimensions",value:function(){if(void 0!==this.refs.root){var e=function(e){var t=e.getBoundingClientRect();return{top:t.top,left:t.left}}(this.refs.root);w.a.dispatch({type:"SCREEN_OFFSET",val:e})}}},{key:"componentDidMount",value:function(){void 0!==this.refs.root&&(this.storeDimensions(),window.addEventListener("resize",this.storeDimensions.bind(this)))}},{key:"componentWillUnmount",value:function(){void 0!==this.refs.root&&window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"conponentWillUpdate",value:function(){console.log(this.props.specs.id)}},{key:"render",value:function(){if(this.props.specs.states){var e=this.props.specs.states[this.props.specs.currentState];return r.a.createElement("div",{id:"els_"+this.props.specs.id,className:this.getClassString(),style:Object(S.a)({},e.style),ref:this.props.specs.id},this.renderTools(),r.a.createElement("div",{className:"element__contents"},e.text,this.renderChildren()))}return null}}]),t}(n.Component)),L=(a(308),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(C,{specs:this.props.tree,pick:this.props.pick})}}]),t}(n.Component)),R=Object(i.b)(function(e){return{tree:e.tree,pick:e.pick}})(L),T={objectToCss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{marginLeft:0,paddingLeft:0},t="";for(var a in e)e.hasOwnProperty(a)&&(t+=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+e[a]+";");return t},getStylesheet:function(e){for(var t=document.styleSheets,a=0;a<t.length;a++)if(t[a].ownerNode.id===e)return t[a];return!1},insertRule:function(e,t){var a=this.objectToCss(t.style),n="."+t.label+"{"+a+"}";return e.insertRule(n,e.cssRules.length)},emptystyleSheet:function(e){for(var t=e.cssRules.length;t>0;t--)e.deleteRule(t);return!1},initializeSheet:function(e,t){var a=this;return this.emptystyleSheet(e),t.map(function(t){return a.insertRule(e,t)}),!1}},M=(a(310),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).toolName=a.props.toolName,a.tool=a.props.tool,a.toolIcon=a.tool.iconClass,a.iconString=a.tool.iconString,a.renderIcon=function(){if(this.toolIcon)return r.a.createElement("span",{className:this.toolIcon},this.iconString)},a.activateTool=function(){this.props.activateTool(this.toolName)}.bind(Object(m.a)(Object(m.a)(a))),a.theClass=function(){return"toolbar__button"+(this.props.toolName===this.props.currentTool?" active":"")}.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:this.theClass(),onClick:this.activateTool},this.renderIcon(),r.a.createElement("span",{className:"sr-only"},this.toolName))}}]),t}(n.Component)),I=(a(312),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).activateTool=function(e){a.props.tools.current!==e&&("function"===typeof a.props.tools.set[a.props.tools.current].destroy&&a.props.tools.set[a.props.tools.current].destroy(),w.a.dispatch({type:"TOOLS_CURRENT",val:e}),w.a.dispatch({type:"WORKAREA_CURSOR",val:a.props.tools.set[e].cursor}),w.a.dispatch({type:"PICK_CLEAR"}),console.log(),"function"===typeof a.props.tools.set[e].initialize&&a.props.tools.set[e].initialize())},a.renderTools=function(){var e=[],t=a.props.tools.set;for(var n in t)t.hasOwnProperty(n)&&e.push(r.a.createElement(M,{key:n,toolName:n,tool:t[n],activateTool:a.activateTool,currentTool:a.props.tools.current}));return e},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"toolbar"},this.renderTools())}}]),t}(n.Component)),P=Object(i.b)(function(e){return{tools:e.tools,keyboard:e.keyboard}})(I),A=(a(314),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"showMenu",value:function(e){w.a.dispatch({type:"MENU_TOGGLE_SUB",value:e})}},{key:"buildMenuDropdown",value:function(e){var t=[];for(var n in e){var i=a(146)("./"+e[n].tag+"/").MenuItem;t.push(r.a.createElement(i,{key:e[n].tag}))}return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{key:this.props.sub[0],className:this.props.sub[1].visible?"menu__sub menu__sub--visible":"menu__sub",onClick:function(){e.showMenu(e.props.sub[0])}},r.a.createElement("button",{className:"menu__label"},this.props.sub[0]),r.a.createElement("div",{className:"menu__backdrop"}),r.a.createElement("div",{className:"menu__dropdown"},this.buildMenuDropdown(this.props.sub[1].items)))}}]),t}(n.Component)),F=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"renderMenuHelpers",value:function(){return Object.entries(this.props.menu.menus).map(function(e,t){var n=[],i=e[1].items;for(var o in i){var l=a(146)("./"+i[o].tag+"/").MenuHelper;void 0!==l&&n.push(r.a.createElement(l,{key:i[o].tag}))}return n})}},{key:"listenToKeydown",value:function(e){e.preventDefault();var t=e.keyCode,a=this.props.keyboard;void 0!==a.set[t]&&void 0!==a.set[t].keydown&&a.set[t].keydown(e),16===t&&w.a.dispatch({type:"KEYBOARD_SHIFT",val:!0})}},{key:"listenToKeyup",value:function(e){e.preventDefault();var t=e.keyCode,a=this.props.keyboard;void 0!==a.set[t]&&void 0!==a.set[t].keyup&&a.set[t].keyup(e),16===e.keyCode&&w.a.dispatch({type:"KEYBOARD_SHIFT",val:!1})}},{key:"componentWillMount",value:function(){window.addEventListener("keydown",this.listenToKeydown.bind(this),!1),window.addEventListener("keyup",this.listenToKeyup.bind(this),!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.listenToKeydown.bind(this),!1),window.removeEventListener("keyup",this.listenToKeyup.bind(this),!1)}},{key:"render",value:function(){return r.a.createElement("div",{className:"top-header"},r.a.createElement("div",{className:"menu"},Object.entries(this.props.menu.menus).map(function(e,t){return r.a.createElement(A,{key:t,sub:e})})),r.a.createElement("div",{className:"menu__helpers"},this.renderMenuHelpers()))}}]),t}(n.Component),U=Object(i.b)(function(e){return{menu:e.menu,keyboard:e.keyboard}})(F),B=a(12),z=(a(327),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"findTree",value:function(e,t){if(t.id===e)return t;var a=!0,n=!1,r=void 0;try{for(var i,o=t.children[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;return this.findTree(e,l)}}catch(s){n=!0,r=s}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return!1}},{key:"selectItem",value:function(e){var t=e.target.dataset.elementId,a=e.ctrlKey||e.metaKey,n=w.a.getState().pick,r=Object(v.merge)({},_.a,{elements:n.elements,initialStates:n.initialStates});_.a.addElementToPick(t,r,a)}},{key:"renderChildren",value:function(){for(var e=this.props.tree.children,a=[],n=(""!==this.props.path?this.props.path+"_":"")+this.props.index,i=e.length-1;i>-1;i--)a.push(r.a.createElement(t,{key:i,index:i,tree:e[i],path:n}));return a}},{key:"dragEnter",value:function(e){e.preventDefault(),e.target.classList.add("hover")}},{key:"dragLeave",value:function(e){e.preventDefault(),e.target.classList.remove("hover")}},{key:"drop",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.preventDefault();var a=e.target.dataset.elementId;if(!_.a.isInPick(a)){var n=w.a.getState(),r=Object(v.merge)({},n.tree),i=B.a.getParentElementById(r,a),o=n.pick.elements,l=[],s=!0,c=!1,u=void 0;try{for(var h,p=o[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var d=h.value,m=B.a.getParentElementById(r,d.id),f=B.a.getElementGlobalPosition(r,m.id),y=B.a.spliceElementById(r,d.id)[0];if(i!==m){var b=B.a.getElementGlobalPosition(r,i.id);y.states[y.currentState].style.left+=f.left-b.left,y.states[y.currentState].style.top+=f.top-b.top}y&&l.push(y)}}catch(g){c=!0,u=g}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}r=B.a[t?"InsertElementsBefore":"InsertElementsAfter"](r,a,l),w.a.dispatch({type:"TREE_FULL",val:r}),w.a.dispatch({type:"PUBLIC_ADD",key:"layerDrag",val:!1})}}},{key:"dropBefore",value:function(e){this.drop(e,!0)}},{key:"dropAfter",value:function(e){this.drop(e,!1)}},{key:"dragOver",value:function(e){e.preventDefault()}},{key:"dragStart",value:function(e){w.a.dispatch({type:"PUBLIC_ADD",key:"layerDrag",val:!0})}},{key:"componentWillMount",value:function(){w.a.dispatch({type:"PUBLIC_ADD",key:"layerDrag",val:!1})}},{key:"componentWillUnmount",value:function(){w.a.dispatch({type:"PUBLIC_REMOVE",key:"layerDrag"})}},{key:"renderButton",value:function(){var e=this.props.tree;return"root"!==e.id?r.a.createElement("button",{className:"tree-button","data-element-id":this.props.tree.id,onDragStart:this.dragStart,draggable:"true",onMouseDown:this.selectItem},r.a.createElement("span",{className:"drop-zone","data-element-id":this.props.tree.id,onDragOver:this.dragOver,onDragEnter:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.dropBefore.bind(this)}),e.label,r.a.createElement("span",{className:"drop-zone","data-element-id":this.props.tree.id,onDragOver:this.dragOver,onDragEnter:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.dropAfter.bind(this)})):r.a.createElement("button",{className:"tree-button","data-element-id":this.props.tree.id,onMouseDown:this.selectItem},e.label)}},{key:"render",value:function(){var e=this.props.tree;return r.a.createElement("div",{className:"tree-element ch_"+e.id},this.renderButton(),r.a.createElement("style",{type:"text/css"},"."+e.id+" .ch_"+e.id+"{background-color:#ccc} ."+e.id+" .ch_"+e.id+" .drop-zone{opacity:0 !important;pointer-events:none !important;}"),this.renderChildren())}}]),t}(n.Component)),V=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"leftbar "+(this.props.public.layerDrag?"drag":"")+" "+this.props.pick.elements.map(function(e){return e.id+" "}).join(" ")},r.a.createElement(z,{tree:this.props.tree,path:"",index:"root"}))}}]),t}(n.Component),K=Object(i.b)(function(e){return{tree:e.tree,pick:e.pick,public:e.public}})(V),W=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("input",{type:"number",min:this.props.min,max:this.props.max,step:this.props.step,"data-which":this.props.which,"data-type":"number",value:this.props.value,onChange:this.props.change,disabled:this.props.disabled})}}]),t}(n.Component),G=(a(329),a(193)),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={pickerVisible:!1},a.setColor=function(e){var t=e.rgb,n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";a.props.change({target:{value:n,dataset:{which:a.props.which,type:"string"}}})},a.togglePicker=function(){a.props.disabled||a.setState({pickerVisible:!a.state.pickerVisible})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"input-color"+(this.props.disabled?" disabled":"")},r.a.createElement("div",{className:"input-color__swatch-wrap"},r.a.createElement("div",{className:"input-color__swatch",style:{backgroundColor:this.props.value},onClick:this.togglePicker})),r.a.createElement(G.ChromePicker,{className:this.state.pickerVisible?"visible":"",color:this.props.value,onChangeComplete:this.setColor}),r.a.createElement("div",{className:"input-color__backdrop "+(this.state.pickerVisible?"visible":""),onClick:this.togglePicker}))}}]),t}(n.Component),Y=(a(485),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("input",{className:"input-range "+this.props.className,type:"range",min:this.props.min,max:this.props.max,step:this.props.step,"data-which":this.props.which,"data-type":"number",value:this.props.value,onChange:this.props.change,disabled:this.props.disabled})}}]),t}(n.Component)),X=(a(487),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("select",{className:"input-select "+this.props.className,"data-which":this.props.which,"data-type":"string",value:this.props.value,onChange:this.props.change,disabled:this.props.disabled},this.props.children)}}]),t}(n.Component)),Z=(a(489),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={propName:"",propValue:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"changeProp",value:function(e){var t=e.target,a=t.value,n=t.dataset.prop;this.props.updateValue({target:{value:a,dataset:{which:n,type:isNaN(a)?"string":"number"}}})}},{key:"deleteProp",value:function(e){var t=e.target.dataset.prop;this.props.deleteProp({target:{dataset:{which:t}}})}},{key:"addProp",value:function(e){e.preventDefault(),this.props.addProp({propName:this.state.propName.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),propValue:this.state.propValue}),this.setState({propName:"",propValue:""}),this.refs.propName.focus()}},{key:"definePropKey",value:function(e){this.setState({propName:e.target.value})}},{key:"definePropValue",value:function(e){this.setState({propValue:e.target.value})}},{key:"renderProperties",value:function(){var e=[],t=this.props.elementValues,a={},n=!0,i=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value;Object(v.merge)(a,c)}}catch(h){i=!0,o=h}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}for(var u in a)e.push(r.a.createElement("div",{className:"css-prop",key:u},r.a.createElement("label",{className:"css-prop-label"},u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),r.a.createElement("input",{className:"css-prop-val",type:"text","data-prop":u,value:this.props.getValue(t,u),onChange:this.changeProp.bind(this)}),r.a.createElement("button",{className:"button button-icon material-icons","data-prop":u,onClick:this.deleteProp.bind(this)},"close")));return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"css-nav"},this.renderProperties(),r.a.createElement("form",{className:"css-prop",onSubmit:this.addProp.bind(this)},r.a.createElement("input",{ref:"propName",type:"text",onChange:this.definePropKey.bind(this),value:this.state.propName,placeholder:"Property"}),r.a.createElement("input",{type:"text",onChange:this.definePropValue.bind(this),value:this.state.propValue,placeholder:"Value"}),r.a.createElement("button",{type:"submit",className:"button button-icon material-icons"},"add_circle_outline")))}}]),t}(n.Component)),J=(a(491),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"generateValue",value:function(e){return e.x+"px "+e.y+"px "+e.blur+"px "+e.color}},{key:"changeShadow",value:function(e,t,a){var n=e.target.value;t[a]=n,this.props.change({target:{value:this.generateValue(t),dataset:{which:this.props.what}}})}},{key:"generateProps",value:function(e){if(e){var t=e.split(" ");return{x:parseFloat(t[0].replace("px","")),y:parseFloat(t[1].replace("px","")),blur:parseFloat(t[2].replace("px","")),color:t[3]}}return{x:"0",y:"0",blur:"0",color:"rgba(0,0,0,1)"}}},{key:"render",value:function(){var e=this,t=this.generateProps(this.props.value);return r.a.createElement("div",{className:"shadow-handler"},r.a.createElement(W,{value:t.x,change:function(a){e.changeShadow(a,t,"x")},disabled:this.props.disabled}),r.a.createElement(W,{value:t.y,change:function(a){e.changeShadow(a,t,"y")},disabled:this.props.disabled}),r.a.createElement(W,{value:t.blur,change:function(a){e.changeShadow(a,t,"blur")},min:0,disabled:this.props.disabled}),r.a.createElement(H,{value:t.color,change:function(a){e.changeShadow(a,t,"color")},disabled:this.props.disabled}))}}]),t}(n.Component)),$=(a(493),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(e,t){console.log(t);var a=e.target.dataset.what,n=Object(v.merge)({},t);n[a].on=!n[a].on,this.zap(n)}},{key:"generateValue",value:function(e){var t="";for(var a in e)e[a].on&&(t+=a+"("+e[a].value+e[a].appendix+") ");return t.trim()}},{key:"zap",value:function(e){var t=this.generateValue(e);this.props.change({target:{value:t,dataset:{which:"filter"}}})}},{key:"updateFilter",value:function(e,t){var a=e.target.value,n=Object(v.merge)({},t);n[e.target.dataset.which].value=a,this.zap(n)}},{key:"formatProps",value:function(e){var t={"drop-shadow":{on:!1,value:"0px 0px 0px rgba(0,0,0,1)",appendix:""},blur:{on:!1,value:0,appendix:"px"},brightness:{on:!1,value:100,appendix:"%"},contrast:{on:!1,value:100,appendix:"%"},grayscale:{on:!1,value:0,appendix:"%"},"hue-rotate":{on:!1,value:0,appendix:"deg"},invert:{on:!1,value:0,appendix:"%"},saturate:{on:!1,value:100,appendix:"%"},sepia:{on:!1,value:0,appendix:"%"}};if(e){var a=e.split(")").filter(function(e){return""!==e}),n=!0,r=!1,i=void 0;try{for(var o,l=a[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value.split("("),c=s[0].trim(),u=s[1];if("drop-shadow"!==c){var h=u.replace(/\D+/g,""),p=u.replace(h,"");t[c]={on:!0,value:parseFloat(h),appendix:p}}else t[c]={on:!0,value:s.length>2?s[1]+"("+s[2]+")":s[1],appendix:""}}}catch(d){r=!0,i=d}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}}return t}},{key:"render",value:function(){var e=this,t=this.formatProps(this.props.value);return r.a.createElement("div",{className:"filters"},r.a.createElement("div",{className:"sidebar__grid"},r.a.createElement("input",{type:"checkbox","data-props":t,"data-what":"drop-shadow",onChange:function(a){e.toggle(a,t)},checked:t["drop-shadow"].on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Drop Shadow"),r.a.createElement("div",{className:"span-3"},r.a.createElement(J,{what:"drop-shadow",disabled:t["drop-shadow"].on?"":"disabled",value:t["drop-shadow"].value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"blur",onChange:function(a){e.toggle(a,t)},checked:t.blur.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Blur"),r.a.createElement("div",{className:"span-3"},r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.blur.on?"":"disabled",min:0,step:1,which:"blur",value:t.blur.value,change:function(a){e.updateFilter(a,t)}}))),r.a.createElement("input",{type:"checkbox","data-what":"brightness",onChange:function(a){e.toggle(a,t)},checked:t.brightness.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Brightness"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.brightness.on?"":"disabled",min:0,step:1,which:"brightness",value:t.brightness.value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"contrast",onChange:function(a){e.toggle(a,t)},checked:t.contrast.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Contrast"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.contrast.on?"":"disabled",min:0,step:1,which:"contrast",value:t.contrast.value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"hue-rotate",onChange:function(a){e.toggle(a,t)},checked:t["hue-rotate"].on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Hue"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t["hue-rotate"].on?"":"disabled",min:0,max:360,step:"any",which:"hue-rotate",value:t["hue-rotate"].value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"saturate",onChange:function(a){e.toggle(a,t)},checked:t.saturate.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Saturation"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.saturate.on?"":"disabled",min:0,step:1,which:"saturate",value:t.saturate.value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"invert",onChange:function(a){e.toggle(a,t)},checked:t.invert.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Invert"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.invert.on?"":"disabled",min:0,max:100,step:"any",which:"invert",value:t.invert.value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"grayscale",onChange:function(a){e.toggle(a,t)},checked:t.grayscale.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Grayscale"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.grayscale.on?"":"disabled",min:0,max:100,step:"any",which:"grayscale",value:t.grayscale.value,change:function(a){e.updateFilter(a,t)}})),r.a.createElement("input",{type:"checkbox","data-what":"sepia",onChange:function(a){e.toggle(a,t)},checked:t.sepia.on}),r.a.createElement("label",{className:"span-2 text-left js-start"},"Sepia"),r.a.createElement("div",{className:"span-3"},r.a.createElement(W,{disabled:t.sepia.on?"":"disabled",min:0,max:100,step:"any",which:"sepia",value:t.sepia.value,change:function(a){e.updateFilter(a,t)}}))))}}]),t}(n.Component)),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={filtersCollapsed:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"elementValues",value:function(){var e=this.props.pick.elements;if(0===e.length){var t=this.props.tree,a=t.currentState;return[t.states[a].style]}var n=[],r=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value.id,u=B.a.getElementDataById(this.props.tree.children,c),h=u.currentState,p=u.states[h].style;n.push(p)}}catch(d){i=!0,o=d}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"elementTypes",value:function(){var e=this.props.pick.elements;if(0===e.length)return this.props.tree.type;var t=null,a=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value,s=B.a.getElementDataById(this.props.tree.children,l.id);if(t){if(t!==s.type)return"mixed"}else t=s.type}}catch(c){n=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"shouldComponentUpdate",value:function(){return"selection"===this.props.tools.current}},{key:"getValue",value:function(e,t){if(!(e.length<2)){var a,n=e[0];n&&void 0!==n[t]&&(a=n[t]);for(var r=1;r<e.length;r++)if(!(n=e[r])||void 0===n[t]||n[t]!==a)return"";return a}var i=e[0];return i&&void 0!==i[t]?i[t]:""}},{key:"updateValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.pick.elements,n=Object(v.merge)({},this.props.tree),r=e.target,i=r.dataset.which,o=t||function(e,t){switch(t){case"number":return parseFloat(e);default:return e}}(r.value,r.dataset.type);if(0===a.length){var l=n,s=l.currentState;l.states[s].style[i]=o}else{var c=!0,u=!1,h=void 0;try{for(var p,d=a[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var m=p.value.id,f=B.a.getElementDataById(n.children,m),y=f.currentState;f.states[y].style[i]=o}}catch(b){u=!0,h=b}finally{try{c||null==d.return||d.return()}finally{if(u)throw h}}}w.a.dispatch({type:"TREE_FULL",val:n})}},{key:"deleteProp",value:function(e){var t=this.props.pick.elements,a=Object(v.merge)({},this.props.tree),n=e.target.dataset.which;if(t.length>0){var r=t[0].id,i=B.a.getElementDataById(a.children,r),o=i.currentState;delete i.states[o].style[n]}w.a.dispatch({type:"TREE_FULL",val:a})}},{key:"addProp",value:function(e){var t,a=this.props.pick.elements,n=Object(v.merge)({},this.props.tree);if(a.length>0){var r=a[0].id;t=B.a.getElementDataById(n.children,r)}else 0===a.length&&(t=n);var i=t.currentState;t.states[i].style[e.propName]=e.propValue,w.a.dispatch({type:"TREE_FULL",val:n})}},{key:"rotateFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rotate(0deg)";return parseInt(e.split("(")[1].split("deg")[0],10)}},{key:"rotateChange",value:function(e){e.persist(),this.updateValue(e,"rotate(Xdeg)".replace("X",e.target.value))}},{key:"render",value:function(){var e=this,t=this.elementValues(),a=this.elementTypes(),n=this.props.pick.elements.length;return r.a.createElement("div",{className:"sidebar__sub sidebar__properties"},r.a.createElement("div",{className:"sidebar-easy"},r.a.createElement("div",{className:"sidebar__group"},r.a.createElement("h3",null,"Dimensions"),r.a.createElement("div",{className:"sidebar__grid"},r.a.createElement("label",null,"X"),r.a.createElement(W,{disabled:n<1?"disabled":"",which:"left",value:this.getValue(t,"left"),change:this.updateValue.bind(this)}),r.a.createElement("label",{title:"Width"},"W"),r.a.createElement(W,{min:0,which:"width",value:this.getValue(t,"width"),change:this.updateValue.bind(this)}),r.a.createElement("label",{title:"Rotation",className:"flex-static"},r.a.createElement("i",{className:"material-icons"},"rotate_left")),r.a.createElement(W,{which:"transform",disabled:n<1?"disabled":"",value:this.rotateFunc(this.getValue(t,"transform")),change:this.rotateChange.bind(this)}),r.a.createElement("label",null,"Y"),r.a.createElement(W,{disabled:n<1?"disabled":"",which:"top",value:this.getValue(t,"top"),change:this.updateValue.bind(this)}),r.a.createElement("label",{title:"Height"},"H"),r.a.createElement(W,{min:0,which:"height",value:this.getValue(t,"height"),change:this.updateValue.bind(this)}),r.a.createElement("label",{title:"Border Radius",className:"flex-static"},r.a.createElement("i",{className:"material-icons"},"rounded_corner")),r.a.createElement(W,{min:0,which:"borderRadius",disabled:n<1?"disabled":"",value:this.getValue(t,"borderRadius"),change:this.updateValue.bind(this)}))),r.a.createElement("div",{className:"sidebar__group"},r.a.createElement("h3",null,"Blending"),r.a.createElement("div",{className:"sidebar__grid"},r.a.createElement("label",{title:"Opacity"},r.a.createElement("i",{className:"material-icons"},"opacity")),r.a.createElement(Y,{className:"span-4",disabled:n<1?"disabled":"",min:0,max:1,step:.01,which:"opacity",value:this.getValue(t,"opacity"),change:this.updateValue.bind(this)}),r.a.createElement(W,{disabled:n<1?"disabled":"",min:0,max:1,step:.01,which:"opacity",value:this.getValue(t,"opacity"),change:this.updateValue.bind(this)}),r.a.createElement("label",{title:"Blend Mode"},r.a.createElement("i",{className:"material-icons"},"filter")),r.a.createElement(X,{className:"span-5",disabled:n<1?"disabled":"",which:"mixBlendMode",value:this.getValue(t,"mixBlendMode"),change:this.updateValue.bind(this)},r.a.createElement("optgroup",null,r.a.createElement("option",{value:"normal"},"Normal")),r.a.createElement("optgroup",null,r.a.createElement("option",{value:"darken"},"Darken"),r.a.createElement("option",{value:"multiply"},"Multiply"),r.a.createElement("option",{value:"color-burn"},"Color Burn")),r.a.createElement("optgroup",null,r.a.createElement("option",{value:"lighten"},"Lighten"),r.a.createElement("option",{value:"screen"},"Screen"),r.a.createElement("option",{value:"color-dodge"},"Color Dodge")),r.a.createElement("optgroup",null,r.a.createElement("option",{value:"overlay"},"Overlay"),r.a.createElement("option",{value:"soft-light"},"Soft Light"),r.a.createElement("option",{value:"hard-light"},"Hard Light")),r.a.createElement("optgroup",null,r.a.createElement("option",{value:"difference"},"Difference"),r.a.createElement("option",{value:"exclusion"},"Exclusion")),r.a.createElement("optgroup",null,r.a.createElement("option",{value:"hue"},"Hue"),r.a.createElement("option",{value:"saturation"},"Saturation"),r.a.createElement("option",{value:"color"},"Color"),r.a.createElement("option",{value:"luminosity"},"Luminosity"))))),r.a.createElement("div",{className:"sidebar__group"+("mixed"!==a&&"group"!==a?"":" hidden")},r.a.createElement("h3",null,"Color"),r.a.createElement("div",{className:"sidebar__grid"},r.a.createElement("label",{title:"Fill Style"},r.a.createElement("i",{className:"material-icons"},"format_color_fill")),r.a.createElement(H,{which:"backgroundColor",value:this.getValue(t,"backgroundColor"),change:this.updateValue.bind(this)}))),r.a.createElement("div",{className:"sidebar__group"+("mixed"!==a&&"group"!==a?"":" hidden")},r.a.createElement("h3",null,"Border"),r.a.createElement("div",{className:"sidebar__grid"},r.a.createElement("label",{title:"Border Style"},r.a.createElement("i",{className:"material-icons"},"border_style")),r.a.createElement(H,{disabled:n<1?"disabled":"",which:"borderColor",value:this.getValue(t,"borderColor"),change:this.updateValue.bind(this)}),r.a.createElement(X,{className:"span-3",disabled:n<1?"disabled":"",which:"borderStyle",value:this.getValue(t,"borderStyle"),change:this.updateValue.bind(this)},r.a.createElement("optgroup",null,r.a.createElement("option",{value:"none"},"None")),r.a.createElement("optgroup",null,r.a.createElement("option",{value:"solid"},"Solid"),r.a.createElement("option",{value:"dashed"},"Dashed"),r.a.createElement("option",{value:"dotted"},"Dotted"),r.a.createElement("option",{value:"double"},"Double"),r.a.createElement("option",{value:"groove"},"Groove"),r.a.createElement("option",{value:"ridge"},"Ridge"),r.a.createElement("option",{value:"inset"},"Inset"),r.a.createElement("option",{value:"outset"},"Outset"))),r.a.createElement(W,{disabled:n<1?"disabled":"",min:0,which:"borderWidth",value:this.getValue(t,"borderWidth"),change:this.updateValue.bind(this)}))),r.a.createElement("div",{className:"sidebar__group"+(this.state.filtersCollapsed?" collapsed":"")+("artboard"!==a?"":" hidden")},r.a.createElement("h3",null,"Filters ",r.a.createElement("button",{className:"collapse",onClick:function(){e.setState({filtersCollapsed:!e.state.filtersCollapsed})}},r.a.createElement("i",{className:"material-icons dd"},"arrow_drop_down"),r.a.createElement("i",{className:"material-icons du"},"arrow_drop_up"))),r.a.createElement($,{disabled:n<1?"disabled":"",elements:this.props.pick.elements,which:"filter",value:this.getValue(t,"filter"),change:this.updateValue.bind(this)}))),r.a.createElement("div",{className:"sidebar-geek"},r.a.createElement("div",{className:"sidebar__group"},r.a.createElement("h3",null,"Advanced ",r.a.createElement("span",{className:"tip"},"(It's just CSS)")),r.a.createElement(Z,{addProp:this.addProp.bind(this),deleteProp:this.deleteProp.bind(this),elementValues:t,getValue:this.getValue.bind(this),updateValue:this.updateValue.bind(this)}))))}}]),t}(n.Component),Q=Object(i.b)(function(e){return{pick:e.pick,tree:e.tree,tools:e.tools}})(q),ee=(a(495),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={geekMode:!1,activeTab:"properties"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"switchMode",value:function(){this.setState({geekMode:!this.state.geekMode})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidebar "+this.state.activeTab+(this.state.geekMode?" geek-mode":"")},r.a.createElement("div",{className:"sidebar__tabs"},r.a.createElement("button",{className:"sidebar__tab active"},"Properties ",r.a.createElement("span",{className:"geek-mode-switch material-icons",title:"Geek Mode",onClick:function(){e.setState({geekMode:!e.state.geekMode})}},"code"))),r.a.createElement("div",{className:"sidebar__gap"}),r.a.createElement(Q,null))}}]),t}(n.Component)),te=(a(497),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"renderArtboards",value:function(){return[this.props.tree].map(function(e,t){return r.a.createElement(R,{key:t,tree:e})})}},{key:"updateTree",value:function(e,t,a){var n=null;try{n=JSON.parse(a)}catch(r){console.log("oops",r)}n&&w.a.dispatch({type:"TREE_FULL",val:n})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props.library.classes,t=T.getStylesheet("dynamicStylesheet");t&&T.initializeSheet(t,e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrap"},r.a.createElement("style",{id:"dynamicStylesheet",type:"text/css"}),r.a.createElement(U,null),r.a.createElement("div",{className:"main "+this.props.tools.current+" "+this.props.workarea.elementClass.join(" ")},r.a.createElement(P,null),r.a.createElement(K,null),r.a.createElement(N,null,this.renderArtboards()),r.a.createElement(ee,null)))}}]),t}(n.Component)),ae=Object(i.b)(function(e){return{tree:e.tree,library:e.library,tools:e.tools,workarea:e.workarea}})(te);a(499);window.Atlas=function(){return{setTree:function(e){w.a.dispatch({type:"TREE_FULL",val:e})},addMenuItem:function(e){w.a.dispatch({})}}};s.a.render(r.a.createElement(i.a,{store:w.a},r.a.createElement(o.b,{history:o.c},r.a.createElement(o.a,{path:"/",component:ae}))),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",function(){var e="".concat("","/service-worker.js");navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})})},502:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(4),i=a(5),o=a(8),l=a(6),s=a(7),c=a(0),u=a.n(c),h=a(18),p=a(2),d=a(35),m=a(3),v=[{name:"print",icon:"preset-print",default:7,layouts:[{name:"4a0",unit:"mm",width:1682,height:2378},{name:"2a0",unit:"mm",width:1189,height:1682},{name:"a0",unit:"mm",width:841,height:1189},{name:"a1",unit:"mm",width:594,height:841},{name:"a2",unit:"mm",width:420,height:594},{name:"a2",unit:"mm",width:420,height:594},{name:"a3",unit:"mm",width:297,height:420},{name:"a4",unit:"mm",width:210,height:297},{name:"a5",unit:"mm",width:148,height:210},{name:"a6",unit:"mm",width:105,height:148},{name:"a7",unit:"mm",width:74,height:105},{name:"a8",unit:"mm",width:52,height:74},{name:"a9",unit:"mm",width:37,height:52},{name:"a10",unit:"mm",width:26,height:37},{name:"us-letter-portrait",unit:"in",width:8.5,height:11},{name:"us-letter-landscape",unit:"in",width:11,height:8.5},{name:"business-card",unit:"mm",width:85,height:55},{name:"flyer",unit:"in",width:5,height:7},{name:"postcard",unit:"mm",width:148,height:105}]},{name:"text.web",icon:"preset-web",layouts:[{name:"blog-cover",unit:"px",width:560,height:315},{name:"blog-graphic",unit:"px",width:800,height:1200},{name:"website-small",unit:"px",width:1024,height:768},{name:"website-normal",unit:"px",width:1280,height:800},{name:"website-medium",unit:"px",width:1366,height:768},{name:"website-large",unit:"px",width:1440,height:900},{name:"website-huge",unit:"px",width:1920,height:1280},{name:"full-website",unit:"px",width:1440,height:3072}]},{name:"social",icon:"preset-social",layouts:[{name:"facebook-cover",unit:"px",width:851,height:315},{name:"twitter-cover",unit:"px",width:1500,height:500},{name:"youtube-cover",unit:"px",width:2560,height:1440},{name:"google-cover",unit:"px",width:1080,height:608},{name:"linkedin-cover",unit:"px",width:1440,height:425},{name:"twitch-cover",unit:"px",width:900,height:480},{name:"twitter-post",unit:"px",width:1024,height:512},{name:"facebook-post",unit:"px",width:940,height:788},{name:"facebook-app",unit:"px",width:810,height:450},{name:"facebook-ad",unit:"px",width:1200,height:627},{name:"instagram-post",unit:"px",width:1080,height:1080},{name:"tumblr-graphic",unit:"px",width:540,height:810},{name:"pinterest-pin",unit:"px",width:735,height:600},{name:"twitch-video",unit:"px",width:1206,height:708},{name:"linkedin-banner",unit:"px",width:646,height:220}]},{name:"screen",icon:"preset-screen",layouts:[{name:"iPhone X",unit:"px",width:375,height:812},{name:"iPhone 8 Plus",unit:"px",width:414,height:736},{name:"iPhone 8",unit:"px",width:375,height:667},{name:"iPhone SE",unit:"px",width:320,height:568},{name:"Nexus 5",unit:"px",width:360,height:640},{name:"Apple Watch 38mm",unit:"px",width:272,height:340},{section:"55f6e10de679477c7bca92c4",name:"Apple Watch 42mm",unit:"px",width:312,height:390}]},{name:"screen",icon:"preset-tablet",layouts:[{name:"iPad 3/4/Air/Mini",unit:"px",width:768,height:1024},{name:"iPad Pro 12.9in",unit:"px",width:1024,height:1366},{name:"Nexus 7",unit:"px",width:600,height:960},{name:"Nexus 9",unit:"px",width:1024,height:768},{name:"Nexus 10",unit:"px",width:1280,height:800},{name:"Surface Pro 3",unit:"px",width:1440,height:960},{name:"Surface Pro 4",unit:"px",width:1368,height:912}]}];a(316);a.d(t,"MenuItem",function(){return f}),a.d(t,"DumbMenuHelper",function(){return y}),a.d(t,"MenuHelper",function(){return b});var f=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"newFile",value:function(){m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNewVisible",value:!0})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("button",{className:"menu__dropdown-item",onClick:this.newFile},"New"))}}]),t}(c.Component),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).defaultData={width:240,height:360},a.setWidth=function(e){var t=Object(p.merge)({},this.props.menu.helperData.menuFileNew);t.width=e.target.value,m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNew",value:t})}.bind(Object(n.a)(Object(n.a)(a))),a.setHeight=function(e){var t=Object(p.merge)({},this.props.menu.helperData.menuFileNew);t.height=e.target.value,m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNew",value:t})}.bind(Object(n.a)(Object(n.a)(a))),a.setLayout=function(e){var t=Object(p.merge)({},this.props.menu.helperData.menuFileNew),a=e.target.value.split("x");t.width=parseInt(a[0],10),t.height=parseInt(a[1],10),m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNew",value:t})}.bind(Object(n.a)(Object(n.a)(a))),a.createNewFile=function(){var e=this.props.menu.helperData.menuFileNew,t=Object(p.merge)({},d.a);t.states[0].style.width=e.width,t.states[0].style.height=e.height,m.a.dispatch({type:"TREE_FULL",val:t}),m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNewVisible",value:!1})}.bind(Object(n.a)(Object(n.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNew",value:this.defaultData}),m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNewVisible",value:!1})}},{key:"cancel",value:function(){m.a.dispatch({type:"MENU_ADD_HELPER",key:"menuFileNewVisible",value:!1})}},{key:"renderLayouts",value:function(){return v.map(function(e,t){return u.a.createElement("optgroup",{key:t,label:e.name},e.layouts.map(function(e,t){return u.a.createElement("option",{key:t,value:e.width+"x"+e.height},e.name," - (",e.width,"x",e.height,")",e.unit)}))})}},{key:"render",value:function(){var e=this.props.menu.helperData.menuFileNew?this.props.menu.helperData.menuFileNew:this.defaultData,t=this.props.menu.helperData.menuFileNewVisible;return u.a.createElement("div",{className:t?"nfo visible":"nfo"},u.a.createElement("div",{className:"nfo__backdrop"}),u.a.createElement("div",{className:"nfo__layer"},u.a.createElement("div",null,u.a.createElement("label",null,"Predefined Layout"),u.a.createElement("select",{onChange:this.setLayout},this.renderLayouts())),u.a.createElement("div",null,u.a.createElement("label",null,"Width"),u.a.createElement("input",{type:"number",onChange:this.setWidth,value:e.width}),"px"),u.a.createElement("div",null,u.a.createElement("label",null,"Height"),u.a.createElement("input",{type:"number",onChange:this.setHeight,value:e.height}),"px"),u.a.createElement("div",null,u.a.createElement("button",{onClick:this.cancel},"Cancel")," ",u.a.createElement("button",{onClick:this.createNewFile},"Go"))))}}]),t}(c.Component),b=Object(h.b)(function(e){return{menu:e.menu}})(y)}},[[195,2,1]]]);
//# sourceMappingURL=main.dd7371aa.chunk.js.map