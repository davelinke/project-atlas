{"version":3,"sources":["factories/Tree.js","components/MenuBar/SingleComponents sync /^/.//.*//$","factories/ObjectTools.js","reducers/historyReducer.js","reducers/keyboardReducer.js","factories/Keyboard.js","reducers/mouseReducer.js","reducers/libraryReducer.js","reducers/todosReducer.js","factories/ToolData.js","reducers/toolsReducer.js","toolset/index.js","toolset/selection.js","toolset/box.js","toolset/zoom.js","toolset/pan.js","reducers/treeReducer.js","reducers/undosReducer.js","reducers/workareaReducer.js","reducers/screenReducer.js","reducers/pickReducer.js","reducers/menuReducer.js","structures/Menu.js","reducers/publicReducer.js","store.js","components/MenuBar/SingleComponents/ObjectDelete/index.js","components/MenuBar/SingleComponents/ObjectGroup/index.js","components/MenuBar/SingleComponents/ObjectUnGroup/index.js","components/MenuBar/SingleComponents/WorkspaceSnapToGrid/index.js","structures/Element.js","factories/Pick.js","factories/FilterTools.js","factories/CoordFilters.js","components/InputLogger/index.js","components/Workarea/index.js","components/Element/index.js","components/Artboard/index.js","factories/Css.js","components/ToolbarButton/index.js","components/Toolbar/index.js","components/MenuBar/index.js","components/LeftBar/index.js","components/Inputs/InputNumeric/index.js","components/Inputs/InputColor/index.js","components/Inputs/InputRange/index.js","components/Inputs/InputSelect/index.js","components/CssNavigator/index.js","components/ShadowHandler/index.js","components/FilterComposer/index.js","components/ElementsSidebarProperties/index.js","components/ElementsSidebar/index.js","components/App/index.js","index.js","registerServiceWorker.js","components/MenuBar/SingleComponents/MenuFileNew/PredefinedLayouts.js","components/MenuBar/SingleComponents/MenuFileNew/index.js"],"names":["_structures_Element__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","lodash__WEBPACK_IMPORTED_MODULE_1__","TreeFactory","InsertElements","where","id","elements","position","arguments","length","undefined","searchTree","so","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","io","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","element","splice","indexOf","err","return","c","children","InsertElementsAfter","this","InsertElementsBefore","getElementIndex","j","getParentArray","getParentElementById","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","sub","getElementGlobalPosition","coords","left","top","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","states","currentState","style","getElementDataById","target","removeElementById","nuWhere","merge","filterChildren","spliceElementById","makeId","text","possible","i","charAt","Math","floor","random","Date","getTime","generateElement","label","type","baseStyle","Style","baseState","State","Element","newLayerName","checkLayerName","name","pre","data","finalname","map","./MenuFileNew/","./ObjectDelete/","./ObjectGroup/","./ObjectUnGroup/","./WorkspaceSnapToGrid/","webpackContext","req","webpackContextResolve","e","Error","code","keys","Object","resolve","module","exports","__webpack_exports__","getElementPosition","key","val","arr","objectAvailableByKey","defaultState","prev","tree","historyReducer","state","action","shift","set","86","keydown","ctrlKey","store","dispatch","keyup","event","82","90","18","getState","tools","current","32","pan","cursor","initialize","lastTool","public","destroy","keyboardReducer","x","y","up","down","offset","offsetUp","offsetDown","dragDelta","mouseDownEvent","longPressTimeout","isDown","doubleTouch","mouseEvent","mouseReducer","classes","backgroundImage","backgroundSize","backgroundPosition","borderWidth","borderStyle","borderColor","libraryReducer","todos","newTodoLabel","todosReducer","concat","nooDoos","slice","index","ToolData","tool","Store","flags","selection","iconClass","iconString","mousedown","args","mouseButton","button","elementId","dataset","addKey","shiftKey","move","resize","PickHelpers","addElementToPick","pick","areaWindow","curAreaWindow","document","createElement","setAttribute","border","pointerEvents","boxSizing","getElementById","appendChild","mouse","opacity","width","height","mousemove","delta","nuTree","ess","artboardDimensions","aVal","bottom","right","nextPick","eS","check","x1","x2","y1","y2","isInArea","initialPick","ObjectTools","pickObject","push","pickElement","currentElement","TreeHelpers","resizeDir","nextWidth","nextHeight","mouseup","box","newElement","treeHelpers","newTree","preventDefault","stopPropagation","elementIndex","zoom","zoomInstance","nextZoom","altKey","zoomTo","clientX","clientY","setPanButton","toolsReducer","nuState","Artboard","treeReducer","active","undosReducer","snapToGrid","gridSize","elementClass","rootElement","workareaReducer","scroll","screenReducer","pickReducer","nspa","removalPosition","menus","file","visible","items","new","tag","object","delete","group","ungroup","workspace","helperData","menuReducer","mahState","merger","nuPublic","combinedReducers","combineReducers","main","workarea","keyboard","library","undos","history","screen","menu","publicReducer","createStore","DumbMenuItem","_Component","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","props","_this","46","react__WEBPACK_IMPORTED_MODULE_5___default","a","ref","className","onClick","bind","disabled","Component","MenuItem","connect","e0","x0","y0","groupDims","groupStyle","backgroundColor","fullElement","71","metaKey","nuPick","_loop","elementData","groupIndex","child","childState","filter","po","85","d","color","transform","mixBlendMode","locked","actions","borderRadius","_factories_Tree__WEBPACK_IMPORTED_MODULE_0__","_factories_ObjectTools__WEBPACK_IMPORTED_MODULE_1__","_store__WEBPACK_IMPORTED_MODULE_2__","add","elementObject","remove","clear","isInPick","elementState","stateStyle","FilterTools","num","multiple","round","CoordFilters","wc","finalCoords","lower","dd","angle","atan2","PI","abs","InputLogger","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","mouseDown","logEvent","xy","persist","eType","pageX","pageY","mouseDownFunction","mouseUpFunction","console","log","registerMouseEventType","eventReceptorFunction","theEvent","assertThisInitialized","logMove","il","refs","inputLogger","originalEvent","touches","scrollLeft","scrollTop","mouseMoveFunction","zoomFn","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","detail","scale","stop","_x","panFn","transformFn","window","dispatchEvent","Event","nextProps","prevProps","smoothScroll","panButton","zoomDoubleClickSpeed","transformOrigin","z","addEventListener","removeEventListener","react_default","onMouseDown","onMouseUp","onMouseMove","Workarea","toolFn","currentPick","initialStates","xyo","filterFunction","activeElement","blur","components_InputLogger","SmartWorkarea","specs","classArray","join","data-id","data-resize","data-move","root","zeOffset","el","rect","getBoundingClientRect","storeDimensions","updateDimensions","getClassString","objectSpread","renderTools","renderChildren","components_Element","SmartArtboard","Css","objectToCss","obj","marginLeft","paddingLeft","cssString","prop","hasOwnProperty","replace","toLowerCase","getStylesheet","styleSheets","ownerNode","insertRule","styleSheet","classObject","ruleContents","rule","cssRules","emptystyleSheet","deleteRule","initializeSheet","ToolbarButton","toolName","toolIcon","renderIcon","activateTool","theClass","currentTool","Toolbar","theTool","toolArray","components_ToolbarButton","SmartToolbar","MenuSub","ddData","output","item","require","_Component2","showMenu","buildMenuDropdown","MenuBar","entries","MenuHelper","_Component4","keyCode","listenToKeydown","listenToKeyup","MenuBar_MenuSub","renderMenuHelpers","SmartMenuBar","Tree","treeId","findTree","returnArray","path","classList","before","targetId","targetElementParent","transferArray","elementSource","parentGlobalPosition","transfer","targetParentGlobalPosition","drop","data-element-id","onDragStart","dragStart","draggable","selectItem","onDragOver","dragOver","onDragEnter","dragEnter","onDragLeave","dragLeave","onDrop","dropBefore","dropAfter","renderButton","LeftBar","layerDrag","LeftBar_Tree","SmartLeftBar","InputNumeric","min","max","step","data-which","which","data-type","onChange","change","InputColor","pickerVisible","setColor","rgb","colorString","r","g","b","togglePicker","setState","lib","onChangeComplete","InputRange","InputSelect","CssNavigator","propName","propValue","elmt","updateValue","isNaN","deleteProp","addProp","toUpperCase","focus","styles","elementValues","propObject","data-prop","getValue","changeProp","renderProperties","onSubmit","definePropKey","placeholder","definePropValue","ShadowHandler","generateValue","what","pa","split","parseFloat","sProps","generateProps","Inputs_InputNumeric","changeShadow","Inputs_InputColor","FilterComposer","on","zap","appendix","trim","textValue","drop-shadow","brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","effectsArray","effectPieces","effectName","effectVal","effectNumericVal","effectUnit","fProps","formatProps","data-props","data-what","toggle","checked","components_ShadowHandler","updateFilter","ElementsSidebarProperties","filtersCollapsed","outputType","altValue","zeInput","zeValue","dataType","str","parseInt","_this2","elementTypes","pickLength","title","rotateFunc","rotateChange","Inputs_InputRange","Inputs_InputSelect","components_FilterComposer","components_CssNavigator","SmartElementsSidebarProperties","ElementsSidebar","geekMode","activeTab","components_ElementsSidebarProperties","App","components_Artboard","editor","ob","JSON","parse","cssTools","components_MenuBar","components_Toolbar","components_LeftBar","components_Workarea","renderArtboards","components_ElementsSidebar","SmartApp","Atlas","setTree","addMenuItem","menuItem","ReactDOM","render","es","react_router_es","browserHistory","component","navigator","swUrl","process","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","PredefinedLayouts","icon","default","layouts","unit","section","inherits","createClass","newFile","DumbMenuHelper","defaultData","setWidth","nuData","menuFileNew","setHeight","setLayout","wha","createNewFile","size","lo","selfData","menuFileNewVisible","renderLayouts","cancel"],"mappings":"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","file":"static/js/main.58c1ab07.chunk.js","sourcesContent":["import { Style, State, Element } from '../structures/Element';\nimport { merge } from 'lodash';\nconst TreeFactory = {\n    InsertElements:function(where,id,elements,position = 0){\n        let searchTree = function(so){\n            for (let io of so){\n                if (io.id===id){\n                    for (let element of elements) {\n                        so.splice((so.indexOf(io)+position),0,element);\n                    }\n                    return where;\n                } else {\n                    \n                    let c = searchTree(io.children);\n                    if (c) return c;\n                }\n            }\n            return false;\n        };\n        return searchTree(where.children);\n    },\n    InsertElementsAfter:function(where,id,elements){\n        return this.InsertElements(where,id,elements,0);\n    },\n    InsertElementsBefore:function(where,id,elements){\n        return this.InsertElements(where,id,elements,1);\n    },\n    getElementIndex:function(where,id){\n        for (var j=0;j<where.length; j++) {\n            var io = where[j];\n            if (io.id===id){\n                return j;\n            }\n        }\n        return false;\n    },\n    getParentArray:function(where,id){\n        let searchTree = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    return so;\n                } else {\n                    var c = searchTree(io.children);\n                    if ((io.children.length > 0) && (c)) return c;\n                }\n            }\n            return false;\n        };\n        return searchTree(where);\n    },\n    getParentElementById:function(where,id){\n        for (let io of where.children) {\n            if (io.id===id){\n                return where;\n            } else {\n                let sub = this.getParentElementById(io,id);\n                if (sub) return sub;\n            }\n        }\n        return false;\n    },\n    getElementGlobalPosition:function(where, id){\n        let coords = {\n            left:0,\n            top:0\n        }\n        if (id==='root'){\n            return coords;\n        }\n        let searchTree = function(so,id){\n            for (let io of so.children) {\n                coords.left += io.states[io.currentState].style.left;\n                coords.top += io.states[io.currentState].style.top;\n\n                if (io.id===id){\n                    return coords;\n                } else {\n                    searchTree(io,id);\n                }\n                coords.left -= io.states[io.currentState].style.left;\n                coords.top -= io.states[io.currentState].style.top;\n            }\n            return coords;\n        };\n        return searchTree(where,id);\n    },\n    getElementDataById:function(where,id){\n        let target = where;\n        if (target.children!== undefined){\n            if (target.id===id) return target;\n            target = target.children;\n        }\n\n        let searchTree = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    return io;\n                } else {\n                    var c = searchTree(io.children);\n                    if ((io.children.length > 0) && (c)) return c;\n                }\n            }\n            return false;\n        };\n        return searchTree(target);\n    },\n    removeElementById:function(where,id){\n        let nuWhere = merge({},where);\n        let filterChildren = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    so.splice(j,1);\n                    break;\n                } else {\n                    so[j].children = filterChildren(so[j].children);\n                }\n            }\n            return so;\n        };\n        nuWhere.children = filterChildren(nuWhere.children);\n        return nuWhere;\n    },\n    spliceElementById:function(where,id){\n        let filterChildren = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    return so.splice(j,1);\n                } else {\n                    var c = filterChildren(io.children);\n                    if ((io.children.length > 0) && (c)) return c;\n                }\n            }\n            return false;\n        };\n        return filterChildren(where.children);\n    },\n    makeId:function(){\n        var text = \"\";\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n        for (var i = 0; i < 5; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\n        text+= '_'+new Date().getTime();\n        return text;\n    },\n    generateElement:function(where,label,type,style){\n        let baseStyle = merge({},Style,style);\n        let baseState = merge({},State,{\n            id:this.makeId(),\n            style:baseStyle\n        });\n        let baseElement = merge({},Element,{\n            id:this.makeId(),\n            type:type,\n            label:this.newLayerName(label,where),\n            states:[baseState]\n        });\n        return baseElement;\n    },\n    checkLayerName:function(name,so){\n        for (var j=0;j<so.length; j++) {\n            var io = so[j];\n            if (io.label===name){\n                return true;\n            } else {\n                if ((io.children.length > 0) && (this.checkLayerName(name,io.children))) return true;\n            }\n        }\n        return false;\n    },\n    newLayerName:function(pre, data){\n        var\n            i = 1,\n            finalname\n        ;\n        while (i) {\n            finalname = pre + ' ' + i;\n            if (!this.checkLayerName(finalname,data)) return finalname;\n            i++;\n        }\n    }\n};\n\nexport default TreeFactory;\n","var map = {\n\t\"./MenuFileNew/\": 505,\n\t\"./ObjectDelete/\": 318,\n\t\"./ObjectGroup/\": 321,\n\t\"./ObjectUnGroup/\": 324,\n\t\"./WorkspaceSnapToGrid/\": 327\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 146;","export default {\n    getElementPosition:function(key,val,arr){\n        for (let i=0;i<arr.length;i++){\n            if (arr[i][key]===val) return i;\n        }\n        return false;\n    },\n    objectAvailableByKey:function(key,val,arr){\n        for (let item of arr){\n            if (item[key]===val) return true;\n        }\n        return false;\n    }\n}\n","import {merge} from 'lodash';\nconst defaultState = {\n    prev:{\n        tree:{}\n    }\n};\n\nconst historyReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n     case 'HISTORY_ADD':\n        return merge({},state,action.val);\n    default:\n        return state;\n  }\n};\n\nexport default historyReducer;\n","import {merge} from 'lodash';\nimport Keys from '../factories/Keyboard';\nconst defaultState = {\n    shift:false,\n    set:Keys\n};\nconst keyboardReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'KEYBOARD_SHIFT':\n        return merge({}, state, {\n          shift: action.val\n        });\n    case 'KEY_COMBO':\n        let kcState = merge({},state,{set:action.val});\n        return kcState;\n    default:\n        return state;\n  }\n};\n\nexport default keyboardReducer;\n","import store from '../store';\nexport default {\n    '86':{ // C\n        keydown:(e)=>{\n            if (e.ctrlKey){\n\n            } else {\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'selection'\n                })\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:'default'\n    \t\t\t});\n            }\n        },\n        keyup:(event)=>{}\n    },\n    '82':{ // R\n        keydown:(e)=>{\n            if (e.ctrlKey){\n\n            } else {\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'box'\n                });\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:'crosshair'\n    \t\t\t});\n            }\n        },\n        keyup:(event)=>{}\n    },\n    '90':{ // Z\n        keydown:(e)=>{\n            if (e.ctrlKey){\n\n            } else { //zoom tool\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'zoom'\n                });\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:'zoom-in'\n    \t\t\t});\n            }\n        },\n        keyup:(event)=>{}\n    },\n    '18':{ // altKey\n        keydown:(e)=>{\n            let state = store.getState();\n            if (state.tools.current==='zoom'){\n                store.dispatch({\n                    type:'WORKAREA_CURSOR',\n                    val:'zoom-out'\n                });\n            }\n        },\n        keyup:(e)=>{\n            let state = store.getState();\n            if (state.tools.current==='zoom'){\n                store.dispatch({\n                    type:'WORKAREA_CURSOR',\n                    val:'zoom-in'\n                });\n            }\n        }\n    },\n    '32':{ // spacebar\n        keydown:(e)=>{\n            let state = store.getState();\n            if(state.tools.current!=='pan'){\n                store.dispatch({\n                    type:'PUBLIC_ADD',\n                    key:'lastTool',\n                    val:state.tools.current\n                });\n                //this.a['32'].prevTool = state.tools.current;\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'pan'\n                });\n                store.dispatch({\n                    type:'WORKAREA_CURSOR',\n                    val:state.tools.set.pan.cursor\n                });\n                state.tools.set.pan.initialize();\n            }\n        },\n        keyup:(e)=>{\n            let state = store.getState();\n            let lastTool = state.public.lastTool;\n            state.tools.set.pan.destroy();\n            store.dispatch({\n                type:'TOOLS_CURRENT',\n                val:lastTool\n            });\n            store.dispatch({\n                type:'WORKAREA_CURSOR',\n                val:state.tools.set[lastTool].cursor\n            });\n            store.dispatch({\n                type:'PUBLIC_REMOVE',\n                key:'lastTool'\n            })\n            if (typeof(state.tools.set[lastTool].initialize)==='function'){\n                state.tools.set[lastTool].initialize();\n            }\n        }\n    }\n};\n","import {merge} from 'lodash';\nconst defaultState = {\n    x:0,\n    y:0,\n    up:{x:0,y:0},\n    down:{x:0,y:0},\n    offset:{x:0,y:0},\n    offsetUp:{x:0,y:0},\n    offsetDown:{x:0,y:0},\n    dragDelta:{x:0,y:0},\n    mouseDownEvent:null,\n    longPressTimeout:null,\n    isDown:false,\n    doubleTouch:false,\n    mouseEvent:null,\n};\nconst mouseReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'MOUSE_POSITION':\n        return merge({},state,action.val);\n    case 'MOUSE_DOWN':\n        return merge({},state,action.val);\n    case 'MOUSE_UP':\n        return merge({},state,action.val);\n    case 'MOUSE_DRAG_DELTA':\n        return merge({}, state, {\n            dragDelta:{\n                x:action.val.x,\n                y:action.val.y\n            }\n        });\n    case 'MOUSE_DOWN_EVENT':\n        return merge({}, state, {mouseDownEvent:action.val});\n    case 'MOUSE_IS_DOWN':\n        return merge({}, state, {isDown:action.val});\n    case 'MOUSE_EVENT':\n        return merge({},state,{mouseEvent:action.val});\n    default:\n        return state;\n  }\n};\n\nexport default mouseReducer;\n","const defaultState = {\n    classes:[\n        {\n            label:'image1',\n            type:'image',\n            style:{\n            \tbackgroundImage:'url(/i/grumpy-cat.jpg)',\n                backgroundSize:'cover',\n                backgroundPosition:'center'\n            }\n        },\n        {\n            label:'ryan',\n            type:'image',\n            style:{\n                backgroundImage:'url(https://media.giphy.com/media/KWkBL0UgsOuqc/giphy.gif)',\n                backgroundSize:'cover',\n                backgroundPosition:'center'\n            }\n        },\n        {\n            label:'syle1',\n            type:'class',\n            style:{\n                borderWidth:'3px',\n                borderStyle:'solid',\n                borderColor:'blue'\n            }\n        }\n    ]\n}\n\nconst libraryReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    // case 'ADD_TODO':\n    // break;\n    default:\n        return state;\n  }\n};\n\nexport default libraryReducer;\n","import {merge} from 'lodash';\n// create the default state of the model\nconst defaultState = {\n  todos: [{\n    label: 'Learn React',\n    done: true\n  }, {\n    label: 'Learn Redux',\n    done: true\n  }, {\n    label: 'Learn React-Redux Connect',\n    done: true\n  }, {\n    label: 'Learn React-Router with Redux',\n    done: true\n  }],\n  newTodoLabel: ''\n};\n\n// create the reducers that will control the model\nconst todosReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'ADD_TODO':\n      return {\n        todos: [{\n          label: state.newTodoLabel,\n          done: false\n        }].concat(state.todos),\n        newTodoLabel: ''\n      };\n    case 'TOGGLE_TODO':\n      let nooDoos = state.todos.slice(0);\n      nooDoos[action.index].done = !state.todos[action.index].done;\n      return merge({}, state, {\n        todos: nooDoos\n      });\n    case 'NU_LABEL':\n      return merge({}, state, {\n        newTodoLabel:action.label\n      });\n    default:\n        return state;\n  }\n};\n\nexport default todosReducer;\n","import Store from '../store';\nexport default {\n    get:function(tool,key){\n        let state = Store.getState();\n        return state.tools.flags[tool+'_'+key];\n    },\n    set:function(tool,key,val){\n        Store.dispatch({type:'TOOLS_FLAG',key:tool+'_'+key,val:val});\n    }\n}","import Tools from '../toolset/';\nimport { merge } from 'lodash';\nconst defaultState = {\n    current: 'selection',\n    set: Tools,\n    flags: {}\n}\nconst toolsReducer = (state = defaultState, action) => {\n    let nuState = merge({}, state);\n    switch (action.type) {\n        // remember not to mutate the state\n        case 'TOOLS_CURRENT':\n            nuState.current = action.val;\n            return nuState;\n        case 'TOOLS_FLAG':\n            nuState.flags[action.key] = action.val;\n            return nuState;\n        default:\n            return state;\n    }\n};\n\nexport default toolsReducer;\n","import Selection from './selection';\nimport Box from './box';\nimport Zoom from './zoom';\nimport Pan from './pan';\n\nexport default {\n    selection:Selection,\n    box:Box,\n    zoom:Zoom,\n    pan:Pan\n};\n","import {merge} from 'lodash';\nimport TreeHelpers from '../factories/Tree';\nimport ObjectTools from '../factories/ObjectTools';\nimport PickHelpers from '../factories/Pick';\nimport ToolData from '../factories/ToolData';\nimport Store from '../store';\n\nexport default {\n    iconClass:'custom_icons selection',\n    iconString:'',\n    cursor:'default',\n    initialize:()=>{\n        ToolData.set('select','willMove',false);\n        ToolData.set('select','dragSelect',false);\n        ToolData.set('select','active',false);\n        ToolData.set('select','resizeSirection',false);\n        ToolData.set('select','areaWindow',false);\n    },\n    mousedown:(args)=>{\n        let mouseButton = args.event.button;\n        let state = Store.getState();\n\n        if ((mouseButton===0)){\n            ToolData.set('select','active',true);\n            let target = args.event.target;\n            let elementId = target.dataset.id;\n            let addKey = args.event.shiftKey;\n\n\n            ToolData.set('select','willMove',target.dataset.move);\n            ToolData.set('select','resizeDirection',target.dataset.resize);\n\n            // BOOM\n            PickHelpers.addElementToPick(elementId, args.pick, addKey);\n            \n            // if what's clicked is not the artboard\n            if (!elementId){\n                // we should be dragselecting then\n                ToolData.set('select','dragSelect',true);\n                \n                let areaWindow;\n                let curAreaWindow = ToolData.get('select','areaWindow');\n\n                if (!curAreaWindow){\n                    areaWindow = document.createElement('div');\n                    areaWindow.setAttribute('class','area-window');\n                    areaWindow.style.position='absolute';\n                    areaWindow.style.border=\"1px dashed #ccc\";\n                    areaWindow.style.pointerEvents = 'none';\n                    areaWindow.style.boxSizing = 'border-box';\n\n                    document.getElementById('els_root').appendChild(areaWindow);\n\n                    ToolData.set('select','areaWindow',areaWindow);\n                } else {\n                    areaWindow = curAreaWindow;\n                }\n\n                // lets get the coordinates\n                let mouse = state.mouse;\n\n                areaWindow.style.top = mouse.offsetDown.y + 'px';\n                areaWindow.style.left = mouse.offsetDown.x + 'px';\n                areaWindow.style.opacity = 1;\n                areaWindow.style.width=0;\n                areaWindow.style.height=0;\n            }\n        }\n    },\n    mousemove:(args)=>{\n\n        if(ToolData.get('select','active')){\n            let state = Store.getState();\n            let mouse = state.mouse;\n\n            let delta = {\n                x:(mouse.offsetDown.x - mouse.offset.x),\n                y:(mouse.offsetDown.y - mouse.offset.y)\n            };\n            let nuTree = merge({},state.tree);\n            let pick = args.pick.elements;\n\n            if (!ToolData.get('select','dragSelect')) {\n                let pickLength = pick.length;\n                let pickEmpty = (pickLength===0);\n                if (!pickEmpty) {\n                    // calculate the delta\n                    for (let pickElement of pick){\n                        // get element id within pick\n                        let currentElement = TreeHelpers.getElementDataById(nuTree.children,pickElement.id);\n                        // get the state of the element (diverse css style)\n                        let currentState = currentElement.currentState;\n                        // get the element style in current state\n                        let ess = currentElement.states[currentState].style;\n                        \n                        // will it move? (resize 0, move 1)\n                        if (ToolData.get('select','willMove')==='1'){\n                            // calculate new coords\n                            ess.left = pickElement.left - delta.x;\n                            ess.top = pickElement.top - delta.y;\n                        } else {\n                            // let's check how it will resize (depending on the quadrant chosen)\n                            let resizeDir = ToolData.get('select','resizeDirection');\n                            let nextWidth,nextHeight;\n                            switch (resizeDir) {\n                                case('nw'):\n                                    nextWidth = pickElement.width + delta.x;\n                                    if (nextWidth>0){\n                                        ess.left = pickElement.left - delta.x;\n                                        ess.width = nextWidth;\n                                    }\n                                    nextHeight = pickElement.height + delta.y;\n                                    if (nextHeight>0){\n                                        ess.top = pickElement.top - delta.y;\n                                        ess.height = nextHeight;\n                                    }\n                                    break;\n                                case('n'):\n                                    nextHeight = pickElement.height + delta.y;\n                                    if (nextHeight>0){\n                                        ess.top = pickElement.top - delta.y;\n                                        ess.height = nextHeight;\n                                    }\n                                    break;\n                                case('ne'):\n                                    nextHeight = pickElement.height + delta.y;\n                                    if (nextHeight>0){\n                                        ess.top = pickElement.top - delta.y;\n                                        ess.height = nextHeight;\n                                    }\n                                    ess.width = pickElement.width - delta.x;\n                                    break;\n                                case('w'):\n                                    nextWidth = pickElement.width + delta.x;\n                                    if (nextWidth>0){\n                                        ess.left = pickElement.left - delta.x;\n                                        ess.width = nextWidth;\n                                    }\n                                    break;\n                                case('e'): //resize eastbound\n                                    ess.width = pickElement.width - delta.x;\n                                    break;\n                                case('sw'):\n                                    ess.height = pickElement.height - delta.y;\n                                    nextWidth = pickElement.width + delta.x;\n                                    if (nextWidth>0){\n                                        ess.left = pickElement.left - delta.x;\n                                        ess.width = nextWidth;\n                                    }\n                                    break;\n                                case('s'): //resize southbound\n                                    ess.height = pickElement.height - delta.y;\n                                    break;\n                                case('se'): //resize southeast\n                                    ess.height = pickElement.height - delta.y;\n                                    ess.width = pickElement.width - delta.x;\n                                    break;\n                                default:;\n                            }\n                        }\n                    }\n                    Store.dispatch({\n                        type:'TREE_FULL',\n                        val:nuTree\n                    })\n                }\n            } else {\n                // lets select by area\n                // lets start by doing the selection rectangle\n\n                let areaWindow = ToolData.get('select','areaWindow');\n                let ess = areaWindow.style;\n                let artboardDimensions = {\n                    width:nuTree.states[nuTree.currentState].style.width,\n                    height:nuTree.states[nuTree.currentState].style.height\n                }\n                let aVal = {};\n\n                // and we calculate the coordinates of the element\n                if(delta.y<=0){ // this means the delta is positive (somehow)\n                    // we fix the top side and make it grow with the delta value\n                    aVal.height = (delta.y*-1);\n                    aVal.top = mouse.offsetDown.y;\n                    aVal.bottom = false;\n                } else {\n                    // we fix the bottom side and make it grow with the delta value\n                    // you might ask yourself why, well, if we modified top pos and height it got all wobbly on screen\n                    // so it is better modify only one value and have one fixed.\n                    aVal.top = false;\n                    aVal.bottom = (artboardDimensions.height - mouse.offsetDown.y);\n                    aVal.height = delta.y;\n                }\n\n                if(delta.x<=0){ // this means the delta is positive (somehow)\n                    // we fix the left side and make it grow with the delta value\n                    aVal.width = (delta.x*-1);\n                    aVal.left = mouse.offsetDown.x;\n                    aVal.right = false;\n                } else {\n                    // we fix the right side and make it grow with the delta value\n                    // you might ask yourself why, well, if we modified left pos and width it got all wobbly on screen\n                    // so it is better modify only one value and have one fixed.\n                    aVal.right = (artboardDimensions.width - mouse.offsetDown.x);\n                    aVal.left = false;\n                    aVal.width = delta.x;\n                }\n\n                ess.top = aVal.top ? aVal.top + 'px':'auto';\n                ess.left = aVal.left ? aVal.left + 'px':'auto';\n                ess.width = aVal.width ? aVal.width + 'px':'auto';\n                ess.height = aVal.height ? aVal.height + 'px':'auto';\n                ess.bottom = aVal.bottom ? aVal.bottom + 'px':'auto';\n                ess.right = aVal.right ? aVal.right + 'px':'auto';\n\n                let nextPick = [];\n                for (let element of nuTree.children) {\n                    let eS = element.states[element.currentState].style;\n                    let elementId = element.id;\n\n                    // lets create topleft definition for when whe have bottomright\n\n                    if (!aVal.left) {\n                        aVal.left = artboardDimensions.width - aVal.right - aVal.width;\n                    }\n                    if (!aVal.top) {\n                        aVal.top = artboardDimensions.height - aVal.bottom - aVal.height;\n                    }\n\n\n                    let check = {\n                        x1: aVal.left                   <=   (eS.left + eS.width),\n                        x2: (aVal.left + aVal.width)    >=   eS.left,\n                        y1: aVal.top                    <=   (eS.top + eS.height),\n                        y2: (aVal.height + aVal.top)    >=   eS.top\n                    }\n                    let isInArea = (check.x1&&check.x2&&check.y1&&check.y2);\n                    \n                    let initialPick = state.public.initialPick;\n                    if (isInArea) {\n                        // find out how to deselect or re-selected\n                        let wasPicked = ObjectTools.objectAvailableByKey('id',elementId,initialPick);\n                        \n                        if (!wasPicked) {\n                            let pickObject = {\n                                id: elementId,\n                                top:eS.top,\n                                left:eS.left,\n                                width:eS.width,\n                                height:eS.height,\n                            }\n                            nextPick.push(pickObject);\n                        }\n                    } else {\n                        // lets check if it was already at pick and add if so.\n                        let startedPicked = ObjectTools.objectAvailableByKey('id',elementId,initialPick);\n                        if (startedPicked) {\n                            let pickObject = {\n                                id: elementId,\n                                top:eS.top,\n                                left:eS.left,\n                                width:eS.width,\n                                height:eS.height,\n                            }\n                            nextPick.push(pickObject);\n                        }\n                    }\n                }\n\n                // the new pick\n                Store.dispatch({\n                    type:'PICK_FULL',\n                    val:nextPick\n                });\n            }\n\n        }\n    },\n    mouseup:(args)=>{\n        // refresh pick\n        ToolData.set('select','dragSelect',false);\n\n        if(ToolData.get('select','active')){\n            let state = Store.getState();\n\n            let pick = [].concat(args.pick.elements);\n            let pickLength = pick.length;\n            let pickEmpty = (pickLength===0);\n            if (!pickEmpty) {\n                let nuTree = state.tree;\n                for (let pickElement of pick){\n                    // calculate new coords\n                    let currentElement = TreeHelpers.getElementDataById(nuTree.children,pickElement.id);\n                    let currentState = currentElement.currentState;\n                    pickElement.left = currentElement.states[currentState].style.left;\n                    pickElement.top = currentElement.states[currentState].style.top;\n                    pickElement.width = currentElement.states[currentState].style.width;\n                    pickElement.height =currentElement.states[currentState].style.height;\n                }\n                Store.dispatch({\n                    type:'PICK_FULL',\n                    val:pick\n                })\n            } else {\n                Store.dispatch({\n                    type:'PUBLIC_REMOVE',\n                    key:'initialPick'\n                })\n            }\n        }\n\n        ToolData.set('select','active', false);\n        \n        let areaWindow = ToolData.get('select','areaWindow');\n        if (areaWindow){\n            areaWindow.style.opacity=0;\n        }\n    }\n}\n","import treeHelpers from '../factories/Tree';\nimport ToolData from '../factories/ToolData';\nimport {merge} from 'lodash';\nimport store from '../store';\n\nexport default {\n    iconClass:'material-icons',\n    iconString:'crop_square',\n    cursor:'crosshair',\n    initialize:()=>{\n        ToolData.set('box','initialized',false);\n        ToolData.set('box','activeElement',false);\n        ToolData.set('box','needsCleanupRight',false);\n        ToolData.set('box','needsCleanupBottom',false);\n    },\n    mousedown:(args)=>{\n        let mouseButton = args.event.button;\n        if ((mouseButton===0)){\n            \n            ToolData.set('box','initialized',true);\n            // lets have a look on how things are at this point\n            let state = store.getState();\n            // where are we storing the new elemwnt?\n            let where = state.tree.children;\n            // lets get the coordinates\n            let mouse = state.mouse;\n            // calculate x and y in respect to workarea\n            let offset = {\n                top:mouse.offsetDown.y,\n                left:mouse.offsetDown.x\n            }\n            // lets generate the element structure with the help of the tree functions\n            let newElement = treeHelpers.generateElement(where,'Box','box',offset);\n            // we dupe the state not to interefere with the current one\n            let newTree = merge({},state.tree);\n            // we push the new element to the tree children.\n            newTree.children.push(newElement);\n            // lets save the element id for resizing while creating\n            ToolData.set('box', 'activeElement', newElement.id); \n            // now we send the new tree to be re-rendered\n            store.dispatch({\n                type:'TREE_FULL',\n                val:newTree\n            });\n        } else {\n            args.event.preventDefault();\n            args.event.stopPropagation();\n        }\n    },\n    mousemove:(args)=>{\n        if(ToolData.get('box','initialized')){\n            // lets get the element id of what we created\n            let elementId = ToolData.get('box','activeElement');\n            // current state of things\n            let state = store.getState();\n            // we get the crrent state of the cursor\n            let mouse = state.mouse;\n            // calculate the delta\n            let delta = {\n                x:(mouse.offsetDown.x - mouse.offset.x),\n                y:(mouse.offsetDown.y - mouse.offset.y)\n            };\n            // we create a new tree to prevent mutating the current one\n            let nuTree = merge({},state.tree);\n            // lets get the element data by it's id\n            let currentElement = treeHelpers.getElementDataById(nuTree.children,elementId);\n            // we get the current state of the element\n            let currentState = currentElement.currentState;\n            // we get the styles of the element\n            let ess = currentElement.states[currentState].style;\n            // lets get the arboard dimensions for if we have to calculate negative values (you'll see)\n            let artboardDimensions = {\n                width:nuTree.states[nuTree.currentState].style.width,\n                height:nuTree.states[nuTree.currentState].style.height\n            }\n\n            // and we calculate the coordinates of the element\n            if(delta.y<=0){ // this means the delta is positive (somehow)\n                // we fix the top side and make it grow with the delta value\n                ess.height = delta.y*-1;\n                ess.top = mouse.offsetDown.y;\n                delete ess.bottom;\n                ToolData.set('box','needsCleanupBottom',false);\n            } else {\n                // we fix the bottom side and make it grow with the delta value\n                // you might ask yourself why, well, if we modified top pos and height it got all wobbly on screen\n                // so it is better modify only one value and have one fixed.\n                delete ess.top;\n                ess.bottom = artboardDimensions.height - mouse.offsetDown.y;\n                ess.height = delta.y;\n                ToolData.set('box','needsCleanupBottom',true);\n            }\n\n            if(delta.x<=0){ // this means the delta is positive (somehow)\n                // we fix the left side and make it grow with the delta value\n                ess.width = delta.x*-1;\n                ess.left = mouse.offsetDown.x;\n                delete ess.right\n                ToolData.set('box','needsCleanupRight',false);\n            } else {\n                // we fix the right side and make it grow with the delta value\n                // you might ask yourself why, well, if we modified left pos and width it got all wobbly on screen\n                // so it is better modify only one value and have one fixed.\n                ess.right = artboardDimensions.width - mouse.offsetDown.x;\n                delete ess.left;\n                ess.width = delta.x;\n                ToolData.set('box','needsCleanupRight',true);\n            }\n            // we send our new lovely tree to the dispatcher\n            store.dispatch({\n                type:'TREE_FULL',\n                val:nuTree\n            })\n        }\n    },\n    mouseup:(args)=>{\n        if(ToolData.get('box','initialized')){\n            ToolData.set('box','initialized',false);\n            let elementId = ToolData.get('box','activeElement');\n            // current state of things\n            let state = store.getState();\n            // we create a new tree to prevent mutating the current one\n            let nuTree = merge({},state.tree);\n            // lets get the element data by it's id\n            let currentElement = treeHelpers.getElementDataById(nuTree.children,elementId);\n            // we get the current state of the element\n            let currentState = currentElement.currentState;\n            // we get the styles of the element\n            let ess = currentElement.states[currentState].style;\n\n\n            //is the width and height 0?\n            // if so we erase\n            if ((ess.width===0) && (ess.height ===0)){\n                // find element index\n                let elementIndex = nuTree.children.indexOf(currentElement);\n                nuTree.children.splice(elementIndex,1);\n\n                // we send our new lovely tree to the dispatcher\n                store.dispatch({\n                    type:'TREE_FULL',\n                    val:nuTree\n                })\n\n            } else {\n                // did we create elements by fixing bottom or right?\n                // if so, lets fix that here (you know, for consistency)\n                // lets get the element id of what we created\n\n                if(ToolData.get('box','needsCleanupRight') || ToolData.get('box','needsCleanupBottom')){\n\n                    // lets get the arboard dimensions\n                    let artboardDimensions = {\n                        width:nuTree.states[nuTree.currentState].style.width,\n                        height:nuTree.states[nuTree.currentState].style.height\n                    }\n                    // calculate the border sigma\n                    let bordersigma = 0;\n                    // if (ess.borderWidth!==undefined){\n                    //     bordersigma = ess.borderWidth * 2;\n                    // }\n                    // we clean up\n                    if(ToolData.get('box','needsCleanupRight')){\n                        ess.left = artboardDimensions.width - ess.width - ess.right - bordersigma;\n                        delete ess.right;\n                    }\n                    if(ToolData.get('box','needsCleanupBottom')){\n                        ess.top = artboardDimensions.height - ess.height - ess.bottom - bordersigma;\n                        delete ess.bottom;\n                    }\n\n                    // we send our new lovely tree to the dispatcher\n                    store.dispatch({\n                        type:'TREE_FULL',\n                        val:nuTree\n                    })\n                }\n            }\n        }\n    }\n}\n","import store from '../store'\n\nexport default {\n    iconClass:'material-icons',\n    iconString:'search',\n    cursor:'zoom-in',\n    initialize:function(){\n    },\n    destroy:function(){\n    },\n    mousedown:(args)=>{\n\n    },\n    mousemove:(args)=>{\n\n    },\n    mouseup:(args)=>{\n        let state = store.getState();\n        let zoomInstance = state.public.zoomInstance;\n        if (args.event.button===0){\n            let nextZoom = (args.event.altKey?0.75:(1/0.75));\n            zoomInstance.zoomTo(args.event.clientX,args.event.clientY,nextZoom);\n        }\n    }\n}\n","import store from '../store'\n\nexport default {\n    iconClass:'material-icons',\n    iconString:'pan_tool',\n    cursor:'move',\n    initialize:function(){\n        let state = store.getState();\n        let zoomInstance = state.public.zoomInstance;\n\n        zoomInstance.setPanButton(0);\n    },\n    destroy:function(){\n        let state = store.getState();\n        let zoomInstance = state.public.zoomInstance;\n\n        zoomInstance.setPanButton(1);\n    },\n    mousedown:(args)=>{\n    },\n    mousemove:(args)=>{\n    },\n    mouseup:(args)=>{\n    }\n}\n","import { Artboard } from '../structures/Element';\nimport { merge } from 'lodash';\n// create the default state of the model\nconst defaultState = merge({},Artboard);\n\nconst treeReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case 'TREE_ELEMENTS':\n        return merge({},state.tree);\n    case 'TREE_FULL':\n        return merge({},action.val);\n    default:\n        return state;\n  }\n};\n\nexport default treeReducer;\n\n\n","import {merge} from 'lodash';\nconst defaultState = {\n    active:true\n};\n\nconst undosReducer = (state = defaultState, action) => {\n    switch (action.type) {\n        case 'UNDO_DEACTIVATE':\n            return merge({}, state, {\n                active: false\n            })\n        case 'UNDO_ACTIVATE':\n            return merge({}, state, {\n                active: true\n            })\n        default:\n            return state;\n    }\n};\n\nexport default undosReducer;\n","import {merge} from 'lodash';\nconst defaultState = {\n    snapToGrid:true,\n    gridSize:10,\n    cursor:'default',\n    elementClass:[],\n    rootElement:null\n};\nconst workareaReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'WORKAREA_CURSOR':\n        return merge({}, state, {cursor:action.val});\n    case 'WORKAREA_SNAP_TO_GRID':\n        return merge({}, state, {\n          snapToGrid: !state.snapToGrid\n        });\n    case 'WORKAREA_GRID_SIZE':\n        return merge({}, state, {\n          gridSize: action.val\n        });\n    case 'WORKAREA_CLASS':\n        return merge({}, state, {\n          elementClass: action.val\n        });\n    default:\n        return state;\n  }\n};\n\nexport default workareaReducer;\n","import {merge} from 'lodash';\nconst defaultState = {\n    offset:{\n\t\tleft:0,\n\t\ttop:0\n\t},\n    zoom:1,\n    scroll:{\n        top:0,\n        left:0\n    }\n}\nconst screenReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'SCREEN_SCROLL':\n        return merge({},state,{scroll:action.val});\n    case 'SCREEN_ZOOM':\n        return merge({},state,{\n            zoom:action.val\n        })\n    case 'SCREEN_OFFSET':\n        return merge({}, state, {\n          offset:action.val\n        });\n    default:\n        return state;\n  }\n};\n\nexport default screenReducer;\n","import ObjectTools from '../factories/ObjectTools';\nimport {merge} from 'lodash';\n\nconst defaultState = {\n    elements:[]\n};\nconst pickReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'PICK_FULL':\n        let nspf = merge({}, defaultState, {elements:action.val});\n        return nspf;\n    case 'PICK_ADD':\n        let nspa = merge({}, state);\n        nspa.elements.push(action.val);\n        return nspa;\n    case 'PICK_REMOVE':\n        let nuState = merge({}, state);\n        let removalPosition = ObjectTools.getElementPosition('id',action.val,nuState.elements);\n        nuState.elements.splice(removalPosition,1);\n\n        return nuState;\n    case 'PICK_CLEAR':\n        return merge({}, defaultState);\n    default:\n        return state;\n  }\n};\n\nexport default pickReducer;\n","import {merge} from 'lodash';\nimport MenuStructure from '../structures/Menu';\n\nconst defaultState = merge({},MenuStructure);\n\nconst menuReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'MENU_ADD_HELPER':\n        let mahState = merge({},state);\n        mahState.helperData[action.key]=action.value;\n        return mahState;\n    case 'MENU_ADD_ITEM':\n        let maiState = merge({},state);\n        return maiState;\n    case 'MENU_TOGGLE_SUB':\n        let nuState = merge({},state);\n        // iterate through menu objects to see if there's any thats open\n        for (const sub in nuState.menus) {\n            if (sub!==action.value && nuState.menus[sub].visible===true){\n                nuState.menus[sub].visible=false;\n            }\n        }\n        nuState.menus[action.value].visible = !nuState.menus[action.value].visible;\n        return nuState;\n    default:\n        return state;\n  }\n};\n\nexport default menuReducer;\n","export default {\n    'menus':{\n        'file':{\n            'visible':false,\n            'items':{\n                'new':{\n                    tag:'MenuFileNew'\n                }\n            }\n        },\n        // 'edit':{\n        //     'visible':false\n        // },\n        'object':{\n            'visible':false,\n            'items':{\n                'delete':{\n                    tag:'ObjectDelete'\n                },\n                'group':{\n                    tag:'ObjectGroup'\n                },\n                'ungroup':{\n                    tag:'ObjectUnGroup'\n                }\n            }\n        },\n        // 'insert':{\n        //     'visible':false\n        // },\n        // 'view':{\n        //     'visible':false\n        // },\n        'workspace':{\n            'visible':false,\n            'items':{\n                'snapToGrid':{\n                    tag:'WorkspaceSnapToGrid'\n                }\n            }\n        }//,\n        // 'window':{\n        //     'visible':false\n        // },\n        // 'help':{\n        //     'visible':false\n        // }\n    },\n    helperData:{}\n}\n","import {merge} from 'lodash';\nconst defaultState = {}\nconst toolsReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'PUBLIC_ADD':\n        let merger = {};\n        merger[action.key] = action.val\n        return merge({}, state, merger);\n    case 'PUBLIC_REMOVE':\n        let nuPublic = merge({}, state);\n        delete nuPublic[action.key];\n        return nuPublic;\n    default:\n        return state;\n  }\n};\n\nexport default toolsReducer;\n","import { combineReducers, createStore } from 'redux';\nimport historyReducer from  './reducers/historyReducer';\nimport keyboardReducer from  './reducers/keyboardReducer';\nimport mouseReducer from  './reducers/mouseReducer';\nimport libraryReducer from './reducers/libraryReducer'\nimport todosReducer from  './reducers/todosReducer';\nimport toolsReducer from  './reducers/toolsReducer';\nimport treeReducer from './reducers/treeReducer';\nimport undosReducer from  './reducers/undosReducer';\nimport workareaReducer from  './reducers/workareaReducer';\nimport screenReducer from  './reducers/screenReducer';\nimport pickReducer from  './reducers/pickReducer';\nimport menuReducer from  './reducers/menuReducer';\nimport publicReducer from  './reducers/publicReducer';\n\n\n// combine reducers - Although we have one only,\n// it is good to separate reducers through logical groups and then combine them.\nconst combinedReducers = combineReducers({\n    main:todosReducer,\n    workarea:workareaReducer,\n    keyboard:keyboardReducer,\n    library:libraryReducer,\n    mouse:mouseReducer,\n    undos:undosReducer,\n    tools:toolsReducer,\n    tree:treeReducer,\n    history:historyReducer,\n    screen:screenReducer,\n    pick:pickReducer,\n    menu:menuReducer,\n    public:publicReducer\n});\n\n// create the holy grail of truth... The Store\nconst store = createStore(combinedReducers);\n\nexport default store;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\nimport treeHelpers from '../../../../factories/Tree';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component {\n    delete(){\n        let pick = [].concat(this.props.pick.elements);\n        let nuTree = merge({},this.props.tree);\n        for (let element of pick) {\n            // get rid of the element\n            nuTree = treeHelpers.removeElementById(nuTree,element.id);\n        }\n        // dispatch everything\n        store.dispatch({\n            type:'PICK_CLEAR'\n        })\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    componentDidMount(){\n        store.dispatch({\n            type:\"KEY_COMBO\",\n            val:{\n                '46':{\n                    keydown:(e)=>{\n                        this.delete();\n                    },\n                    keyup:(e)=>{}\n                }\n            }\n        })\n    }\n    render(){\n        return (\n            <div>\n                <button ref=\"deleteButton\" className=\"menu__dropdown-item\" onClick={this.delete.bind(this)} disabled={(this.props.pick.elements.length<1)?'disabled':''}><span className=\"flex-loose\">Delete</span></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick,\n        tree:store.tree\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\nimport treeHelpers from '../../../../factories/Tree';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component {\n    group(){\n        // get the pick\n        let pick = [].concat(this.props.pick.elements);\n        let e0 = pick[0];\n        // find out lowest and greatest x & y coordinates.\n        let x0 = e0.left, x1 = e0.left + e0.width, y0 = e0.top, y1 = e0.top + e0.height;\n        pick.splice(0,1);\n        for (let element of pick) {\n            let right = element.left+element.width;\n            let bottom = element.top+element.height;\n\n            if (element.left<x0) x0 = element.left;\n            if (right>x1) x1 = right;\n            if (element.top<y0) y0 = element.top;\n            if (bottom>y1) y1 = bottom;\n        }\n        let groupDims = {\n            left:x0,\n            top:y0,\n            width:x1-x0,\n            height:y1-y0\n        }\n        let groupStyle = merge({},groupDims,{\n            backgroundColor:'rgba(0,0,0,0)',\n            borderStyle:'none'\n        })\n\n\n        let state = store.getState();\n        // where are we storing the new elemwnt?\n        let where = state.tree.children;\n        // lets generate the element structure with the help of the tree functions\n        let newElement = treeHelpers.generateElement(where,'Group','group',groupStyle);\n        // we dupe the state not to interefere with the current one\n        let newTree = merge({},state.tree);\n        // lets nest the children within the group and correct their positions.\n        for (let element of this.props.pick.elements){\n            let fullElement = merge({},treeHelpers.getElementDataById(newTree.children,element.id));\n            for (let state of fullElement.states){\n                state.style.left = state.style.left - x0;\n                state.style.top = state.style.top - y0;\n            }\n            newElement.children.push(fullElement);\n            newTree = treeHelpers.removeElementById(newTree,element.id);\n        }\n        // we push the new element to the tree children.\n        newTree.children.push(newElement);\n        // lets set the grouped elements within the grouped layer\n        // now we send the new tree to be re-rendered\n        store.dispatch({\n            type:'TREE_FULL',\n            val:newTree\n        });\n        // and we fix the pick not to have the elements but the group\n        store.dispatch({\n            type:'PICK_CLEAR'\n        });\n        store.dispatch({\n            type:'PICK_ADD',\n            val:merge({},{\n                id:newElement.id\n            },groupDims)\n        })\n    }\n    componentDidMount(){\n        store.dispatch({\n            type:\"KEY_COMBO\",\n            val:{\n                '71':{\n                    keydown:(e)=>{\n                        if(e.ctrlKey||e.metaKey){\n                            this.group();\n                        }\n                    },\n                    keyup:(e)=>{}\n                }\n            }\n        })\n    }\n    render(){\n        return (\n            <div>\n                <button ref=\"groupButton\" className=\"menu__dropdown-item\" onClick={this.group.bind(this)} disabled={(this.props.pick.elements.length<2)?'disabled':''}><span className=\"flex-loose\">Group</span></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\nimport treeHelpers from '../../../../factories/Tree';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component {\n    ungroup(){\n        // get the pick\n        let pick = [].concat(this.props.pick.elements);\n        let nuPick = [].concat(this.props.pick.elements);\n        let nuTree = merge({},this.props.tree);\n        for (let element of pick) {\n            let elementData = merge({},treeHelpers.getElementDataById(nuTree.children, element.id));\n            if(elementData.children.length>0){\n                // recalculate children coordinates by adding mine to children (in all states)\n                // get the index of the group and insert right after\n                let groupIndex = treeHelpers.getElementIndex(nuTree.children, element.id);\n\n                for (let child of elementData.children){\n                    for (let state of child.states){\n                        state.style.left = state.style.left + element.left;\n                        state.style.top = state.style.top + element.top;\n                    }\n                    // get them children and place them at my level\n                    nuTree.children.splice(groupIndex,0,child);\n                    let childState = child.states[child.currentState];\n                    nuPick.push({\n                        id:child.id,\n                        top:childState.style.top,\n                        left:childState.style.left,\n                        width:childState.style.width,\n                        height:childState.style.height\n                    });\n                }\n                // get rid of group div\n                nuTree = treeHelpers.removeElementById(nuTree,element.id);\n                // remove group div from pick\n                nuPick = nuPick.filter((po)=>{\n                    let returnValue = (po.id!==element.id);\n                    return returnValue;\n                });\n            }\n        }\n        // dispatch everything\n        store.dispatch({\n            type:'PICK_CLEAR'\n        })\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n        store.dispatch({\n            type:'PICK_FULL',\n            val:nuPick\n        });\n        // be happy\n    }\n    componentDidMount(){\n        store.dispatch({\n            type:\"KEY_COMBO\",\n            val:{\n                '85':{\n                    keydown:(e)=>{\n                        if(e.ctrlKey||e.metaKey){\n                            this.ungroup();\n                        }\n                    },\n                    keyup:(e)=>{}\n                }\n            }\n        })\n    }\n    render(){\n        return (\n            <div>\n                <button className=\"menu__dropdown-item\" onClick={this.ungroup.bind(this)} disabled={(this.props.pick.elements.length<2)?'disabled':''}><span className=\"flex-loose\">Ungroup</span></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick,\n        tree:store.tree\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component{\n    snapToGrid(){\n        store.dispatch({\n            type:'WORKAREA_SNAP_TO_GRID'\n        });\n    }\n    render(){\n        return (\n            <div>\n                <button className=\"menu__dropdown-item\" onClick={this.snapToGrid}><span className=\"flex-loose\">Snap To Grid</span><i className={'flex-fixed material-icons' + (this.props.workarea.snapToGrid?'':' invisible')}>check</i></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        workarea:store.workarea\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","export const Artboard = {\n    id:'root',\n    label:'Artboard 1',\n    children:[],\n    currentState:0,\n    type:'artboard',\n    states:[\n        {\n            label:'base',\n            classes:[],\n            text:'',\n            style:{\n                position:'relative',\n                width:240,\n                height:320,\n                backgroundColor:'#ffffff',\n                color:'#000000',\n                transform:'rotate(0deg)',\n                opacity:1,\n                mixBlendMode:'normal'\n            }\n        }\n    ]\n};\nexport const Element = {\n    id:null,\n    label:null,\n    currentState:0,\n    states:[],\n\tlocked:false,\n    type:'box',\n    children:[]\n};\nexport const State = {\n    id:null,\n    name:'base',\n    classes:[],\n    style:{},\n    actions:[],\n    text:''\n};\nexport const Style = {\n    position:'absolute',\n    width:0,\n    height:0,\n    backgroundColor:'#ffffff',\n    borderColor:'#000000',\n    borderStyle:'solid',\n    borderWidth:1,\n    borderRadius:0,\n    boxSizing:'border-box',\n    transform:'rotate(0deg)',\n    opacity:1,\n    mixBlendMode:'normal'\n};\n","import TreeHelpers from '../factories/Tree';\nimport ObjectTools from '../factories/ObjectTools';\nimport Store from '../store';\nexport default {\n    add:function(elementObject){\n        Store.dispatch({\n            type:'PICK_ADD',\n            val:elementObject\n        });\n    },\n    remove:function(elementId){\n        Store.dispatch({\n            type:'PICK_REMOVE',\n            val:elementId\n        });\n    },\n    clear:function(){\n        Store.dispatch({\n            type:'PICK_CLEAR'\n        });\n    },\n    isInPick:function(elementId){\n        let pick = Store.getState().pick.elements;\n        return ObjectTools.objectAvailableByKey('id',elementId,pick);\n    },\n    addElementToPick:function(elementId, pick, addKey){\n        // if what's clicked is not the artboard\n        \n        if (elementId && elementId!=='root'){\n\n            // element initial MOUSE_POSITION\n            let state = Store.getState();\n            let elementData = TreeHelpers.getElementDataById(state.tree.children,elementId);\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n\n            let pickObject = {\n                id: elementId,\n                top:stateStyle.top,\n                left:stateStyle.left,\n                width:stateStyle.width,\n                height:stateStyle.height,\n            }\n            // let's see if it's already selected\n            let isInPick = ObjectTools.objectAvailableByKey('id',elementId,pick.elements);\n\n            if (addKey){ // if shift is pressed\n                if (isInPick){ // and the element is already selected\n                    pick.remove(elementId); // deselect it\n                } else { // and the element is not selected\n                    pick.add(pickObject);// then select it too\n                }\n            } else { // if shif is not pressed\n                if (!isInPick){ // and the element is not selected/active\n                    pick.clear();\n                    pick.add(pickObject); //then select it\n                }\n            }\n        } else {\n            let initialPick = [].concat(pick.elements);\n\n            if (!addKey){ //if shift is not pressed\n                pick.clear(); // it is the root element, so let's clear\n                initialPick = [];\n            }\n\n            Store.dispatch({\n                type:'PUBLIC_ADD',\n                key:'initialPick',\n                val:initialPick\n            });\n        }\n    }\n};\n","export default {\n    roundToMultiple:(num,multiple)=>{\n\t\treturn Math.round(num / multiple) * multiple;\n    }\n}\n","import FilterTools from './FilterTools';\nexport default (coords, wc=true, workarea, mouse, keyboard, screen, event=false) => {\n    let finalCoords = coords;\n    //filter all you want\n    if (workarea.snapToGrid){\n\t\tfinalCoords = {\n\t\t\tx:FilterTools.roundToMultiple(coords.x, (workarea.gridSize)),\n\t\t\ty:FilterTools.roundToMultiple(coords.y, (workarea.gridSize))\n\t\t};\n    }\n\n    if(keyboard.shift && wc && event.type==='mousemove'){\n        let dd = {\n            x:finalCoords.x - mouse.offsetDown.x,\n            y:finalCoords.y - mouse.offsetDown.y\n        };\n\t\tlet angle = -1 * Math.atan2(dd.y, dd.x) * 180 / Math.PI;\n\t\tangle = Math.floor(angle < 0 ? 360 + angle : angle);\n\t\tlet quadrant = Math.floor((angle-15)/45);\n\t\tlet lower;\n\t\tswitch(quadrant){\n\n\t\t\tcase 0: //(45deg) NE\n\t\t\t\tlower = dd.x<Math.abs(dd.y)?dd.x:Math.abs(dd.y);\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x + lower,\n\t\t\t\t\ty:mouse.offsetDown.y - lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 2: //135\n\t\t\t\tlower = dd.x>dd.y?dd.x:dd.y;\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x + lower,\n\t\t\t\t\ty:mouse.offsetDown.y + lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 4: //225\n\t\t\t\tlower = Math.abs(dd.x)<dd.y?Math.abs(dd.x):dd.y;\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x - lower,\n\t\t\t\t\ty:mouse.offsetDown.y + lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 6: //305\n\t\t\t\tlower = dd.x<dd.y?dd.x:dd.y;\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x + lower,\n\t\t\t\t\ty:mouse.offsetDown.y + lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 1: //270px\n            case 5:\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx: mouse.offsetDown.x,\n\t\t\t\t\ty:finalCoords.y\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase -1:\n            case 7:\n            case 3: //(-1 and 7 and 3)\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx: finalCoords.x,\n\t\t\t\t\ty: mouse.offsetDown.y\n\t\t\t\t};\n                break;\n            default:;\n\t\t}\n\t}\n    return finalCoords;\n};\n","import React, { Component } from 'react';\nimport store from '../../store';\nimport zoom from 'panzoom';\n\nclass InputLogger extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.mouseDown = false;\n\t\tthis.logEvent = function(e){\n\t\t\te.persist();\n\t\t\te.preventDefault();\n\t\t\tlet xy;\n            let eType = e.type;\n\t\t\txy = {\n\t\t\t\tx:e.pageX,\n\t\t\t\ty:e.pageY\n\t\t\t};\n\t\t\tswitch (eType) {\n\t\t\t\tcase 'mousedown':\n\t\t\t\t\tthis.mouseDown = true;\n\t\t\t\t\tthis.props.mouseDownFunction(e,xy);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mouseup':\n\t\t\t\t\tthis.mouseDown = false;\n\t\t\t\t\tthis.props.mouseUpFunction(e,xy);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log('woot');\n\t\t\t}\n\n\t\t\tthis.props.registerMouseEventType();\n\t\t\tthis.props.eventReceptorFunction({\n                theEvent:eType,\n                e:e\n            });\n\t\t}.bind(this);\n\n\t\tthis.logMove = function(e){\n\t\t\tif (this.mouseDown){\n\t\t\t\tlet il = this.refs.inputLogger;\n\t\t\t\tlet xy = {\n\t\t\t\t\tx:(e.type==='touchmove'?e.originalEvent.touches[0].pageX:e.pageX) + il.scrollLeft,\n\t\t\t\t\ty:(e.type==='touchmove'?e.originalEvent.touches[0].pageY:e.pageY) + il.scrollTop\n\t\t\t\t};\n\t            this.props.mouseMoveFunction(xy);\n\t            this.props.eventReceptorFunction({\n\t                theEvent:'mousemove',\n\t                e:e\n\t            });\n\t\t\t}\n\t\t}.bind(this);\n\n\t\tthis.zoomFn = async (e) => {\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'SCREEN_ZOOM',\n\t\t\t\tval:e.detail.scale\n\t\t\t});\n\t\t}\n\t\tthis.panFn = function(e){\n\t\t}\n\t\tthis.transformFn = (e) => {\n\t\t\treturn window.dispatchEvent(new Event('resize'));\n\t\t};\n\t}\n\tshouldComponentUpdate(nextProps){\n\t\tlet itShould = (this.props.cursor!==nextProps.cursor);\n\t\treturn itShould;\n\t}\n\tcomponentDidUpdate(prevProps){}\n\tcomponentDidMount(){\n        if (this.refs.inputLogger!==undefined){\n\t\t\tlet il = this.refs.inputLogger;\n\n\t\t\t//lets talk about origin\n\t\t\tlet origin = {\n\t\t\t\tx:'calc(50% - 50vw)',\n\t\t\t\ty:'calc(50% - 50vh)',\n\t\t\t\tz:0\n\t\t\t};\n\n\t\t\t// initialize zoompan\n\t\t\tlet zoomInstance = zoom(il,{\n\t            smoothScroll: false,\n\t\t\t\tpanButton:1,\n\t\t\t\tzoomDoubleClickSpeed: 1,\n\t\t\t\ttransformOrigin:origin\n\t        });\n\t\t\til.addEventListener('zoom',this.zoomFn);\n\t\t\til.addEventListener('panend',this.panFn);\n\t\t\til.addEventListener('transform',this.transformFn);\n\t        store.dispatch({\n\t            type:'PUBLIC_ADD',\n\t            key:'zoomInstance',\n\t            val:zoomInstance\n\t        });\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.refs.inputLogger!==undefined){\n\t\t\tthis.refs.inputLogger.removeEventListener('zoom',this.zoomFn);\n\t\t\tthis.refs.inputLogger.removeEventListener('panend',this.panFn);\n\t\t\tthis.refs.inputLogger.removeEventListener('transform',this.transformFn);\n        }\n    }\n\trender() {\n\t\treturn (\n\t\t\t<div ref=\"inputLogger\" style={{cursor:this.props.cursor}}\n    \t\t\tclassName=\"input-logger\"\n    \t\t\tonMouseDown={this.logEvent}\n    \t\t\tonMouseUp={this.logEvent}\n    \t\t\tonMouseMove={this.logMove}\n\t\t\t>{ this.props.children }</div>\n\t\t);\n\t}\n};\n\nexport default InputLogger;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {merge} from 'lodash';\nimport CoordFilters from '../../factories/CoordFilters';\nimport InputLogger from '../InputLogger/';\nimport PickHelpers from '../../factories/Pick';\nimport store from '../../store'\n\nimport './styles.css';\n\nclass Workarea extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.eventReceptorFunction = function(args){\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_EVENT',\n\t\t\t\tval:args.e\n\t\t\t});\n\t\t\tlet tools = this.props.tools;\n\t\t\tif (tools.current && (tools.set[tools.current]!==undefined)){\n\t\t\t\tlet toolFn = tools.set[tools.current][args.e.type];\n\t\t\t\tif (typeof(toolFn)==='function'){\n\t\t\t\t\tlet currentPick = store.getState().pick;\n\t\t\t\t\ttoolFn({\n\t\t\t\t\t\tpick: merge(\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\tPickHelpers,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telements:currentPick.elements,\n\t\t\t\t\t\t\t\tinitialStates:currentPick.initialStates\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t),\n\t\t\t\t\t\tevent:args.e\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this);\n\t\tthis.mouseDownFunction = function(e,xy){\n\t\t\tlet state = store.getState();\n\t\t\tlet screen = state.screen;\n\t\t\tlet so = screen.offset;\n\t\t\tlet xyo = {\n\t\t\t\tx: Math.round((xy.x - so.left)/screen.zoom,0),\n\t\t\t\ty: Math.round((xy.y - so.top)/screen.zoom,0)\n\t\t\t}\n\t\t\txy = this.filterFunction(xy,e);\n\t\t\txyo = this.filterFunction(xyo,e);\n\t\t\t//disable undus till we mouseup\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'UNDO_DEACTIVATE'\n\t\t\t});\n\t\t\t// blur inputs\n\t\t\tdocument.activeElement.blur();\n\t\t\t// register mousedown coordinates\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_DOWN',\n\t\t\t\tval:{\n\t\t\t\t\tdown:{\n\t\t\t\t\t\tx:xy.x,\n\t\t\t\t\t\ty:xy.y\n\t\t\t\t\t},\n\t\t\t\t\toffsetDown:{\n\t\t\t\t\t\tx:xyo.x,\n\t\t\t\t\t\ty:xyo.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'WORKAREA_CLASS',\n\t\t\t\tval:['mouse-down']\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_DRAG_DELTA',\n\t\t\t\tval: {\n\t\t\t\t\tx:0,\n\t\t\t\t\ty:0\n\t\t\t\t}\n\t\t\t});\n\t\t\t// save the mousedown event to a variable so we can pick it up in case it is not a longpress\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_DOWN_EVENT',\n\t\t\t\tval: e\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_IS_DOWN',\n\t\t\t\tval: true\n\t\t\t});\n\t\t}\n\t\tthis.mouseUpFunction = function(e,xy){\n\t\t\tlet screen = store.getState().screen;\n\t\t\tlet so = screen.offset;\n\t\t\tlet xyo = {\n\t\t\t\tx: Math.round((xy.x - so.left)/screen.zoom,0),\n\t\t\t\ty: Math.round((xy.y - so.top)/screen.zoom,0)\n\t\t\t}\n\t\t\txy = this.filterFunction(xy,e);\n\t\t\txyo = this.filterFunction(xyo, e);\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'WORKAREA_CLASS',\n\t\t\t\tval:[]\n\t\t\t});\n\n\t\t\t// enable undos\n\t\t\tstore.dispatch({type: 'UNDO_ACTIVATE'});\n\n\n\t\t\t// register the coordinates\n\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'MOUSE_UP',\n\t\t\t\tval:{\n\t\t\t\t\tup:{\n\t\t\t\t\t\tx:xy.x,\n\t\t\t\t\t\ty:xy.y\n\t\t\t\t\t},\n\t\t\t\t\toffsetUp:{\n\t\t\t\t\t\tx:xyo.x,\n\t\t\t\t\t\ty:xyo.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tthis.registerMouseEventType = function(eType){\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'MOUSE_EVENT',\n\t\t\t\tval:eType\n\t\t\t});\n\t\t};\n\t\tthis.mouseMoveFunction = function(xy){\n\t\t\tlet screen = this.props.screen;\n\t\t\tlet so = screen.offset;\n\t\t\t//let ss = screen.scroll;\n\t\t\tlet xyo = {\n\t\t\t\tx: Math.round((xy.x - so.left)/screen.zoom,0),\n\t\t\t\ty: Math.round((xy.y - so.top)/screen.zoom,0)\n\t\t\t}\n\t\t\txy = this.filterFunction(xy,{type:'mousemove'});\n\t\t\txyo = this.filterFunction(xyo,{type:'mousemove'});\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'MOUSE_POSITION',\n\t\t\t\tval:{\n\t\t\t\t\tx:xy.x,\n\t\t\t\t\ty:xy.y,\n\t\t\t\t\toffset:{\n\t\t\t\t\t\tx:xyo.x,\n\t\t\t\t\t\ty:xyo.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'WORKAREA_CLASS',\n\t\t\t\tval:['mouse-down','mouse-move']\n\t\t\t});\n\t\t}.bind(this);\n\t\tthis.filterFunction = function(coords,e){\n\t\t\treturn CoordFilters(coords,true,this.props.workarea,this.props.mouse,this.props.keyboard,this.props.screen,e);\n\t\t}.bind(this);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"work-area\">\n\t\t\t<InputLogger\n\t\t\t\tzoom={this.props.screen.zoom}\n\t\t\t\tcursor={this.props.workarea.cursor}\n\t\t\t\teventReceptorFunction={this.eventReceptorFunction}\n\t\t\t\tfilterFunction={this.filterFunction}\n\t\t\t\tmouseDownFunction={this.mouseDownFunction}\n\t\t\t\tmouseUpFunction={this.mouseUpFunction}\n\t\t\t\tmouseMoveFunction={this.mouseMoveFunction}\n\t\t\t\tregisterMouseEventType={this.registerMouseEventType}\n\t\t\t>{this.props.children}</InputLogger>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\n\n\nconst mapStateToProps = function(store) {\n  //return store.main;\n  return {\n    mouse:store.mouse,\n    tools:store.tools,\n    screen:store.screen,\n\tworkarea:store.workarea,\n\tkeyboard:store.keyboard,\n\tpick:store.pick\n  };\n}\nconst SmartWorkarea = connect(mapStateToProps)(Workarea);\n\nexport default SmartWorkarea;\n","import React, { Component } from 'react';\nimport store from '../../store';\nimport ObjectTools from '../../factories/ObjectTools';\n\nimport './styles.css';\n\nclass Element extends Component {\n    renderChildren(){\n        if(this.props.specs.children){\n            return this.props.specs.children.map(\n                (child, i) => {\n                    return (<Element key={i} specs={child} pick={this.props.pick} />);\n                }\n            )\n        }\n        return null;\n    }\n    getClassString(){\n        let classes = this.props.specs.states[this.props.specs.currentState].classes;\n        let classArray = ['element'].concat(classes);\n        if(ObjectTools.objectAvailableByKey('id',this.props.specs.id,this.props.pick.elements)) {\n            classArray.push('selected');\n        }\n        if(this.props.specs.id === \"root\") {\n            classArray.push(\"element--root\");\n            if(this.props.pick.elements.length>1){\n                classArray.push('selected-multiple');\n            }\n        }\n        return classArray.join(' ');\n    }\n    renderTools(){\n        if(this.props.specs.id !== \"root\") {\n            return (\n            <div className=\"element__tools\">\n                <div data-id={this.props.specs.id} data-resize='nw' data-move='0' className=\"element__tool element__tool--top-left\"></div>\n                <div data-id={this.props.specs.id} data-resize='n' data-move='0' className=\"element__tool element__tool--top\"></div>\n                <div data-id={this.props.specs.id} data-resize='ne' data-move='0' className=\"element__tool element__tool--top-right\"></div>\n                <div data-id={this.props.specs.id} data-resize='w' data-move='0' className=\"element__tool element__tool--left\"></div>\n                <div data-id={this.props.specs.id} data-resize='' data-move='1' className=\"element__tool element__tool--center\"></div>\n                <div data-id={this.props.specs.id} data-resize='e' data-move='0' className=\"element__tool element__tool--right\"></div>\n                <div data-id={this.props.specs.id} data-resize='sw' data-move='0' className=\"element__tool element__tool--bottom-left\"></div>\n                <div data-id={this.props.specs.id} data-resize='s' data-move='0' className=\"element__tool element__tool--bottom\"></div>\n                <div data-id={this.props.specs.id} data-resize='se' data-move='0' className=\"element__tool element__tool--bottom-right\"></div>\n            </div>\n            );\n        }\n        return null;\n    }\n    storeDimensions(){\n        if (this.refs.root!==undefined){\n            let offset = function(el) {\n                let rect = el.getBoundingClientRect();\n                return { top: rect.top, left: rect.left }\n            }\n            let zeOffset = offset(this.refs.root);\n            store.dispatch({\n                type:'SCREEN_OFFSET',\n                val:zeOffset\n            });\n        }\n    }\n    componentDidMount(){\n        if (this.refs.root!==undefined){\n            this.storeDimensions();\n            window.addEventListener(\"resize\",this.storeDimensions.bind(this));\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.refs.root!==undefined){\n            window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n        }\n    }\n    conponentWillUpdate(){\n        console.log(this.props.specs.id);\n    }\n    render(){\n\n        if (this.props.specs.states){\n            let specs =  this.props.specs.states[this.props.specs.currentState];\n            return (\n                <div id={'els_'+this.props.specs.id} className={this.getClassString()} style={{...specs.style}} ref={this.props.specs.id}>\n                    {this.renderTools()}\n                    <div className=\"element__contents\">\n                        {specs.text}\n                        {this.renderChildren()}\n                    </div>\n                </div>);\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default Element;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Element from '../Element/';\n\nimport './styles.css';\n\nclass Artboard extends Component {\n    render(){\n        return (<Element specs={this.props.tree} pick={this.props.pick}/>);\n    }\n}\n\nconst mapStateToProps = function(store) {\n  return {\n    tree:store.tree,\n    pick:store.pick\n  };\n};\nconst SmartArtboard = connect(mapStateToProps)(Artboard);\n\n\nexport default SmartArtboard;\n","export default {\n    objectToCss:function(obj = {marginLeft:0,paddingLeft:0}){\n        let cssString = '';\n        for (let prop in obj){\n            if (obj.hasOwnProperty(prop)) {\n                cssString += prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() + ':' + obj[prop]+';';\n            }\n        }\n        return cssString;\n    },\n    getStylesheet:function(id){\n        let styleSheets = document.styleSheets;\n        for (let i=0; i < styleSheets.length;i++){\n            if (styleSheets[i].ownerNode.id===id) return styleSheets[i];\n        }\n        return false;\n    },\n    insertRule:function(styleSheet, classObject){\n        let ruleContents = this.objectToCss(classObject.style);\n        let rule = '.'+classObject.label+'{'+ruleContents+'}';\n        return styleSheet.insertRule(rule,styleSheet.cssRules.length);\n    },\n    emptystyleSheet:function(styleSheet){\n        for (let i=styleSheet.cssRules.length; i>0; i--){\n            styleSheet.deleteRule(i);\n        }\n        return false;\n    },\n    initializeSheet:function(styleSheet,classes){\n        this.emptystyleSheet(styleSheet);\n        classes.map(\n            (classObject)=>{\n                let ruleInsertedIndex = this.insertRule(styleSheet,classObject);\n                //console.log(ruleInsertedIndex);\n                return ruleInsertedIndex;\n            }\n        );\n        return false;\n    }\n}\n","import React, { Component } from 'react';\n\nimport './styles.css';\n\nclass ToolbarButton extends Component {\n    constructor(props){\n        super(props);\n        this.toolName = this.props.toolName;\n        this.tool = this.props.tool;\n        this.toolIcon = this.tool.iconClass;\n        this.iconString = this.tool.iconString;\n        this.renderIcon = function(){\n            if (this.toolIcon) return <span className={this.toolIcon}>{this.iconString}</span>;\n        };\n        this.activateTool = function(){\n            this.props.activateTool(this.toolName);\n        }.bind(this);\n        this.theClass = function(){\n            return 'toolbar__button'+(this.props.toolName===this.props.currentTool?' active':'')\n        }.bind(this);\n    }\n    render(){\n        return (<button className={this.theClass()} onClick={this.activateTool}>{this.renderIcon()}<span className=\"sr-only\">{this.toolName}</span></button>);\n    }\n}\n\nexport default ToolbarButton;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ToolbarButton from '../ToolbarButton/';\nimport store from '../../store';\n\nimport './styles.css';\n\n\n\nclass Toolbar extends Component {\n    constructor(props){\n        super(props);\n        this.activateTool = (theTool)=>{\n            if (this.props.tools.current!==theTool){\n                if(typeof(this.props.tools.set[this.props.tools.current].destroy)==='function'){\n                    this.props.tools.set[this.props.tools.current].destroy();\n                }\n                store.dispatch({\n    \t\t\t\ttype:'TOOLS_CURRENT',\n    \t\t\t\tval:theTool\n    \t\t\t});\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:this.props.tools.set[theTool].cursor\n    \t\t\t});\n                store.dispatch({\n                    type:'PICK_CLEAR'\n                });\n                console.log()\n                if(typeof(this.props.tools.set[theTool].initialize)==='function'){\n                    this.props.tools.set[theTool].initialize();\n                }\n            }\n        };\n        this.renderTools = ()=>{\n            let toolArray = [];\n            let tools = this.props.tools.set;\n            for (let tool in tools){\n                if (tools.hasOwnProperty(tool)) {\n                    toolArray.push(<ToolbarButton key={tool} toolName={tool} tool={tools[tool]} activateTool={this.activateTool} currentTool={this.props.tools.current} />);\n                }\n            }\n            return toolArray;\n        };\n    }\n    render(){\n        return (<div className=\"toolbar\">{this.renderTools()}</div>);\n    }\n}\n\n\nconst mapStateToProps = function(store) {\n  return {\n    tools:store.tools,\n    keyboard:store.keyboard\n  };\n};\nconst SmartToolbar = connect(mapStateToProps)(Toolbar);\n\n\nexport default SmartToolbar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../store';\n\nimport './styles.css';\n\nclass MenuSub extends Component{\n    showMenu(sub){\n        store.dispatch({\n            type:'MENU_TOGGLE_SUB',\n            value:sub\n        });\n    }\n    buildMenuDropdown(ddData){\n        let output = [];\n        for (const item in ddData) {\n            let Component = require('./SingleComponents/'+ddData[item].tag+'/').MenuItem;\n            output.push(<Component key={ddData[item].tag} />);\n        }\n        return output;\n    }\n    render(){\n        return (\n            <div key={this.props.sub[0]} className={(this.props.sub[1].visible?'menu__sub menu__sub--visible':'menu__sub')} onClick={()=>{this.showMenu(this.props.sub[0])}}>\n                <button className=\"menu__label\">{this.props.sub[0]}</button>\n                <div className=\"menu__backdrop\"></div>\n                <div className=\"menu__dropdown\">{this.buildMenuDropdown(this.props.sub[1].items)}</div>\n            </div>\n        );\n    }\n}\n\nclass MenuBar extends Component {\n    renderMenuHelpers(){\n        return Object.entries(this.props.menu.menus).map((sub, key)=>{\n            let output = [];\n            let items = sub[1].items;\n            for (const item in items) {\n                let Component = require('./SingleComponents/'+items[item].tag+'/').MenuHelper;\n                if (Component!==undefined){\n                    output.push(<Component key={items[item].tag} />);\n                }\n            }\n            return output;\n        });\n    }\n    // listen to keyboard\n    listenToKeydown(event){\n        event.preventDefault();\n        let keyCode = event.keyCode;\n        let keys = this.props.keyboard;\n        if ((keys.set[keyCode]!==undefined)&&(keys.set[keyCode].keydown!==undefined)){\n            keys.set[keyCode].keydown(event);\n        }\n        if (keyCode === 16){\n            store.dispatch({\n                type:'KEYBOARD_SHIFT',\n                val:true\n            });\n        }\n    };\n    listenToKeyup(event){\n        event.preventDefault();\n        let keyCode = event.keyCode;\n        let keys = this.props.keyboard;\n        if ((keys.set[keyCode]!==undefined)&&(keys.set[keyCode].keyup!==undefined)){\n            keys.set[keyCode].keyup(event);\n        }\n        if (event.keyCode === 16){\n            store.dispatch({\n                type:'KEYBOARD_SHIFT',\n                val:false\n            });\n        }\n    };\n\tcomponentWillMount(){\n\t\twindow.addEventListener(\"keydown\", this.listenToKeydown.bind(this), false);\n\t\twindow.addEventListener(\"keyup\", this.listenToKeyup.bind(this), false);\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"keydown\", this.listenToKeydown.bind(this), false);\n\t\twindow.removeEventListener(\"keyup\", this.listenToKeyup.bind(this), false);\n\t}\n    render(){\n        return (\n            <div className=\"top-header\">\n                <div className=\"menu\">\n                    {Object.entries(this.props.menu.menus).map((sub, key)=>{return <MenuSub key={key} sub={sub} />})}\n                </div>\n                <div className=\"menu__helpers\">\n                    {this.renderMenuHelpers()}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        menu:store.menu,\n        keyboard:store.keyboard\n    };\n};\nconst SmartMenuBar = connect(mapStateToProps)(MenuBar);\n\nexport default SmartMenuBar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PickHelpers from '../../factories/Pick';\nimport TreeHelpers from '../../factories/Tree';\nimport store from '../../store';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nclass Tree extends Component {\n    findTree(treeId,tree){\n        if (tree.id===treeId) {\n            return tree;\n        } else {\n            for (let child of tree.children){\n                return this.findTree(treeId,child);\n            }\n        }\n        return false;\n    }\n    selectItem(e){\n        let element = e.target;\n        let elementId = element.dataset.elementId;\n        let addKey = e.ctrlKey || e.metaKey;\n        //let swipeKey = e.shiftKey;\n\n        let currentPick = store.getState().pick;\n        let pick = merge(\n            {},\n            PickHelpers,\n            {\n                elements:currentPick.elements,\n                initialStates:currentPick.initialStates\n            }\n        );\n\n        // BOOM\n        PickHelpers.addElementToPick(elementId, pick, addKey);\n    }\n    renderChildren(){\n        let children = this.props.tree.children;\n        let returnArray =[];\n        let path = (this.props.path!==''?(this.props.path+'_'):'')+this.props.index;\n        for (let i=children.length-1; i>-1; i--){\n            returnArray.push(<Tree key={i} index={i} tree={children[i]} path={path}></Tree>);\n        }\n        return returnArray;\n    }\n    dragEnter(e){\n        e.preventDefault();\n        e.target.classList.add('hover');\n    }\n    dragLeave(e){\n        e.preventDefault();\n        e.target.classList.remove('hover');\n    }\n    drop(e, before=true){\n        // recursive funciton to calculate the new top-left\n\n        e.preventDefault();\n        let target = e.target;\n        let targetId = target.dataset.elementId;\n\n        if (!PickHelpers.isInPick(targetId)){\n            let state = store.getState();\n            let tree = merge({},state.tree);\n\n            let targetElementParent = TreeHelpers.getParentElementById(tree,targetId);\n\n            let pick = state.pick.elements;\n            let transferArray = [];\n            for (let element of pick){\n                // get the element to splice parent\n                let elementSource = TreeHelpers.getParentElementById(tree,element.id);\n\n                // get the parent position respect to 0\n                let parentGlobalPosition = TreeHelpers.getElementGlobalPosition(tree,elementSource.id);\n                \n                // splice the element\n                let transfer = TreeHelpers.spliceElementById(tree,element.id)[0];\n                \n                if(targetElementParent!==elementSource){\n                    let targetParentGlobalPosition = TreeHelpers.getElementGlobalPosition(tree,targetElementParent.id);\n\n                    transfer.states[transfer.currentState].style.left += (parentGlobalPosition.left - targetParentGlobalPosition.left);\n                    transfer.states[transfer.currentState].style.top += (parentGlobalPosition.top - targetParentGlobalPosition.top);\n                    \n                    // recalculate the width and height of the group now tha tit has a new element tha tcould have gone out of the boundaries\n                }\n                \n                if (transfer) transferArray.push(transfer);\n            }\n            tree = TreeHelpers[(before?'InsertElementsBefore':'InsertElementsAfter')](tree,targetId,transferArray);\n            store.dispatch({\n                type:'TREE_FULL',\n                val:tree\n            });\n            store.dispatch({\n                type:'PUBLIC_ADD',\n                key:'layerDrag',\n                val:false\n            })\n        }\n    }\n    dropBefore(e){\n        this.drop(e,true);\n    }\n    dropAfter(e){\n        this.drop(e,false);\n    }\n    dragOver(e){\n        e.preventDefault();\n    }\n    dragStart(e){\n        store.dispatch({\n            type:'PUBLIC_ADD',\n            key:'layerDrag',\n            val:true\n        })\n    }\n    componentWillMount(){\n        store.dispatch({\n            type:'PUBLIC_ADD',\n            key:'layerDrag',\n            val:false\n        })\n    }\n    componentWillUnmount(){\n        store.dispatch({\n            type:'PUBLIC_REMOVE',\n            key:'layerDrag'\n        })\n    }\n    renderButton(){\n        let tree = this.props.tree;\n        if(tree.id !== 'root'){\n            return (\n                <button className=\"tree-button\" data-element-id={this.props.tree.id} onDragStart={this.dragStart} draggable=\"true\" onMouseDown={this.selectItem}>\n                    <span className=\"drop-zone\" data-element-id={this.props.tree.id} onDragOver={this.dragOver} onDragEnter={this.dragEnter} onDragLeave={this.dragLeave}  onDrop={this.dropBefore.bind(this)}></span>\n                    {tree.label}\n                    <span className=\"drop-zone\" data-element-id={this.props.tree.id} onDragOver={this.dragOver} onDragEnter={this.dragEnter} onDragLeave={this.dragLeave} onDrop={this.dropAfter.bind(this)}></span>\n                </button>\n            );\n        } else {\n            return <button className=\"tree-button\" data-element-id={this.props.tree.id} onMouseDown={this.selectItem}>{tree.label}</button>\n        }\n    }\n    render(){\n        let tree = this.props.tree;\n        return (\n            <div className={\"tree-element ch_\"+tree.id}>\n\n                {this.renderButton()}\n\n                <style type=\"text/css\">{'.'+tree.id+' .ch_'+tree.id+'{background-color:#ccc} .'+tree.id+' .ch_'+tree.id+' .drop-zone{opacity:0 !important;pointer-events:none !important;}'}</style>\n\n                {this.renderChildren()}\n\n            </div>\n        );\n    }\n}\n\nclass LeftBar extends Component {\n    render(){\n        return (\n            <div className={\"leftbar \"+(this.props.public.layerDrag?'drag':'')+\" \"+this.props.pick.elements.map((element)  => {return element.id+\" \"}).join(\" \")}>\n                <Tree tree={this.props.tree} path={''} index={'root'}></Tree>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        tree:store.tree,\n        pick:store.pick,\n        public:store.public\n    };\n};\n\nconst SmartLeftBar = connect(mapStateToProps)(LeftBar);\n\nexport default SmartLeftBar;\n","import React, { Component } from 'react';\n\nclass InputNumeric extends Component {\n    render(){\n        return (<input type=\"number\" min={this.props.min} max={this.props.max} step={this.props.step} data-which={this.props.which} data-type=\"number\" value={this.props.value} onChange={this.props.change} disabled={this.props.disabled} />);\n    }\n}\nexport default InputNumeric;\n","import React, { Component } from 'react';\nimport './styles.css';\nimport { ChromePicker } from 'react-color';\n\nclass InputColor extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            pickerVisible:false\n        }\n        this.setColor = (color)=>{\n            let c = color.rgb;\n            let colorString = 'rgba('+c.r+','+c.g+','+c.b+','+c.a+')';\n            this.props.change({\n                target:{\n                    value:colorString,\n                    dataset:{\n                        which:this.props.which,\n                        type:\"string\"\n                    }\n                }\n            })\n        }\n        this.togglePicker = ()=>{\n            if (!this.props.disabled){\n                this.setState({\n                    pickerVisible:!this.state.pickerVisible\n                })\n            }\n        };\n    }\n    render(){\n        return (\n            <div className={\"input-color\"+(this.props.disabled?' disabled':'')}>\n                <div className=\"input-color__swatch-wrap\">\n                    <div className=\"input-color__swatch\" style={{backgroundColor:this.props.value}} onClick={this.togglePicker}></div>\n                </div>\n                <ChromePicker className={this.state.pickerVisible?'visible':''} color={this.props.value} onChangeComplete={this.setColor} />\n                <div  className={'input-color__backdrop '+(this.state.pickerVisible?'visible':'')} onClick={this.togglePicker}></div>\n            </div>\n        );\n    }\n}\nexport default InputColor;\n","import React, { Component } from 'react';\nimport './styles.css';\n\nclass InputRange extends Component {\n    render(){\n        return (<input className={'input-range '+this.props.className} type=\"range\" min={this.props.min} max={this.props.max} step={this.props.step} data-which={this.props.which} data-type=\"number\" value={this.props.value} onChange={this.props.change} disabled={this.props.disabled} />);\n    }\n}\nexport default InputRange;\n","import React, { Component } from 'react';\nimport './styles.css';\n\nclass InputSelect extends Component {\n    render(){\n        return (<select className={'input-select '+this.props.className} data-which={this.props.which} data-type=\"string\" value={this.props.value} onChange={this.props.change} disabled={this.props.disabled}>{this.props.children}</select>);\n    }\n}\nexport default InputSelect;\n","import React, { Component } from 'react';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\n\n\nclass CssNavigator extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            propName:'',\n            propValue:''\n        };\n    }\n    changeProp(e){\n        let elmt = e.target;\n        let val = elmt.value;\n        let prop = elmt.dataset.prop;\n        this.props.updateValue({\n            target:{\n                value:val,\n                dataset:{\n                    which:prop,\n                    type:(isNaN(val)?\"string\":\"number\")\n                }\n            }\n        })\n    }\n    deleteProp(e){\n        let elmt = e.target;\n        let prop = elmt.dataset.prop;\n        this.props.deleteProp({\n            target:{\n                dataset:{\n                    which:prop\n                }\n            }\n        })\n    }\n    addProp(e){\n        e.preventDefault();\n\n        this.props.addProp({\n            propName:this.state.propName.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); }),\n            propValue:this.state.propValue\n        });\n        this.setState({\n            propName:'',\n            propValue:''\n        })\n        this.refs.propName.focus();\n    }\n    definePropKey(e){\n        this.setState({\n            propName:e.target.value\n        })\n    }\n    definePropValue(e){\n        this.setState({\n            propValue:e.target.value\n        })\n    }\n    renderProperties(){\n        let output = [];\n        let styles = this.props.elementValues;\n        let toCss = (myStr)=>{\n            return myStr.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase();\n        }\n        // lets see first an expanded array of pros in the whole pick\n        let propObject = {};\n        for (let element of styles){\n            merge(propObject,element);\n        }\n\n        for (let prop in propObject){\n            output.push(\n                <div className=\"css-prop\" key={prop}>\n                    <label className=\"css-prop-label\">{toCss(prop)}</label>\n                    <input className=\"css-prop-val\" type=\"text\" data-prop={prop} value={this.props.getValue(styles,prop)} onChange={this.changeProp.bind(this)} />\n                    <button className=\"button button-icon material-icons\" data-prop={prop} onClick={this.deleteProp.bind(this)}>close</button>\n                </div>\n            );\n        }\n        return output\n    }\n    render(){\n\n        return(\n            <div className=\"css-nav\">\n                {this.renderProperties()}\n                <form className=\"css-prop\" onSubmit={this.addProp.bind(this)}>\n                    <input ref=\"propName\" type=\"text\" onChange={this.definePropKey.bind(this)} value={this.state.propName} placeholder=\"Property\" />\n                    <input type=\"text\" onChange={this.definePropValue.bind(this)} value={this.state.propValue} placeholder=\"Value\" />\n                    <button type=\"submit\" className=\"button button-icon material-icons\">add_circle_outline</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default CssNavigator;\n","import React, { Component } from 'react';\nimport InputNumeric from '../Inputs/InputNumeric/';\nimport InputColor from '../Inputs/InputColor/';\n\nimport './styles.css';\n\n\n\nclass ShadowHandler extends Component {\n    generateValue(props){\n        return(props['x']+'px ' + props['y'] + 'px ' + props['blur'] + 'px ' + props['color']);\n    }\n    changeShadow(e,props,prop){\n        let val = e.target.value;\n        props[prop] = val;\n\n        this.props.change({\n            target:{\n                value:this.generateValue(props),\n                dataset:{\n                    which:this.props.what\n                }\n            }\n        })\n    }\n    generateProps(props){\n        if (props){\n            let pa = props.split(' ');\n            let x = parseFloat(pa[0].replace('px',''));\n            let y = parseFloat(pa[1].replace('px',''));\n            let b = parseFloat(pa[2].replace('px',''));\n            let c = pa[3];\n            let ro = {\n                x:x,\n                y:y,\n                blur:b,\n                color:c\n            };\n            return ro;\n        }\n        return {\n            x:'0',\n            y:'0',\n            blur:'0',\n            color:'rgba(0,0,0,1)'\n        }\n    }\n    render(){\n        let sProps = this.generateProps(this.props.value);\n        return(\n            <div className=\"shadow-handler\">\n                <InputNumeric value={sProps.x} change={(e)=>{this.changeShadow(e,sProps,'x')}} disabled={this.props.disabled} />\n                <InputNumeric value={sProps.y} change={(e)=>{this.changeShadow(e,sProps,'y')}} disabled={this.props.disabled} />\n                <InputNumeric value={sProps.blur} change={(e)=>{this.changeShadow(e,sProps,'blur')}} min={0} disabled={this.props.disabled} />\n                <InputColor value={sProps.color} change={(e)=>{this.changeShadow(e,sProps,'color')}} disabled={this.props.disabled} />\n            </div>\n        );\n    }\n}\n\nexport default ShadowHandler;\n","import React, { Component } from 'react';\nimport {merge} from 'lodash';\nimport InputNumeric from '../Inputs/InputNumeric/';\nimport ShadowHandler from '../ShadowHandler/';\n\nimport './styles.css';\n\nclass FilterComposer extends Component {\n    toggle(e,props){\n        console.log(props);\n        let what = e.target.dataset.what;\n        let nuState = merge({},props);\n        nuState[what].on = !nuState[what].on\n        this.zap(nuState);\n    }\n    generateValue(props){\n        let output = '';\n        for (let filter in props){\n            if (props[filter].on){\n                output += filter+'('+props[filter].value+props[filter].appendix+') ';\n            }\n        }\n        return output.trim();\n    }\n    zap(props){\n        let textValue = this.generateValue(props);\n        this.props.change({\n            target:{\n                value:textValue,\n                dataset:{\n                    which:'filter'\n                }\n            }\n        });\n    }\n    updateFilter(e,props){\n        let value = e.target.value;\n        let nuState = merge({},props);\n        let which = e.target.dataset.which;\n        nuState[which].value = value;\n        this.zap(nuState);\n    }\n    formatProps(val){\n        let propObject = {\n            'drop-shadow':{\n                on:false,\n                value:'0px 0px 0px rgba(0,0,0,1)',\n                appendix:''\n            },\n            blur:{\n                on:false,\n                value:0,\n                appendix:'px'\n            },\n            brightness:{\n                on:false,\n                value:100,\n                appendix:'%'\n            },\n            contrast:{\n                on:false,\n                value:100,\n                appendix:'%'\n            },\n            grayscale:{\n                on:false,\n                value:0,\n                appendix:'%'\n            },\n            'hue-rotate':{\n                on:false,\n                value:0,\n                appendix:'deg'\n            },\n            invert:{\n                on:false,\n                value:0,\n                appendix:'%'\n            },\n            saturate:{\n                on:false,\n                value:100,\n                appendix:'%'\n            },\n            sepia:{\n                on:false,\n                value:0,\n                appendix:'%'\n            }\n        };\n        if(val){\n            let effectsArray = val.split(')').filter(function(x){\n              return (x !== (undefined || null || ''));\n            });\n            for (let effect of effectsArray){\n                let effectPieces = effect.split('(');\n                let effectName = effectPieces[0].trim();\n                let effectVal = effectPieces[1];\n                if (effectName!=='drop-shadow'){\n                    let effectNumericVal = effectVal.replace(/\\D+/g, '');\n                    let effectUnit = effectVal.replace(effectNumericVal,'');\n                    propObject[effectName] = {\n                        on:true,\n                        value:parseFloat(effectNumericVal),\n                        appendix:effectUnit\n                    }\n                } else {\n                    propObject[effectName] = {\n                        on:true,\n                        value:(effectPieces.length>2?effectPieces[1]+'('+effectPieces[2]+')':effectPieces[1]),\n                        appendix:''\n                    }\n                }\n            }\n        }\n        return propObject;\n    }\n    render(){\n        let fProps = this.formatProps(this.props.value);\n        return(\n            <div className=\"filters\">\n                <div className=\"sidebar__grid\">\n                    <input type=\"checkbox\" data-props={fProps} data-what=\"drop-shadow\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps['drop-shadow'].on} />\n                    <label className=\"span-2 text-left js-start\">Drop Shadow</label>\n                    <div className=\"span-3\">\n                        <ShadowHandler what='drop-shadow' disabled={fProps['drop-shadow'].on?\"\":\"disabled\"} value={fProps['drop-shadow'].value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"blur\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.blur.on} />\n                    <label className=\"span-2 text-left js-start\">Blur</label>\n                    <div className=\"span-3\">\n                        <div className=\"span-3\">\n                            <InputNumeric disabled={fProps.blur.on?\"\":\"disabled\"} min={0} step={1} which=\"blur\" value={fProps.blur.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                        </div>\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"brightness\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.brightness.on} />\n                    <label className=\"span-2 text-left js-start\">Brightness</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.brightness.on?\"\":\"disabled\"} min={0} step={1} which=\"brightness\" value={fProps.brightness.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"contrast\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.contrast.on} />\n                    <label className=\"span-2 text-left js-start\">Contrast</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.contrast.on?\"\":\"disabled\"} min={0} step={1} which=\"contrast\" value={fProps.contrast.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"hue-rotate\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps['hue-rotate'].on} />\n                    <label className=\"span-2 text-left js-start\">Hue</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps['hue-rotate'].on?\"\":\"disabled\"} min={0} max={360} step={'any'} which=\"hue-rotate\" value={fProps['hue-rotate'].value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"saturate\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.saturate.on} />\n                    <label className=\"span-2 text-left js-start\">Saturation</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.saturate.on?\"\":\"disabled\"} min={0} step={1} which=\"saturate\" value={fProps.saturate.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"invert\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.invert.on} />\n                    <label className=\"span-2 text-left js-start\">Invert</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.invert.on?\"\":\"disabled\"} min={0} max={100} step={'any'} which=\"invert\" value={fProps.invert.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"grayscale\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.grayscale.on} />\n                    <label className=\"span-2 text-left js-start\">Grayscale</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.grayscale.on?\"\":\"disabled\"} min={0} max={100} step={'any'} which=\"grayscale\" value={fProps.grayscale.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n                    <input type=\"checkbox\" data-what=\"sepia\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.sepia.on} />\n                    <label className=\"span-2 text-left js-start\">Sepia</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.sepia.on?\"\":\"disabled\"} min={0} max={100} step={'any'} which=\"sepia\" value={fProps.sepia.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default FilterComposer;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {merge} from 'lodash';\nimport TreeHelpers from '../../factories/Tree';\nimport store from '../../store';\nimport InputNumeric from '../Inputs/InputNumeric/';\nimport InputColor from '../Inputs/InputColor/';\nimport InputRange from '../Inputs/InputRange/';\nimport InputSelect from '../Inputs/InputSelect/';\nimport CssNavigator from '../CssNavigator/';\nimport FilterComposer from '../FilterComposer/';\n\nclass ElementsSidebarProperties extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            filtersCollapsed:true\n        }\n    }\n    elementValues(){\n        // let's get the pick\n        let pick = this.props.pick.elements;\n\n\n        // let's handle the pick\n        if (pick.length===0){\n            // nothings selected, thus we present the arboard props\n            let elementData = this.props.tree;\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n            return [stateStyle];\n\n        } else {\n            // just one element, have fun\n            // lets get that element's props\n            let output = [];\n            for (let pickElement of pick){\n                let elementId = pickElement.id;\n                let elementData = TreeHelpers.getElementDataById(this.props.tree.children,elementId);\n                let elementState = elementData.currentState;\n                let stateStyle = elementData.states[elementState].style;\n\n                output.push(stateStyle);\n\n            }\n\n            return output;\n        }\n    }\n    elementTypes(){\n        // let's get the pick\n        let pick = this.props.pick.elements;\n        // let's handle the pick\n        if (pick.length===0){\n            return this.props.tree.type;\n        } else {\n            let outputType = null;\n            for (let pickElement of pick){\n                let elementData = TreeHelpers.getElementDataById(this.props.tree.children,pickElement.id);\n                if (!outputType){\n                    outputType = elementData.type;\n                } else {\n                    if (outputType!==elementData.type){\n                        return 'mixed';\n                    }\n                }\n            }\n            return outputType;\n        }\n    }\n    shouldComponentUpdate(){\n        //return (this.props.pick.elements.length>0?true:false);\n        return this.props.tools.current === 'selection';\n    }\n    getValue(styles,prop){\n        if (styles.length < 2) {\n            let style = styles[0];\n            if (style && (style[prop]!==undefined)){\n                return style[prop];\n            }\n        } else {\n            let baseStyle;\n            let style = styles[0];\n            if (style && (style[prop]!==undefined)){\n                baseStyle = style[prop];\n            }\n            // multiple elements! superfun!\n            // default behavior is that for elements that have the same values at the same properties\n            // we show the value, otherwise we show blank!\n            for (let i=1;i<styles.length;i++){\n                style = styles[i];\n                if (style && (style[prop]!==undefined) && (style[prop]===baseStyle)){\n                    // life's good,  let's move forward\n                } else {\n                    return '';\n                }\n            }\n            return baseStyle;\n        }\n        return '';\n    }\n    updateValue(e,altValue = false){\n        // let's get the pick\n        let dataType = function(data,type){\n            switch(type){\n                case ('number'):\n                    return parseFloat(data);\n                default:\n                    return data;\n            }\n        };\n        let pick = this.props.pick.elements;\n        let nuTree = merge({},this.props.tree);\n        let zeInput = e.target;\n        let which = zeInput.dataset.which;\n        let zeValue = (altValue?altValue:dataType(zeInput.value,zeInput.dataset.type));\n        // let's handle the pick\n        if (pick.length===0){\n            // nothings selected, thus we present the arboard props\n\n            let elementData = nuTree;\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n            stateStyle[which] = zeValue;\n\n        } else {\n            // just one element, have fun\n            // lets get that element's props\n            for (let pickElement of pick){\n                let elementId = pickElement.id;\n\n                let elementData = TreeHelpers.getElementDataById(nuTree.children,elementId);\n                let elementState = elementData.currentState;\n                let stateStyle = elementData.states[elementState].style;\n\n                stateStyle[which] = zeValue;\n            }\n        }\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    deleteProp(e){\n        let pick = this.props.pick.elements;\n        let nuTree = merge({},this.props.tree);\n        let zeInput = e.target;\n        let which = zeInput.dataset.which;\n\n        if (pick.length>0){\n            // just one element, have fun\n            // lets get that element's props\n            let pickElement = pick[0];\n            let elementId = pickElement.id;\n\n            let elementData = TreeHelpers.getElementDataById(nuTree.children,elementId);\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n            delete stateStyle[which];\n        }\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    addProp(args){\n        let pick = this.props.pick.elements;\n        let nuTree = merge({},this.props.tree);\n        let elementData;\n\n        if (pick.length>0){\n            // just one element, have fun\n            // lets get that element's props\n            let pickElement = pick[0];\n            let elementId = pickElement.id;\n\n            elementData = TreeHelpers.getElementDataById(nuTree.children,elementId);\n        } else if (pick.length===0){\n            elementData = nuTree;\n        }\n        let elementState = elementData.currentState;\n        let stateStyle = elementData.states[elementState].style;\n        stateStyle[args.propName] = args.propValue;\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    rotateFunc(str = 'rotate(0deg)'){\n        return parseInt(str.split('(')[1].split('deg')[0],10);\n    };\n    rotateChange(e){\n        e.persist()\n        this.updateValue(e,'rotate(Xdeg)'.replace('X',e.target.value));\n    }\n    render(){\n        let elementValues = this.elementValues();\n        let elementTypes = this.elementTypes();\n        let pickLength = this.props.pick.elements.length;\n        return (\n            <div className=\"sidebar__sub sidebar__properties\">\n                <div className=\"sidebar-easy\">\n                    <div className=\"sidebar__group\">\n                        <h3>Dimensions</h3>\n                        <div className=\"sidebar__grid\">\n                            <label>X</label>\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} which=\"left\" value={this.getValue(elementValues,'left')} change={this.updateValue.bind(this)} />\n                            <label title=\"Width\">W</label>\n                            <InputNumeric min={0} which=\"width\" value={this.getValue(elementValues,'width')} change={this.updateValue.bind(this)} />\n                            <label title=\"Rotation\" className=\"flex-static\"><i className=\"material-icons\">rotate_left</i></label>\n                            <InputNumeric which=\"transform\" disabled={pickLength<1?\"disabled\":\"\"} value={this.rotateFunc(this.getValue(elementValues,'transform'))} change={this.rotateChange.bind(this)} />\n                            <label>Y</label>\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} which=\"top\" value={this.getValue(elementValues,'top')} change={this.updateValue.bind(this)} />\n                            <label title=\"Height\">H</label>\n                            <InputNumeric min={0} which=\"height\" value={this.getValue(elementValues,'height')} change={this.updateValue.bind(this)} />\n                            <label title=\"Border Radius\" className=\"flex-static\"><i className=\"material-icons\">rounded_corner</i></label>\n                            <InputNumeric min={0} which=\"borderRadius\" disabled={pickLength<1?\"disabled\":\"\"} value={this.getValue(elementValues,'borderRadius')} change={this.updateValue.bind(this)} />\n                        </div>\n                    </div>\n                    <div className=\"sidebar__group\">\n                        <h3>Blending</h3>\n                        <div className=\"sidebar__grid\">\n                            <label title=\"Opacity\"><i className=\"material-icons\">opacity</i></label>\n                            <InputRange className=\"span-4\" disabled={pickLength<1?\"disabled\":\"\"} min={0} max={1} step={0.01} which=\"opacity\" value={this.getValue(elementValues,'opacity')} change={this.updateValue.bind(this)} />\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} min={0} max={1} step={0.01} which=\"opacity\" value={this.getValue(elementValues,'opacity')} change={this.updateValue.bind(this)} />\n                            <label title=\"Blend Mode\"><i className=\"material-icons\">filter</i></label>\n                            <InputSelect className=\"span-5\" disabled={pickLength<1?\"disabled\":\"\"} which=\"mixBlendMode\" value={this.getValue(elementValues,'mixBlendMode')} change={this.updateValue.bind(this)}>\n                                <optgroup>\n                                    <option value=\"normal\">Normal</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"darken\">Darken</option>\n                                    <option value=\"multiply\">Multiply</option>\n                                    <option value=\"color-burn\">Color Burn</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"lighten\">Lighten</option>\n                                    <option value=\"screen\">Screen</option>\n                                    <option value=\"color-dodge\">Color Dodge</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"overlay\">Overlay</option>\n                                    <option value=\"soft-light\">Soft Light</option>\n                                    <option value=\"hard-light\">Hard Light</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"difference\">Difference</option>\n                                    <option value=\"exclusion\">Exclusion</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"hue\">Hue</option>\n                                    <option value=\"saturation\">Saturation</option>\n                                    <option value=\"color\">Color</option>\n                                    <option value=\"luminosity\">Luminosity</option>\n                                </optgroup>\n                            </InputSelect>\n                        </div>\n                    </div>\n                    <div className={\"sidebar__group\" + ((elementTypes!=='mixed')&&(elementTypes!=='group')?'':' hidden')}>\n                        <h3>Color</h3>\n                        <div className=\"sidebar__grid\">\n                            <label title=\"Fill Style\"><i className='material-icons'>format_color_fill</i></label>\n                            <InputColor which=\"backgroundColor\" value={this.getValue(elementValues,'backgroundColor')} change={this.updateValue.bind(this)} />\n                        </div>\n                    </div>\n                    <div className={\"sidebar__group\" + ((elementTypes!=='mixed')&&(elementTypes!=='group')?'':' hidden')}>\n                        <h3>Border</h3>\n                        <div className=\"sidebar__grid\">\n                            <label title=\"Border Style\"><i className='material-icons'>border_style</i></label>\n                            <InputColor disabled={pickLength<1?\"disabled\":\"\"} which=\"borderColor\" value={this.getValue(elementValues,'borderColor')} change={this.updateValue.bind(this)} />\n                            <InputSelect className=\"span-3\" disabled={pickLength<1?\"disabled\":\"\"} which=\"borderStyle\" value={this.getValue(elementValues,'borderStyle')} change={this.updateValue.bind(this)}>\n                                <optgroup>\n                                    <option value=\"none\">None</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"solid\">Solid</option>\n                                    <option value=\"dashed\">Dashed</option>\n                                    <option value=\"dotted\">Dotted</option>\n                                    <option value=\"double\">Double</option>\n                                    <option value=\"groove\">Groove</option>\n                                    <option value=\"ridge\">Ridge</option>\n                                    <option value=\"inset\">Inset</option>\n                                    <option value=\"outset\">Outset</option>\n                                </optgroup>\n                            </InputSelect>\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} min={0} which=\"borderWidth\" value={this.getValue(elementValues,'borderWidth')} change={this.updateValue.bind(this)} />\n                        </div>\n                    </div>\n                    <div className={\"sidebar__group\"+(this.state.filtersCollapsed?\" collapsed\":\"\") + ((elementTypes!=='artboard')?'':' hidden')}>\n                        <h3>Filters <button className=\"collapse\" onClick={()=>{this.setState({filtersCollapsed:!this.state.filtersCollapsed})}}><i className=\"material-icons dd\">arrow_drop_down</i><i className=\"material-icons du\">arrow_drop_up</i></button></h3>\n                        <FilterComposer disabled={pickLength<1?\"disabled\":\"\"} elements={this.props.pick.elements} which=\"filter\" value={this.getValue(elementValues,'filter')} change={this.updateValue.bind(this)}  />\n                    </div>\n                </div>\n                <div className=\"sidebar-geek\">\n                    <div className=\"sidebar__group\">\n                        <h3>Advanced <span className=\"tip\">(It&#39;s just CSS)</span></h3>\n                        <CssNavigator addProp={this.addProp.bind(this)} deleteProp={this.deleteProp.bind(this)} elementValues={elementValues} getValue={this.getValue.bind(this)} updateValue={this.updateValue.bind(this)} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick,\n        tree:store.tree,\n        tools:store.tools\n    };\n};\nconst SmartElementsSidebarProperties = connect(mapStateToProps)(ElementsSidebarProperties);\n\n\nexport default SmartElementsSidebarProperties;\n","import React, { Component } from 'react';\nimport ElementsSidebarProperties from '../ElementsSidebarProperties/';\nimport './styles.css';\n\nclass ElementsSidebar extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            geekMode:false,\n            activeTab:'properties'\n        }\n    }\n    switchMode(){\n        this.setState({\n            geekMode:!this.state.geekMode\n        })\n    }\n    render(){\n        return (\n            <div className={\"sidebar \"+this.state.activeTab+(this.state.geekMode?\" geek-mode\":'')}>\n                <div className=\"sidebar__tabs\">\n                    <button className=\"sidebar__tab active\">Properties <span className=\"geek-mode-switch material-icons\" title=\"Geek Mode\" onClick={()=>{this.setState({geekMode:!this.state.geekMode})}}>code</span></button>\n                    {/* <button className=\"sidebar__tab\">Actions</button> */}\n                </div>\n                <div className=\"sidebar__gap\"></div>\n                <ElementsSidebarProperties />\n            </div>\n        );\n    }\n}\n\nexport default ElementsSidebar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Workarea from '../Workarea/';\nimport Artboard from '../Artboard/';\nimport cssTools from '../../factories/Css';\nimport Toolbar from '../Toolbar/';\nimport MenuBar from '../MenuBar/';\nimport LeftBar from '../LeftBar/';\nimport ElementsSidebar from '../ElementsSidebar/';\nimport store from '../../store';\n\nimport './styles.css';\n\nclass App extends Component {\n    renderArtboards(){\n        const artboards = [this.props.tree];\n        return artboards.map((tree, i) => {\n            return (<Artboard key={i} tree={tree}></Artboard>);\n        });\n    }\n    updateTree(editor,data,val){\n        let ob = null;\n        try {\n           ob =  JSON.parse(val)\n        }\n        catch (e) {\n           console.log('oops',e);\n\n        }\n        if (ob) {\n            store.dispatch({\n                type:'TREE_FULL',\n                val:ob\n            });\n        }\n    }\n    componentWillMount(){\n        // initialize stuff\n    }\n    componentDidMount(){\n        // initialize stuff that requires dom\n        let classes = this.props.library.classes;\n        let styleSheet = cssTools.getStylesheet('dynamicStylesheet');\n        if (styleSheet) {\n            cssTools.initializeSheet(styleSheet,classes);\n        }\n    }\n    render() {\n        return (\n            <div className=\"wrap\">\n                <style id=\"dynamicStylesheet\" type=\"text/css\"></style>\n                <MenuBar />\n                <div className={\"main \"+this.props.tools.current+' '+this.props.workarea.elementClass.join(' ')}>\n                    <Toolbar></Toolbar>\n                    <LeftBar />\n                    <Workarea>{this.renderArtboards()}</Workarea>\n                    <ElementsSidebar />\n                </div>\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = function(store) {\n  return {\n    tree:store.tree,\n    library:store.library,\n    tools:store.tools,\n    workarea:store.workarea\n  };\n};\nconst SmartApp = connect(mapStateToProps)(App);\n\nexport default SmartApp;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { Router, Route, browserHistory  } from 'react-router';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/';\nimport registerServiceWorker from './registerServiceWorker';\nimport store from './store';\n\nimport './styles.css';\n\n// expose API to global in order to admit plugins\nwindow.Atlas = function(){\n    return {\n        setTree:(tree)=>{\n            store.dispatch({\n                type:'TREE_FULL',\n                val:tree\n            })\n        },\n        addMenuItem:(menuItem)=>{\n            store.dispatch({\n\n            });\n        }\n    }\n};\n\n// init and render to DOM function\nconst initialize = () => ReactDOM.render(\n  <Provider store={store}>\n    <Router history={browserHistory}>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// initialize\ninitialize();\nregisterServiceWorker();\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === 'installed') {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log('New content is available; please refresh.');\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log('Content is cached for offline use.');\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error('Error during service worker registration:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export default [\n    {\n        name: 'print',\n        icon: \"preset-print\",\n        default: 7,\n        layouts: [{\n            name: '4a0',\n            unit: \"mm\",\n            width: 1682,\n            height: 2378\n        }, {\n            name: '2a0',\n            unit: \"mm\",\n            width: 1189,\n            height: 1682\n        }, {\n            name: 'a0',\n            unit: \"mm\",\n            width: 841,\n            height: 1189\n        }, {\n            name: 'a1',\n            unit: \"mm\",\n            width: 594,\n            height: 841\n        }, {\n            name: 'a2',\n            unit: \"mm\",\n            width: 420,\n            height: 594\n        }, {\n            name: 'a2',\n            unit: \"mm\",\n            width: 420,\n            height: 594\n        }, {\n            name: 'a3',\n            unit: \"mm\",\n            width: 297,\n            height: 420\n        }, {\n            name: 'a4',\n            unit: \"mm\",\n            width: 210,\n            height: 297\n        }, {\n            name: 'a5',\n            unit: \"mm\",\n            width: 148,\n            height: 210\n        }, {\n            name: 'a6',\n            unit: \"mm\",\n            width: 105,\n            height: 148\n        }, {\n            name: 'a7',\n            unit: \"mm\",\n            width: 74,\n            height: 105\n        }, {\n            name: 'a8',\n            unit: \"mm\",\n            width: 52,\n            height: 74\n        }, {\n            name: 'a9',\n            unit: \"mm\",\n            width: 37,\n            height: 52\n        }, {\n            name: 'a10',\n            unit: \"mm\",\n            width: 26,\n            height: 37\n        }, {\n            name: 'us-letter-portrait',\n            unit: \"in\",\n            width: 8.5,\n            height: 11\n        }, {\n            name: 'us-letter-landscape',\n            unit: \"in\",\n            width: 11,\n            height: 8.5\n        }, {\n            name: 'business-card',\n            unit: \"mm\",\n            width: 85,\n            height: 55\n        }, {\n            name: 'flyer',\n            unit: \"in\",\n            width: 5,\n            height: 7\n        }, {\n            name: 'postcard',\n            unit: \"mm\",\n            width: 148,\n            height: 105\n        }]\n    }, {\n        name: 'text.web',\n        icon: \"preset-web\",\n        layouts: [{\n            name: 'blog-cover',\n            unit: \"px\",\n            width: 560,\n            height: 315\n        }, {\n            name: 'blog-graphic',\n            unit: \"px\",\n            width: 800,\n            height: 1200\n        }, {\n            name: 'website-small',\n            unit: \"px\",\n            width: 1024,\n            height: 768\n        }, {\n            name: 'website-normal',\n            unit: \"px\",\n            width: 1280,\n            height: 800\n        }, {\n            name: 'website-medium',\n            unit: \"px\",\n            width: 1366,\n            height: 768\n        }, {\n            name: 'website-large',\n            unit: \"px\",\n            width: 1440,\n            height: 900\n        }, {\n            name: 'website-huge',\n            unit: \"px\",\n            width: 1920,\n            height: 1280\n        }, {\n            name: 'full-website',\n            unit: \"px\",\n            width: 1440,\n            height: 3072\n        }]\n    }, {\n        name: 'social',\n        icon: \"preset-social\",\n        layouts: [{\n            name: 'facebook-cover',\n            unit: \"px\",\n            width: 851,\n            height: 315\n        }, {\n            name: 'twitter-cover',\n            unit: \"px\",\n            width: 1500,\n            height: 500\n        }, {\n            name: 'youtube-cover',\n            unit: \"px\",\n            width: 2560,\n            height: 1440\n        }, {\n            name: 'google-cover',\n            unit: \"px\",\n            width: 1080,\n            height: 608\n        }, {\n            name: 'linkedin-cover',\n            unit: \"px\",\n            width: 1440,\n            height: 425\n        }, {\n            name: 'twitch-cover',\n            unit: \"px\",\n            width: 900,\n            height: 480\n        }, {\n            name: 'twitter-post',\n            unit: \"px\",\n            width: 1024,\n            height: 512\n        }, {\n            name: 'facebook-post',\n            unit: \"px\",\n            width: 940,\n            height: 788\n        }, {\n            name: 'facebook-app',\n            unit: \"px\",\n            width: 810,\n            height: 450\n        }, {\n            name: 'facebook-ad',\n            unit: \"px\",\n            width: 1200,\n            height: 627\n        }, {\n            name: 'instagram-post',\n            unit: \"px\",\n            width: 1080,\n            height: 1080\n        }, {\n            name: 'tumblr-graphic',\n            unit: \"px\",\n            width: 540,\n            height: 810\n        }, {\n            name: 'pinterest-pin',\n            unit: \"px\",\n            width: 735,\n            height: 600\n        }, {\n            name: 'twitch-video',\n            unit: \"px\",\n            width: 1206,\n            height: 708\n        }, {\n            name: 'linkedin-banner',\n            unit: \"px\",\n            width: 646,\n            height: 220\n        }]\n    }, {\n        name: 'screen',\n        icon: \"preset-screen\",\n        layouts: [{\n            name: \"iPhone X\",\n            unit: \"px\",\n            width: 375,\n            height: 812\n        }, {\n            name: \"iPhone 8 Plus\",\n            unit: \"px\",\n            width: 414,\n            height: 736\n        }, {\n            name: \"iPhone 8\",\n            unit: \"px\",\n            width: 375,\n            height: 667\n        }, {\n            name: \"iPhone SE\",\n            unit: \"px\",\n            width: 320,\n            height: 568\n        }, {\n            name: \"Nexus 5\",\n            unit: \"px\",\n            width: 360,\n            height: 640\n        }, {\n            name: \"Apple Watch 38mm\",\n            unit: \"px\",\n            width: 272,\n            height: 340\n        }, {\n            section: \"55f6e10de679477c7bca92c4\",\n            name: \"Apple Watch 42mm\",\n            unit: \"px\",\n            width: 312,\n            height: 390\n        }]\n    }, {\n        name: 'screen',\n        icon: \"preset-tablet\",\n        layouts: [{\n            name: \"iPad 3/4/Air/Mini\",\n            unit: \"px\",\n            width: 768,\n            height: 1024\n        }, {\n            name: \"iPad Pro 12.9in\",\n            unit: \"px\",\n            width: 1024,\n            height: 1366\n        }, {\n            name: \"Nexus 7\",\n            unit: \"px\",\n            width: 600,\n            height: 960\n        }, {\n            name: \"Nexus 9\",\n            unit: \"px\",\n            width: 1024,\n            height: 768\n        }, {\n            name: \"Nexus 10\",\n            unit: \"px\",\n            width: 1280,\n            height: 800\n        }, {\n            name: \"Surface Pro 3\",\n            unit: \"px\",\n            width: 1440,\n            height: 960\n        }, {\n            name: \"Surface Pro 4\",\n            unit: \"px\",\n            width: 1368,\n            height: 912\n        }]\n    }\n]\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { merge } from 'lodash';\nimport { Artboard } from '../../../../structures/Element';\nimport store from '../../../../store';\nimport layouts from './PredefinedLayouts';\n\nimport './styles.css';\n\nexport class MenuItem extends Component{\n    newFile(){\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNewVisible',\n            value:true\n        });\n    }\n    render(){\n        return (\n            <div>\n                <button className=\"menu__dropdown-item\" onClick={this.newFile}>New</button>\n            </div>\n        )\n    }\n}\n\nexport class DumbMenuHelper extends Component{\n    constructor(props){\n\t\tsuper(props);\n        this.defaultData= {\n            width:240,\n            height:360\n        };\n        this.setWidth = function(e){\n            let nuData = merge({},this.props.menu.helperData.menuFileNew);\n            nuData.width=e.target.value;\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNew',\n                value:nuData\n            })\n        }.bind(this);\n        this.setHeight = function(e){\n            let nuData = merge({},this.props.menu.helperData.menuFileNew);\n            nuData.height=e.target.value;\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNew',\n                value:nuData\n            })\n        }.bind(this);\n        this.setLayout = function(e){\n            let nuData = merge({},this.props.menu.helperData.menuFileNew);\n            let wha = e.target.value.split('x');\n            nuData.width=parseInt(wha[0],10);\n            nuData.height=parseInt(wha[1],10);\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNew',\n                value:nuData\n            })\n        }.bind(this);\n        this.createNewFile = function(){\n            let size = this.props.menu.helperData.menuFileNew;\n            let nuTree = merge({},Artboard);\n            nuTree.states[0].style.width = size.width;\n            nuTree.states[0].style.height = size.height;\n            store.dispatch({\n                type:'TREE_FULL',\n                val:nuTree\n            });\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNewVisible',\n                value:false\n            });\n        }.bind(this);\n    }\n    componentWillMount(){\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNew',\n            value:this.defaultData\n        });\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNewVisible',\n            value:false\n        });\n    }\n    cancel(){\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNewVisible',\n            value:false\n        })\n    }\n    renderLayouts(){\n        let renderSizes = function(los){\n            return los.map((lo,j)=>{\n                return <option key={j} value={lo.width+'x'+lo.height}>{lo.name} - ({lo.width}x{lo.height}){lo.unit}</option>\n            });\n        }\n        return layouts.map((type, i)=>{\n            return <optgroup key={i} label={type.name}>{renderSizes(type.layouts)}</optgroup>\n        });\n    }\n    render(){\n        let selfData = this.props.menu.helperData.menuFileNew?this.props.menu.helperData.menuFileNew:this.defaultData;\n        let visible = this.props.menu.helperData.menuFileNewVisible;\n        return(\n            <div className={visible?'nfo visible':'nfo'}>\n                <div className=\"nfo__backdrop\"></div>\n                <div className=\"nfo__layer\">\n                    <div>\n                        <label>Predefined Layout</label>\n                        <select onChange={this.setLayout}>\n                            {this.renderLayouts()}\n                        </select>\n                    </div>\n                    <div>\n                        <label>Width</label>\n                        <input type=\"number\" onChange={this.setWidth} value={selfData.width} />px\n                    </div>\n                    <div>\n                        <label>Height</label>\n                        <input type=\"number\" onChange={this.setHeight} value={selfData.height}/>px\n                    </div>\n                    <div><button onClick={this.cancel}>Cancel</button> <button onClick={this.createNewFile}>Go</button></div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        menu:store.menu\n    };\n};\n\nexport const MenuHelper = connect(mapStateToProps)(DumbMenuHelper);\n"],"sourceRoot":""}