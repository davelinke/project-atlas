{"version":3,"sources":["factories/Tree.js","components/MenuBar/SingleComponents sync /^/.//.*//$","factories/ObjectTools.js","reducers/historyReducer.js","reducers/keyboardReducer.js","factories/Keyboard.js","reducers/mouseReducer.js","reducers/libraryReducer.js","reducers/todosReducer.js","factories/ToolData.js","reducers/toolsReducer.js","toolset/index.js","toolset/selection.js","toolset/box.js","toolset/zoom.js","toolset/pan.js","reducers/treeReducer.js","reducers/undosReducer.js","reducers/workareaReducer.js","reducers/screenReducer.js","reducers/pickReducer.js","reducers/menuReducer.js","structures/Menu.js","reducers/publicReducer.js","store.js","components/MenuBar/SingleComponents/ObjectGroup/index.js","components/MenuBar/SingleComponents/ObjectUnGroup/index.js","components/MenuBar/SingleComponents/WorkspaceSnapToGrid/index.js","structures/Element.js","factories/Pick.js","factories/FilterTools.js","factories/CoordFilters.js","components/InputLogger/index.js","components/Workarea/index.js","components/Element/index.js","components/Artboard/index.js","factories/Css.js","components/ToolbarButton/index.js","components/Toolbar/index.js","components/MenuBar/index.js","components/LeftBar/index.js","components/Inputs/InputNumeric/index.js","components/Inputs/InputColor/index.js","components/Inputs/InputRange/index.js","components/Inputs/InputSelect/index.js","components/CssNavigator/index.js","components/ShadowHandler/index.js","components/FilterComposer/index.js","components/ElementsSidebarProperties/index.js","components/ElementsSidebar/index.js","components/App/index.js","index.js","registerServiceWorker.js","components/MenuBar/SingleComponents/MenuFileNew/PredefinedLayouts.js","components/MenuBar/SingleComponents/MenuFileNew/index.js"],"names":["_structures_Element__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","lodash__WEBPACK_IMPORTED_MODULE_1__","TreeFactory","InsertElements","where","id","elements","position","arguments","length","undefined","searchTree","so","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","io","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","element","splice","indexOf","err","return","c","children","InsertElementsAfter","this","InsertElementsBefore","getElementIndex","j","getParentArray","getParentElementById","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","sub","getElementGlobalPosition","coords","left","top","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","states","currentState","style","getElementDataById","target","removeElementById","nuWhere","merge","filterChildren","spliceElementById","makeId","text","possible","i","charAt","Math","floor","random","Date","getTime","generateElement","label","type","baseStyle","Style","baseState","State","Element","newLayerName","checkLayerName","name","pre","data","finalname","map","./MenuFileNew/","./ObjectGroup/","./ObjectUnGroup/","./WorkspaceSnapToGrid/","webpackContext","req","webpackContextResolve","e","Error","code","keys","Object","resolve","module","exports","__webpack_exports__","getElementPosition","key","val","arr","objectAvailableByKey","defaultState","prev","tree","historyReducer","state","action","shift","set","86","keydown","ctrlKey","store","dispatch","keyup","event","82","90","18","getState","tools","current","32","pan","cursor","initialize","lastTool","public","destroy","keyboardReducer","x","y","up","down","offset","offsetUp","offsetDown","dragDelta","mouseDownEvent","longPressTimeout","isDown","doubleTouch","mouseEvent","mouseReducer","classes","backgroundImage","backgroundSize","backgroundPosition","borderWidth","borderStyle","borderColor","libraryReducer","todos","newTodoLabel","todosReducer","concat","nooDoos","slice","index","ToolData","tool","Store","flags","selection","iconClass","iconString","mousedown","args","mouseButton","button","elementId","dataset","addKey","shiftKey","move","resize","PickHelpers","addElementToPick","pick","areaWindow","curAreaWindow","document","createElement","setAttribute","border","pointerEvents","boxSizing","getElementById","appendChild","mouse","opacity","width","height","mousemove","delta","nuTree","ess","artboardDimensions","aVal","bottom","right","nextPick","eS","check","x1","x2","y1","y2","isInArea","initialPick","ObjectTools","pickObject","push","pickElement","currentElement","TreeHelpers","resizeDir","nextWidth","nextHeight","mouseup","box","newElement","treeHelpers","newTree","preventDefault","stopPropagation","elementIndex","zoom","zoomInstance","nextZoom","altKey","zoomTo","clientX","clientY","setPanButton","toolsReducer","nuState","Artboard","treeReducer","active","undosReducer","snapToGrid","gridSize","elementClass","rootElement","workareaReducer","scroll","screenReducer","pickReducer","nspa","removalPosition","menus","file","visible","items","new","tag","object","group","workspace","helperData","menuReducer","mahState","merger","nuPublic","combinedReducers","combineReducers","main","workarea","keyboard","library","undos","history","screen","menu","publicReducer","createStore","DumbMenuItem","_Component","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_davidlinke_repos_atlas_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","props","e0","x0","y0","groupDims","groupStyle","backgroundColor","fullElement","_this","71","metaKey","react__WEBPACK_IMPORTED_MODULE_5___default","a","ref","className","onClick","bind","disabled","Component","MenuItem","connect","nuPick","_loop","elementData","groupIndex","child","childState","filter","po","85","ungroup","d","color","transform","mixBlendMode","locked","actions","borderRadius","_factories_Tree__WEBPACK_IMPORTED_MODULE_0__","_factories_ObjectTools__WEBPACK_IMPORTED_MODULE_1__","_store__WEBPACK_IMPORTED_MODULE_2__","add","elementObject","remove","clear","isInPick","elementState","stateStyle","FilterTools","num","multiple","round","CoordFilters","wc","finalCoords","lower","dd","angle","atan2","PI","abs","InputLogger","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","mouseDown","logEvent","xy","persist","eType","pageX","pageY","mouseDownFunction","mouseUpFunction","console","log","registerMouseEventType","eventReceptorFunction","theEvent","assertThisInitialized","logMove","il","refs","inputLogger","originalEvent","touches","scrollLeft","scrollTop","mouseMoveFunction","zoomFn","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","detail","scale","stop","_x","panFn","transformFn","window","dispatchEvent","Event","nextProps","prevProps","smoothScroll","panButton","zoomDoubleClickSpeed","transformOrigin","z","addEventListener","removeEventListener","react_default","onMouseDown","onMouseUp","onMouseMove","Workarea","toolFn","currentPick","initialStates","xyo","filterFunction","activeElement","blur","components_InputLogger","SmartWorkarea","specs","classArray","join","data-id","data-resize","data-move","root","zeOffset","el","rect","getBoundingClientRect","storeDimensions","updateDimensions","getClassString","objectSpread","renderTools","renderChildren","components_Element","SmartArtboard","Css","objectToCss","obj","marginLeft","paddingLeft","cssString","prop","hasOwnProperty","replace","toLowerCase","getStylesheet","styleSheets","ownerNode","insertRule","styleSheet","classObject","ruleContents","rule","cssRules","emptystyleSheet","deleteRule","initializeSheet","ToolbarButton","toolName","toolIcon","renderIcon","activateTool","theClass","currentTool","Toolbar","theTool","toolArray","components_ToolbarButton","SmartToolbar","MenuSub","ddData","output","item","require","_Component2","showMenu","buildMenuDropdown","MenuBar","entries","MenuHelper","_Component4","keyCode","listenToKeydown","listenToKeyup","MenuBar_MenuSub","renderMenuHelpers","SmartMenuBar","Tree","treeId","findTree","returnArray","path","classList","before","targetId","targetElementParent","transferArray","elementSource","parentGlobalPosition","transfer","targetParentGlobalPosition","drop","data-element-id","onDragStart","dragStart","draggable","selectItem","onDragOver","dragOver","onDragEnter","dragEnter","onDragLeave","dragLeave","onDrop","dropBefore","dropAfter","renderButton","LeftBar","layerDrag","LeftBar_Tree","SmartLeftBar","InputNumeric","min","max","step","data-which","which","data-type","onChange","change","InputColor","pickerVisible","setColor","rgb","colorString","r","g","b","togglePicker","setState","lib","onChangeComplete","InputRange","InputSelect","CssNavigator","propName","propValue","elmt","updateValue","isNaN","deleteProp","addProp","toUpperCase","focus","styles","elementValues","propObject","data-prop","getValue","changeProp","renderProperties","onSubmit","definePropKey","placeholder","definePropValue","ShadowHandler","generateValue","what","pa","split","parseFloat","sProps","generateProps","Inputs_InputNumeric","changeShadow","Inputs_InputColor","FilterComposer","on","zap","appendix","trim","textValue","drop-shadow","brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","effectsArray","effectPieces","effectName","effectVal","effectNumericVal","effectUnit","fProps","formatProps","data-props","data-what","toggle","checked","components_ShadowHandler","updateFilter","ElementsSidebarProperties","filtersCollapsed","outputType","altValue","zeInput","zeValue","dataType","str","parseInt","_this2","elementTypes","pickLength","title","rotateFunc","rotateChange","Inputs_InputRange","Inputs_InputSelect","components_FilterComposer","components_CssNavigator","SmartElementsSidebarProperties","ElementsSidebar","geekMode","activeTab","components_ElementsSidebarProperties","App","components_Artboard","editor","ob","JSON","parse","cssTools","components_MenuBar","components_Toolbar","components_LeftBar","components_Workarea","renderArtboards","components_ElementsSidebar","SmartApp","Atlas","setTree","addMenuItem","menuItem","ReactDOM","render","es","react_router_es","browserHistory","component","navigator","swUrl","process","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","PredefinedLayouts","icon","default","layouts","unit","section","inherits","createClass","newFile","DumbMenuHelper","defaultData","setWidth","nuData","menuFileNew","setHeight","setLayout","wha","createNewFile","size","lo","selfData","menuFileNewVisible","renderLayouts","cancel"],"mappings":"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","file":"static/js/main.dd7371aa.chunk.js","sourcesContent":["import { Style, State, Element } from '../structures/Element';\nimport { merge } from 'lodash';\nconst TreeFactory = {\n    InsertElements:function(where,id,elements,position = 0){\n        let searchTree = function(so){\n            for (let io of so){\n                if (io.id===id){\n                    for (let element of elements) {\n                        so.splice((so.indexOf(io)+position),0,element);\n                    }\n                    return where;\n                } else {\n                    \n                    let c = searchTree(io.children);\n                    if (c) return c;\n                }\n            }\n            return false;\n        };\n        return searchTree(where.children);\n    },\n    InsertElementsAfter:function(where,id,elements){\n        return this.InsertElements(where,id,elements,0);\n    },\n    InsertElementsBefore:function(where,id,elements){\n        return this.InsertElements(where,id,elements,1);\n    },\n    getElementIndex:function(where,id){\n        for (var j=0;j<where.length; j++) {\n            var io = where[j];\n            if (io.id===id){\n                return j;\n            }\n        }\n        return false;\n    },\n    getParentArray:function(where,id){\n        let searchTree = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    return so;\n                } else {\n                    var c = searchTree(io.children);\n                    if ((io.children.length > 0) && (c)) return c;\n                }\n            }\n            return false;\n        };\n        return searchTree(where);\n    },\n    getParentElementById:function(where,id){\n        for (let io of where.children) {\n            if (io.id===id){\n                return where;\n            } else {\n                let sub = this.getParentElementById(io,id);\n                if (sub) return sub;\n            }\n        }\n        return false;\n    },\n    getElementGlobalPosition:function(where, id){\n        let coords = {\n            left:0,\n            top:0\n        }\n        if (id==='root'){\n            return coords;\n        }\n        let searchTree = function(so,id){\n            for (let io of so.children) {\n                coords.left += io.states[io.currentState].style.left;\n                coords.top += io.states[io.currentState].style.top;\n\n                if (io.id===id){\n                    return coords;\n                } else {\n                    searchTree(io,id);\n                }\n                coords.left -= io.states[io.currentState].style.left;\n                coords.top -= io.states[io.currentState].style.top;\n            }\n            return coords;\n        };\n        return searchTree(where,id);\n    },\n    getElementDataById:function(where,id){\n        let target = where;\n        if (target.children!== undefined){\n            if (target.id===id) return target;\n            target = target.children;\n        }\n\n        let searchTree = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    return io;\n                } else {\n                    var c = searchTree(io.children);\n                    if ((io.children.length > 0) && (c)) return c;\n                }\n            }\n            return false;\n        };\n        return searchTree(target);\n    },\n    removeElementById:function(where,id){\n        let nuWhere = merge({},where);\n        let filterChildren = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    so.splice(j,1);\n                    break;\n                } else {\n                    so[j].children = filterChildren(so[j].children);\n                }\n            }\n            return so;\n        };\n        nuWhere.children = filterChildren(nuWhere.children);\n        return nuWhere;\n    },\n    spliceElementById:function(where,id){\n        let filterChildren = function(so){\n            for (var j=0;j<so.length; j++) {\n                var io = so[j];\n                if (io.id===id){\n                    return so.splice(j,1);\n                } else {\n                    var c = filterChildren(io.children);\n                    if ((io.children.length > 0) && (c)) return c;\n                }\n            }\n            return false;\n        };\n        return filterChildren(where.children);\n    },\n    makeId:function(){\n        var text = \"\";\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n        for (var i = 0; i < 5; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\n        text+= '_'+new Date().getTime();\n        return text;\n    },\n    generateElement:function(where,label,type,style){\n        let baseStyle = merge({},Style,style);\n        let baseState = merge({},State,{\n            id:this.makeId(),\n            style:baseStyle\n        });\n        let baseElement = merge({},Element,{\n            id:this.makeId(),\n            type:type,\n            label:this.newLayerName(label,where),\n            states:[baseState]\n        });\n        return baseElement;\n    },\n    checkLayerName:function(name,so){\n        for (var j=0;j<so.length; j++) {\n            var io = so[j];\n            if (io.label===name){\n                return true;\n            } else {\n                if ((io.children.length > 0) && (this.checkLayerName(name,io.children))) return true;\n            }\n        }\n        return false;\n    },\n    newLayerName:function(pre, data){\n        var\n            i = 1,\n            finalname\n        ;\n        while (i) {\n            finalname = pre + ' ' + i;\n            if (!this.checkLayerName(finalname,data)) return finalname;\n            i++;\n        }\n    }\n};\n\nexport default TreeFactory;\n","var map = {\n\t\"./MenuFileNew/\": 502,\n\t\"./ObjectGroup/\": 318,\n\t\"./ObjectUnGroup/\": 321,\n\t\"./WorkspaceSnapToGrid/\": 324\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 146;","export default {\n    getElementPosition:function(key,val,arr){\n        for (let i=0;i<arr.length;i++){\n            if (arr[i][key]===val) return i;\n        }\n        return false;\n    },\n    objectAvailableByKey:function(key,val,arr){\n        for (let item of arr){\n            if (item[key]===val) return true;\n        }\n        return false;\n    }\n}\n","import {merge} from 'lodash';\nconst defaultState = {\n    prev:{\n        tree:{}\n    }\n};\n\nconst historyReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n     case 'HISTORY_ADD':\n        return merge({},state,action.val);\n    default:\n        return state;\n  }\n};\n\nexport default historyReducer;\n","import {merge} from 'lodash';\nimport Keys from '../factories/Keyboard';\nconst defaultState = {\n    shift:false,\n    set:Keys\n};\nconst keyboardReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'KEYBOARD_SHIFT':\n        return merge({}, state, {\n          shift: action.val\n        });\n    case 'KEY_COMBO':\n        let kcState = merge({},state,{set:action.val});\n        return kcState;\n    default:\n        return state;\n  }\n};\n\nexport default keyboardReducer;\n","import store from '../store';\nexport default {\n    '86':{ // C\n        keydown:(e)=>{\n            if (e.ctrlKey){\n\n            } else {\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'selection'\n                })\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:'default'\n    \t\t\t});\n            }\n        },\n        keyup:(event)=>{}\n    },\n    '82':{ // R\n        keydown:(e)=>{\n            if (e.ctrlKey){\n\n            } else {\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'box'\n                });\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:'crosshair'\n    \t\t\t});\n            }\n        },\n        keyup:(event)=>{}\n    },\n    '90':{ // Z\n        keydown:(e)=>{\n            if (e.ctrlKey){\n\n            } else { //zoom tool\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'zoom'\n                });\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:'zoom-in'\n    \t\t\t});\n            }\n        },\n        keyup:(event)=>{}\n    },\n    '18':{ // altKey\n        keydown:(e)=>{\n            let state = store.getState();\n            if (state.tools.current==='zoom'){\n                store.dispatch({\n                    type:'WORKAREA_CURSOR',\n                    val:'zoom-out'\n                });\n            }\n        },\n        keyup:(e)=>{\n            let state = store.getState();\n            if (state.tools.current==='zoom'){\n                store.dispatch({\n                    type:'WORKAREA_CURSOR',\n                    val:'zoom-in'\n                });\n            }\n        }\n    },\n    '32':{ // spacebar\n        keydown:(e)=>{\n            let state = store.getState();\n            if(state.tools.current!=='pan'){\n                store.dispatch({\n                    type:'PUBLIC_ADD',\n                    key:'lastTool',\n                    val:state.tools.current\n                });\n                //this.a['32'].prevTool = state.tools.current;\n                store.dispatch({\n                    type:'TOOLS_CURRENT',\n                    val:'pan'\n                });\n                store.dispatch({\n                    type:'WORKAREA_CURSOR',\n                    val:state.tools.set.pan.cursor\n                });\n                state.tools.set.pan.initialize();\n            }\n        },\n        keyup:(e)=>{\n            let state = store.getState();\n            let lastTool = state.public.lastTool;\n            state.tools.set.pan.destroy();\n            store.dispatch({\n                type:'TOOLS_CURRENT',\n                val:lastTool\n            });\n            store.dispatch({\n                type:'WORKAREA_CURSOR',\n                val:state.tools.set[lastTool].cursor\n            });\n            store.dispatch({\n                type:'PUBLIC_REMOVE',\n                key:'lastTool'\n            })\n            if (typeof(state.tools.set[lastTool].initialize)==='function'){\n                state.tools.set[lastTool].initialize();\n            }\n        }\n    }\n};\n","import {merge} from 'lodash';\nconst defaultState = {\n    x:0,\n    y:0,\n    up:{x:0,y:0},\n    down:{x:0,y:0},\n    offset:{x:0,y:0},\n    offsetUp:{x:0,y:0},\n    offsetDown:{x:0,y:0},\n    dragDelta:{x:0,y:0},\n    mouseDownEvent:null,\n    longPressTimeout:null,\n    isDown:false,\n    doubleTouch:false,\n    mouseEvent:null,\n};\nconst mouseReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'MOUSE_POSITION':\n        return merge({},state,action.val);\n    case 'MOUSE_DOWN':\n        return merge({},state,action.val);\n    case 'MOUSE_UP':\n        return merge({},state,action.val);\n    case 'MOUSE_DRAG_DELTA':\n        return merge({}, state, {\n            dragDelta:{\n                x:action.val.x,\n                y:action.val.y\n            }\n        });\n    case 'MOUSE_DOWN_EVENT':\n        return merge({}, state, {mouseDownEvent:action.val});\n    case 'MOUSE_IS_DOWN':\n        return merge({}, state, {isDown:action.val});\n    case 'MOUSE_EVENT':\n        return merge({},state,{mouseEvent:action.val});\n    default:\n        return state;\n  }\n};\n\nexport default mouseReducer;\n","const defaultState = {\n    classes:[\n        {\n            label:'image1',\n            type:'image',\n            style:{\n            \tbackgroundImage:'url(/i/grumpy-cat.jpg)',\n                backgroundSize:'cover',\n                backgroundPosition:'center'\n            }\n        },\n        {\n            label:'ryan',\n            type:'image',\n            style:{\n                backgroundImage:'url(https://media.giphy.com/media/KWkBL0UgsOuqc/giphy.gif)',\n                backgroundSize:'cover',\n                backgroundPosition:'center'\n            }\n        },\n        {\n            label:'syle1',\n            type:'class',\n            style:{\n                borderWidth:'3px',\n                borderStyle:'solid',\n                borderColor:'blue'\n            }\n        }\n    ]\n}\n\nconst libraryReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    // case 'ADD_TODO':\n    // break;\n    default:\n        return state;\n  }\n};\n\nexport default libraryReducer;\n","import {merge} from 'lodash';\n// create the default state of the model\nconst defaultState = {\n  todos: [{\n    label: 'Learn React',\n    done: true\n  }, {\n    label: 'Learn Redux',\n    done: true\n  }, {\n    label: 'Learn React-Redux Connect',\n    done: true\n  }, {\n    label: 'Learn React-Router with Redux',\n    done: true\n  }],\n  newTodoLabel: ''\n};\n\n// create the reducers that will control the model\nconst todosReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'ADD_TODO':\n      return {\n        todos: [{\n          label: state.newTodoLabel,\n          done: false\n        }].concat(state.todos),\n        newTodoLabel: ''\n      };\n    case 'TOGGLE_TODO':\n      let nooDoos = state.todos.slice(0);\n      nooDoos[action.index].done = !state.todos[action.index].done;\n      return merge({}, state, {\n        todos: nooDoos\n      });\n    case 'NU_LABEL':\n      return merge({}, state, {\n        newTodoLabel:action.label\n      });\n    default:\n        return state;\n  }\n};\n\nexport default todosReducer;\n","import Store from '../store';\nexport default {\n    get:function(tool,key){\n        let state = Store.getState();\n        return state.tools.flags[tool+'_'+key];\n    },\n    set:function(tool,key,val){\n        Store.dispatch({type:'TOOLS_FLAG',key:tool+'_'+key,val:val});\n    }\n}","import Tools from '../toolset/';\nimport { merge } from 'lodash';\nconst defaultState = {\n    current: 'selection',\n    set: Tools,\n    flags: {}\n}\nconst toolsReducer = (state = defaultState, action) => {\n    let nuState = merge({}, state);\n    switch (action.type) {\n        // remember not to mutate the state\n        case 'TOOLS_CURRENT':\n            nuState.current = action.val;\n            return nuState;\n        case 'TOOLS_FLAG':\n            nuState.flags[action.key] = action.val;\n            return nuState;\n        default:\n            return state;\n    }\n};\n\nexport default toolsReducer;\n","import Selection from './selection';\nimport Box from './box';\nimport Zoom from './zoom';\nimport Pan from './pan';\n\nexport default {\n    selection:Selection,\n    box:Box,\n    zoom:Zoom,\n    pan:Pan\n};\n","import {merge} from 'lodash';\nimport TreeHelpers from '../factories/Tree';\nimport ObjectTools from '../factories/ObjectTools';\nimport PickHelpers from '../factories/Pick';\nimport ToolData from '../factories/ToolData';\nimport Store from '../store';\n\nexport default {\n    iconClass:'custom_icons selection',\n    iconString:'',\n    cursor:'default',\n    initialize:()=>{\n        ToolData.set('select','willMove',false);\n        ToolData.set('select','dragSelect',false);\n        ToolData.set('select','active',false);\n        ToolData.set('select','resizeSirection',false);\n        ToolData.set('select','areaWindow',false);\n    },\n    mousedown:(args)=>{\n        let mouseButton = args.event.button;\n        let state = Store.getState();\n\n        if ((mouseButton===0)){\n            ToolData.set('select','active',true);\n            let target = args.event.target;\n            let elementId = target.dataset.id;\n            let addKey = args.event.shiftKey;\n\n\n            ToolData.set('select','willMove',target.dataset.move);\n            ToolData.set('select','resizeDirection',target.dataset.resize);\n\n            // BOOM\n            PickHelpers.addElementToPick(elementId, args.pick, addKey);\n            \n            // if what's clicked is not the artboard\n            if (!elementId){\n                // we should be dragselecting then\n                ToolData.set('select','dragSelect',true);\n                \n                let areaWindow;\n                let curAreaWindow = ToolData.get('select','areaWindow');\n\n                if (!curAreaWindow){\n                    areaWindow = document.createElement('div');\n                    areaWindow.setAttribute('class','area-window');\n                    areaWindow.style.position='absolute';\n                    areaWindow.style.border=\"1px dashed #ccc\";\n                    areaWindow.style.pointerEvents = 'none';\n                    areaWindow.style.boxSizing = 'border-box';\n\n                    document.getElementById('els_root').appendChild(areaWindow);\n\n                    ToolData.set('select','areaWindow',areaWindow);\n                } else {\n                    areaWindow = curAreaWindow;\n                }\n\n                // lets get the coordinates\n                let mouse = state.mouse;\n\n                areaWindow.style.top = mouse.offsetDown.y + 'px';\n                areaWindow.style.left = mouse.offsetDown.x + 'px';\n                areaWindow.style.opacity = 1;\n                areaWindow.style.width=0;\n                areaWindow.style.height=0;\n            }\n        }\n    },\n    mousemove:(args)=>{\n\n        if(ToolData.get('select','active')){\n            let state = Store.getState();\n            let mouse = state.mouse;\n\n            let delta = {\n                x:(mouse.offsetDown.x - mouse.offset.x),\n                y:(mouse.offsetDown.y - mouse.offset.y)\n            };\n            let nuTree = merge({},state.tree);\n            let pick = args.pick.elements;\n\n            if (!ToolData.get('select','dragSelect')) {\n                let pickLength = pick.length;\n                let pickEmpty = (pickLength===0);\n                if (!pickEmpty) {\n                    // calculate the delta\n                    for (let pickElement of pick){\n                        // get element id within pick\n                        let currentElement = TreeHelpers.getElementDataById(nuTree.children,pickElement.id);\n                        // get the state of the element (diverse css style)\n                        let currentState = currentElement.currentState;\n                        // get the element style in current state\n                        let ess = currentElement.states[currentState].style;\n                        \n                        // will it move? (resize 0, move 1)\n                        if (ToolData.get('select','willMove')==='1'){\n                            // calculate new coords\n                            ess.left = pickElement.left - delta.x;\n                            ess.top = pickElement.top - delta.y;\n                        } else {\n                            // let's check how it will resize (depending on the quadrant chosen)\n                            let resizeDir = ToolData.get('select','resizeDirection');\n                            let nextWidth,nextHeight;\n                            switch (resizeDir) {\n                                case('nw'):\n                                    nextWidth = pickElement.width + delta.x;\n                                    if (nextWidth>0){\n                                        ess.left = pickElement.left - delta.x;\n                                        ess.width = nextWidth;\n                                    }\n                                    nextHeight = pickElement.height + delta.y;\n                                    if (nextHeight>0){\n                                        ess.top = pickElement.top - delta.y;\n                                        ess.height = nextHeight;\n                                    }\n                                    break;\n                                case('n'):\n                                    nextHeight = pickElement.height + delta.y;\n                                    if (nextHeight>0){\n                                        ess.top = pickElement.top - delta.y;\n                                        ess.height = nextHeight;\n                                    }\n                                    break;\n                                case('ne'):\n                                    nextHeight = pickElement.height + delta.y;\n                                    if (nextHeight>0){\n                                        ess.top = pickElement.top - delta.y;\n                                        ess.height = nextHeight;\n                                    }\n                                    ess.width = pickElement.width - delta.x;\n                                    break;\n                                case('w'):\n                                    nextWidth = pickElement.width + delta.x;\n                                    if (nextWidth>0){\n                                        ess.left = pickElement.left - delta.x;\n                                        ess.width = nextWidth;\n                                    }\n                                    break;\n                                case('e'): //resize eastbound\n                                    ess.width = pickElement.width - delta.x;\n                                    break;\n                                case('sw'):\n                                    ess.height = pickElement.height - delta.y;\n                                    nextWidth = pickElement.width + delta.x;\n                                    if (nextWidth>0){\n                                        ess.left = pickElement.left - delta.x;\n                                        ess.width = nextWidth;\n                                    }\n                                    break;\n                                case('s'): //resize southbound\n                                    ess.height = pickElement.height - delta.y;\n                                    break;\n                                case('se'): //resize southeast\n                                    ess.height = pickElement.height - delta.y;\n                                    ess.width = pickElement.width - delta.x;\n                                    break;\n                                default:;\n                            }\n                        }\n                    }\n                    Store.dispatch({\n                        type:'TREE_FULL',\n                        val:nuTree\n                    })\n                }\n            } else {\n                // lets select by area\n                // lets start by doing the selection rectangle\n\n                let areaWindow = ToolData.get('select','areaWindow');\n                let ess = areaWindow.style;\n                let artboardDimensions = {\n                    width:nuTree.states[nuTree.currentState].style.width,\n                    height:nuTree.states[nuTree.currentState].style.height\n                }\n                let aVal = {};\n\n                // and we calculate the coordinates of the element\n                if(delta.y<=0){ // this means the delta is positive (somehow)\n                    // we fix the top side and make it grow with the delta value\n                    aVal.height = (delta.y*-1);\n                    aVal.top = mouse.offsetDown.y;\n                    aVal.bottom = false;\n                } else {\n                    // we fix the bottom side and make it grow with the delta value\n                    // you might ask yourself why, well, if we modified top pos and height it got all wobbly on screen\n                    // so it is better modify only one value and have one fixed.\n                    aVal.top = false;\n                    aVal.bottom = (artboardDimensions.height - mouse.offsetDown.y);\n                    aVal.height = delta.y;\n                }\n\n                if(delta.x<=0){ // this means the delta is positive (somehow)\n                    // we fix the left side and make it grow with the delta value\n                    aVal.width = (delta.x*-1);\n                    aVal.left = mouse.offsetDown.x;\n                    aVal.right = false;\n                } else {\n                    // we fix the right side and make it grow with the delta value\n                    // you might ask yourself why, well, if we modified left pos and width it got all wobbly on screen\n                    // so it is better modify only one value and have one fixed.\n                    aVal.right = (artboardDimensions.width - mouse.offsetDown.x);\n                    aVal.left = false;\n                    aVal.width = delta.x;\n                }\n\n                ess.top = aVal.top ? aVal.top + 'px':'auto';\n                ess.left = aVal.left ? aVal.left + 'px':'auto';\n                ess.width = aVal.width ? aVal.width + 'px':'auto';\n                ess.height = aVal.height ? aVal.height + 'px':'auto';\n                ess.bottom = aVal.bottom ? aVal.bottom + 'px':'auto';\n                ess.right = aVal.right ? aVal.right + 'px':'auto';\n\n                let nextPick = [];\n                for (let element of nuTree.children) {\n                    let eS = element.states[element.currentState].style;\n                    let elementId = element.id;\n\n                    // lets create topleft definition for when whe have bottomright\n\n                    if (!aVal.left) {\n                        aVal.left = artboardDimensions.width - aVal.right - aVal.width;\n                    }\n                    if (!aVal.top) {\n                        aVal.top = artboardDimensions.height - aVal.bottom - aVal.height;\n                    }\n\n\n                    let check = {\n                        x1: aVal.left                   <=   (eS.left + eS.width),\n                        x2: (aVal.left + aVal.width)    >=   eS.left,\n                        y1: aVal.top                    <=   (eS.top + eS.height),\n                        y2: (aVal.height + aVal.top)    >=   eS.top\n                    }\n                    let isInArea = (check.x1&&check.x2&&check.y1&&check.y2);\n                    \n                    let initialPick = state.public.initialPick;\n                    if (isInArea) {\n                        // find out how to deselect or re-selected\n                        let wasPicked = ObjectTools.objectAvailableByKey('id',elementId,initialPick);\n                        \n                        if (!wasPicked) {\n                            let pickObject = {\n                                id: elementId,\n                                top:eS.top,\n                                left:eS.left,\n                                width:eS.width,\n                                height:eS.height,\n                            }\n                            nextPick.push(pickObject);\n                        }\n                    } else {\n                        // lets check if it was already at pick and add if so.\n                        let startedPicked = ObjectTools.objectAvailableByKey('id',elementId,initialPick);\n                        if (startedPicked) {\n                            let pickObject = {\n                                id: elementId,\n                                top:eS.top,\n                                left:eS.left,\n                                width:eS.width,\n                                height:eS.height,\n                            }\n                            nextPick.push(pickObject);\n                        }\n                    }\n                }\n\n                // the new pick\n                Store.dispatch({\n                    type:'PICK_FULL',\n                    val:nextPick\n                });\n            }\n\n        }\n    },\n    mouseup:(args)=>{\n        // refresh pick\n        ToolData.set('select','dragSelect',false);\n\n        if(ToolData.get('select','active')){\n            let state = Store.getState();\n\n            let pick = [].concat(args.pick.elements);\n            let pickLength = pick.length;\n            let pickEmpty = (pickLength===0);\n            if (!pickEmpty) {\n                let nuTree = state.tree;\n                for (let pickElement of pick){\n                    // calculate new coords\n                    let currentElement = TreeHelpers.getElementDataById(nuTree.children,pickElement.id);\n                    let currentState = currentElement.currentState;\n                    pickElement.left = currentElement.states[currentState].style.left;\n                    pickElement.top = currentElement.states[currentState].style.top;\n                    pickElement.width = currentElement.states[currentState].style.width;\n                    pickElement.height =currentElement.states[currentState].style.height;\n                }\n                Store.dispatch({\n                    type:'PICK_FULL',\n                    val:pick\n                })\n            } else {\n                Store.dispatch({\n                    type:'PUBLIC_REMOVE',\n                    key:'initialPick'\n                })\n            }\n        }\n\n        ToolData.set('select','active', false);\n        \n        let areaWindow = ToolData.get('select','areaWindow');\n        if (areaWindow){\n            areaWindow.style.opacity=0;\n        }\n    }\n}\n","import treeHelpers from '../factories/Tree';\nimport ToolData from '../factories/ToolData';\nimport {merge} from 'lodash';\nimport store from '../store';\n\nexport default {\n    iconClass:'material-icons',\n    iconString:'crop_square',\n    cursor:'crosshair',\n    initialize:()=>{\n        ToolData.set('box','initialized',false);\n        ToolData.set('box','activeElement',false);\n        ToolData.set('box','needsCleanupRight',false);\n        ToolData.set('box','needsCleanupBottom',false);\n    },\n    mousedown:(args)=>{\n        let mouseButton = args.event.button;\n        if ((mouseButton===0)){\n            \n            ToolData.set('box','initialized',true);\n            // lets have a look on how things are at this point\n            let state = store.getState();\n            // where are we storing the new elemwnt?\n            let where = state.tree.children;\n            // lets get the coordinates\n            let mouse = state.mouse;\n            // calculate x and y in respect to workarea\n            let offset = {\n                top:mouse.offsetDown.y,\n                left:mouse.offsetDown.x\n            }\n            // lets generate the element structure with the help of the tree functions\n            let newElement = treeHelpers.generateElement(where,'Box','box',offset);\n            // we dupe the state not to interefere with the current one\n            let newTree = merge({},state.tree);\n            // we push the new element to the tree children.\n            newTree.children.push(newElement);\n            // lets save the element id for resizing while creating\n            ToolData.set('box', 'activeElement', newElement.id); \n            // now we send the new tree to be re-rendered\n            store.dispatch({\n                type:'TREE_FULL',\n                val:newTree\n            });\n        } else {\n            args.event.preventDefault();\n            args.event.stopPropagation();\n        }\n    },\n    mousemove:(args)=>{\n        if(ToolData.get('box','initialized')){\n            // lets get the element id of what we created\n            let elementId = ToolData.get('box','activeElement');\n            // current state of things\n            let state = store.getState();\n            // we get the crrent state of the cursor\n            let mouse = state.mouse;\n            // calculate the delta\n            let delta = {\n                x:(mouse.offsetDown.x - mouse.offset.x),\n                y:(mouse.offsetDown.y - mouse.offset.y)\n            };\n            // we create a new tree to prevent mutating the current one\n            let nuTree = merge({},state.tree);\n            // lets get the element data by it's id\n            let currentElement = treeHelpers.getElementDataById(nuTree.children,elementId);\n            // we get the current state of the element\n            let currentState = currentElement.currentState;\n            // we get the styles of the element\n            let ess = currentElement.states[currentState].style;\n            // lets get the arboard dimensions for if we have to calculate negative values (you'll see)\n            let artboardDimensions = {\n                width:nuTree.states[nuTree.currentState].style.width,\n                height:nuTree.states[nuTree.currentState].style.height\n            }\n\n            // and we calculate the coordinates of the element\n            if(delta.y<=0){ // this means the delta is positive (somehow)\n                // we fix the top side and make it grow with the delta value\n                ess.height = delta.y*-1;\n                ess.top = mouse.offsetDown.y;\n                delete ess.bottom;\n                ToolData.set('box','needsCleanupBottom',false);\n            } else {\n                // we fix the bottom side and make it grow with the delta value\n                // you might ask yourself why, well, if we modified top pos and height it got all wobbly on screen\n                // so it is better modify only one value and have one fixed.\n                delete ess.top;\n                ess.bottom = artboardDimensions.height - mouse.offsetDown.y;\n                ess.height = delta.y;\n                ToolData.set('box','needsCleanupBottom',true);\n            }\n\n            if(delta.x<=0){ // this means the delta is positive (somehow)\n                // we fix the left side and make it grow with the delta value\n                ess.width = delta.x*-1;\n                ess.left = mouse.offsetDown.x;\n                delete ess.right\n                ToolData.set('box','needsCleanupRight',false);\n            } else {\n                // we fix the right side and make it grow with the delta value\n                // you might ask yourself why, well, if we modified left pos and width it got all wobbly on screen\n                // so it is better modify only one value and have one fixed.\n                ess.right = artboardDimensions.width - mouse.offsetDown.x;\n                delete ess.left;\n                ess.width = delta.x;\n                ToolData.set('box','needsCleanupRight',true);\n            }\n            // we send our new lovely tree to the dispatcher\n            store.dispatch({\n                type:'TREE_FULL',\n                val:nuTree\n            })\n        }\n    },\n    mouseup:(args)=>{\n        if(ToolData.get('box','initialized')){\n            ToolData.set('box','initialized',false);\n            let elementId = ToolData.get('box','activeElement');\n            // current state of things\n            let state = store.getState();\n            // we create a new tree to prevent mutating the current one\n            let nuTree = merge({},state.tree);\n            // lets get the element data by it's id\n            let currentElement = treeHelpers.getElementDataById(nuTree.children,elementId);\n            // we get the current state of the element\n            let currentState = currentElement.currentState;\n            // we get the styles of the element\n            let ess = currentElement.states[currentState].style;\n\n\n            //is the width and height 0?\n            // if so we erase\n            if ((ess.width===0) && (ess.height ===0)){\n                // find element index\n                let elementIndex = nuTree.children.indexOf(currentElement);\n                nuTree.children.splice(elementIndex,1);\n\n                // we send our new lovely tree to the dispatcher\n                store.dispatch({\n                    type:'TREE_FULL',\n                    val:nuTree\n                })\n\n            } else {\n                // did we create elements by fixing bottom or right?\n                // if so, lets fix that here (you know, for consistency)\n                // lets get the element id of what we created\n\n                if(ToolData.get('box','needsCleanupRight') || ToolData.get('box','needsCleanupBottom')){\n\n                    // lets get the arboard dimensions\n                    let artboardDimensions = {\n                        width:nuTree.states[nuTree.currentState].style.width,\n                        height:nuTree.states[nuTree.currentState].style.height\n                    }\n                    // calculate the border sigma\n                    let bordersigma = 0;\n                    // if (ess.borderWidth!==undefined){\n                    //     bordersigma = ess.borderWidth * 2;\n                    // }\n                    // we clean up\n                    if(ToolData.get('box','needsCleanupRight')){\n                        ess.left = artboardDimensions.width - ess.width - ess.right - bordersigma;\n                        delete ess.right;\n                    }\n                    if(ToolData.get('box','needsCleanupBottom')){\n                        ess.top = artboardDimensions.height - ess.height - ess.bottom - bordersigma;\n                        delete ess.bottom;\n                    }\n\n                    // we send our new lovely tree to the dispatcher\n                    store.dispatch({\n                        type:'TREE_FULL',\n                        val:nuTree\n                    })\n                }\n            }\n        }\n    }\n}\n","import store from '../store'\n\nexport default {\n    iconClass:'material-icons',\n    iconString:'search',\n    cursor:'zoom-in',\n    initialize:function(){\n    },\n    destroy:function(){\n    },\n    mousedown:(args)=>{\n\n    },\n    mousemove:(args)=>{\n\n    },\n    mouseup:(args)=>{\n        let state = store.getState();\n        let zoomInstance = state.public.zoomInstance;\n        if (args.event.button===0){\n            let nextZoom = (args.event.altKey?0.75:(1/0.75));\n            zoomInstance.zoomTo(args.event.clientX,args.event.clientY,nextZoom);\n        }\n    }\n}\n","import store from '../store'\n\nexport default {\n    iconClass:'material-icons',\n    iconString:'pan_tool',\n    cursor:'move',\n    initialize:function(){\n        let state = store.getState();\n        let zoomInstance = state.public.zoomInstance;\n\n        zoomInstance.setPanButton(0);\n    },\n    destroy:function(){\n        let state = store.getState();\n        let zoomInstance = state.public.zoomInstance;\n\n        zoomInstance.setPanButton(1);\n    },\n    mousedown:(args)=>{\n    },\n    mousemove:(args)=>{\n    },\n    mouseup:(args)=>{\n    }\n}\n","import { Artboard } from '../structures/Element';\nimport { merge } from 'lodash';\n// create the default state of the model\nconst defaultState = merge({},Artboard);\n\nconst treeReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case 'TREE_ELEMENTS':\n        return merge({},state.tree);\n    case 'TREE_FULL':\n        return merge({},action.val);\n    default:\n        return state;\n  }\n};\n\nexport default treeReducer;\n\n\n","import {merge} from 'lodash';\nconst defaultState = {\n    active:true\n};\n\nconst undosReducer = (state = defaultState, action) => {\n    switch (action.type) {\n        case 'UNDO_DEACTIVATE':\n            return merge({}, state, {\n                active: false\n            })\n        case 'UNDO_ACTIVATE':\n            return merge({}, state, {\n                active: true\n            })\n        default:\n            return state;\n    }\n};\n\nexport default undosReducer;\n","import {merge} from 'lodash';\nconst defaultState = {\n    snapToGrid:true,\n    gridSize:10,\n    cursor:'default',\n    elementClass:[],\n    rootElement:null\n};\nconst workareaReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'WORKAREA_CURSOR':\n        return merge({}, state, {cursor:action.val});\n    case 'WORKAREA_SNAP_TO_GRID':\n        return merge({}, state, {\n          snapToGrid: !state.snapToGrid\n        });\n    case 'WORKAREA_GRID_SIZE':\n        return merge({}, state, {\n          gridSize: action.val\n        });\n    case 'WORKAREA_CLASS':\n        return merge({}, state, {\n          elementClass: action.val\n        });\n    default:\n        return state;\n  }\n};\n\nexport default workareaReducer;\n","import {merge} from 'lodash';\nconst defaultState = {\n    offset:{\n\t\tleft:0,\n\t\ttop:0\n\t},\n    zoom:1,\n    scroll:{\n        top:0,\n        left:0\n    }\n}\nconst screenReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'SCREEN_SCROLL':\n        return merge({},state,{scroll:action.val});\n    case 'SCREEN_ZOOM':\n        return merge({},state,{\n            zoom:action.val\n        })\n    case 'SCREEN_OFFSET':\n        return merge({}, state, {\n          offset:action.val\n        });\n    default:\n        return state;\n  }\n};\n\nexport default screenReducer;\n","import ObjectTools from '../factories/ObjectTools';\nimport {merge} from 'lodash';\n\nconst defaultState = {\n    elements:[]\n};\nconst pickReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'PICK_FULL':\n        let nspf = merge({}, defaultState, {elements:action.val});\n        return nspf;\n    case 'PICK_ADD':\n        let nspa = merge({}, state);\n        nspa.elements.push(action.val);\n        return nspa;\n    case 'PICK_REMOVE':\n        let nuState = merge({}, state);\n        let removalPosition = ObjectTools.getElementPosition('id',action.val,nuState.elements);\n        nuState.elements.splice(removalPosition,1);\n\n        return nuState;\n    case 'PICK_CLEAR':\n        return merge({}, defaultState);\n    default:\n        return state;\n  }\n};\n\nexport default pickReducer;\n","import {merge} from 'lodash';\nimport MenuStructure from '../structures/Menu';\n\nconst defaultState = merge({},MenuStructure);\n\nconst menuReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'MENU_ADD_HELPER':\n        let mahState = merge({},state);\n        mahState.helperData[action.key]=action.value;\n        return mahState;\n    case 'MENU_ADD_ITEM':\n        let maiState = merge({},state);\n        return maiState;\n    case 'MENU_TOGGLE_SUB':\n        let nuState = merge({},state);\n        // iterate through menu objects to see if there's any thats open\n        for (const sub in nuState.menus) {\n            if (sub!==action.value && nuState.menus[sub].visible===true){\n                nuState.menus[sub].visible=false;\n            }\n        }\n        nuState.menus[action.value].visible = !nuState.menus[action.value].visible;\n        return nuState;\n    default:\n        return state;\n  }\n};\n\nexport default menuReducer;\n","export default {\n    'menus':{\n        'file':{\n            'visible':false,\n            'items':{\n                'new':{\n                    tag:'MenuFileNew'\n                }\n            }\n        },\n        // 'edit':{\n        //     'visible':false\n        // },\n        'object':{\n            'visible':false,\n            'items':{\n                'group':{\n                    tag:'ObjectGroup'\n                }//,\n                // 'ungroup':{\n                //     tag:'ObjectUnGroup'\n                // }\n            }\n        },\n        // 'insert':{\n        //     'visible':false\n        // },\n        // 'view':{\n        //     'visible':false\n        // },\n        'workspace':{\n            'visible':false,\n            'items':{\n                'snapToGrid':{\n                    tag:'WorkspaceSnapToGrid'\n                }\n            }\n        }//,\n        // 'window':{\n        //     'visible':false\n        // },\n        // 'help':{\n        //     'visible':false\n        // }\n    },\n    helperData:{}\n}\n","import {merge} from 'lodash';\nconst defaultState = {}\nconst toolsReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    // remember not to mutate the state\n    case 'PUBLIC_ADD':\n        let merger = {};\n        merger[action.key] = action.val\n        return merge({}, state, merger);\n    case 'PUBLIC_REMOVE':\n        let nuPublic = merge({}, state);\n        delete nuPublic[action.key];\n        return nuPublic;\n    default:\n        return state;\n  }\n};\n\nexport default toolsReducer;\n","import { combineReducers, createStore } from 'redux';\nimport historyReducer from  './reducers/historyReducer';\nimport keyboardReducer from  './reducers/keyboardReducer';\nimport mouseReducer from  './reducers/mouseReducer';\nimport libraryReducer from './reducers/libraryReducer'\nimport todosReducer from  './reducers/todosReducer';\nimport toolsReducer from  './reducers/toolsReducer';\nimport treeReducer from './reducers/treeReducer';\nimport undosReducer from  './reducers/undosReducer';\nimport workareaReducer from  './reducers/workareaReducer';\nimport screenReducer from  './reducers/screenReducer';\nimport pickReducer from  './reducers/pickReducer';\nimport menuReducer from  './reducers/menuReducer';\nimport publicReducer from  './reducers/publicReducer';\n\n\n// combine reducers - Although we have one only,\n// it is good to separate reducers through logical groups and then combine them.\nconst combinedReducers = combineReducers({\n    main:todosReducer,\n    workarea:workareaReducer,\n    keyboard:keyboardReducer,\n    library:libraryReducer,\n    mouse:mouseReducer,\n    undos:undosReducer,\n    tools:toolsReducer,\n    tree:treeReducer,\n    history:historyReducer,\n    screen:screenReducer,\n    pick:pickReducer,\n    menu:menuReducer,\n    public:publicReducer\n});\n\n// create the holy grail of truth... The Store\nconst store = createStore(combinedReducers);\n\nexport default store;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\nimport treeHelpers from '../../../../factories/Tree';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component {\n    group(){\n        // get the pick\n        let pick = [].concat(this.props.pick.elements);\n        let e0 = pick[0];\n        // find out lowest and greatest x & y coordinates.\n        let x0 = e0.left, x1 = e0.left + e0.width, y0 = e0.top, y1 = e0.top + e0.height;\n        pick.splice(0,1);\n        for (let element of pick) {\n            let right = element.left+element.width;\n            let bottom = element.top+element.height;\n\n            if (element.left<x0) x0 = element.left;\n            if (right>x1) x1 = right;\n            if (element.top<y0) y0 = element.top;\n            if (bottom>y1) y1 = bottom;\n        }\n        let groupDims = {\n            left:x0,\n            top:y0,\n            width:x1-x0,\n            height:y1-y0\n        }\n        let groupStyle = merge({},groupDims,{\n            backgroundColor:'rgba(0,0,0,0)',\n            borderStyle:'none'\n        })\n\n\n        let state = store.getState();\n        // where are we storing the new elemwnt?\n        let where = state.tree.children;\n        // lets generate the element structure with the help of the tree functions\n        let newElement = treeHelpers.generateElement(where,'Group','group',groupStyle);\n        // we dupe the state not to interefere with the current one\n        let newTree = merge({},state.tree);\n        // lets nest the children within the group and correct their positions.\n        for (let element of this.props.pick.elements){\n            let fullElement = merge({},treeHelpers.getElementDataById(newTree.children,element.id));\n            for (let state of fullElement.states){\n                state.style.left = state.style.left - x0;\n                state.style.top = state.style.top - y0;\n            }\n            newElement.children.push(fullElement);\n            newTree = treeHelpers.removeElementById(newTree,element.id);\n        }\n        // we push the new element to the tree children.\n        newTree.children.push(newElement);\n        // lets set the grouped elements within the grouped layer\n        // now we send the new tree to be re-rendered\n        store.dispatch({\n            type:'TREE_FULL',\n            val:newTree\n        });\n        // and we fix the pick not to have the elements but the group\n        store.dispatch({\n            type:'PICK_CLEAR'\n        });\n        store.dispatch({\n            type:'PICK_ADD',\n            val:merge({},{\n                id:newElement.id\n            },groupDims)\n        })\n    }\n    componentDidMount(){\n        store.dispatch({\n            type:\"KEY_COMBO\",\n            val:{\n                '71':{\n                    keydown:(e)=>{\n                        if(e.ctrlKey||e.metaKey){\n                            this.group();\n                        }\n                    },\n                    keyup:(e)=>{}\n                }\n            }\n        })\n    }\n    render(){\n        return (\n            <div>\n                <button ref=\"groupButton\" className=\"menu__dropdown-item\" onClick={this.group.bind(this)} disabled={(this.props.pick.elements.length<2)?'disabled':''}><span className=\"flex-loose\">Group</span></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\nimport treeHelpers from '../../../../factories/Tree';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component {\n    ungroup(){\n        // get the pick\n        let pick = [].concat(this.props.pick.elements);\n        let nuPick = [].concat(this.props.pick.elements);\n        let nuTree = merge({},this.props.tree);\n        for (let element of pick) {\n            let elementData = merge({},treeHelpers.getElementDataById(nuTree.children, element.id));\n            if(elementData.children.length>0){\n                // recalculate children coordinates by adding mine to children (in all states)\n                // get the index of the group and insert right after\n                let groupIndex = treeHelpers.getElementIndex(nuTree.children, element.id);\n\n                for (let child of elementData.children){\n                    for (let state of child.states){\n                        state.style.left = state.style.left + element.left;\n                        state.style.top = state.style.top + element.top;\n                    }\n                    // get them children and place them at my level\n                    nuTree.children.splice(groupIndex,0,child);\n                    let childState = child.states[child.currentState];\n                    nuPick.push({\n                        id:child.id,\n                        top:childState.style.top,\n                        left:childState.style.left,\n                        width:childState.style.width,\n                        height:childState.style.height\n                    });\n                }\n                // get rid of group div\n                nuTree = treeHelpers.removeElementById(nuTree,element.id);\n                // remove group div from pick\n                nuPick = nuPick.filter((po)=>{\n                    let returnValue = (po.id!==element.id);\n                    return returnValue;\n                });\n            }\n        }\n        // dispatch everything\n        store.dispatch({\n            type:'PICK_CLEAR'\n        })\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n        store.dispatch({\n            type:'PICK_FULL',\n            val:nuPick\n        });\n        // be happy\n    }\n    componentDidMount(){\n        store.dispatch({\n            type:\"KEY_COMBO\",\n            val:{\n                '85':{\n                    keydown:(e)=>{\n                        if(e.ctrlKey||e.metaKey){\n                            this.ungroup();\n                        }\n                    },\n                    keyup:(e)=>{}\n                }\n            }\n        })\n    }\n    render(){\n        return (\n            <div>\n                <button className=\"menu__dropdown-item\" onClick={this.ungroup.bind(this)} disabled={(this.props.pick.elements.length<2)?'disabled':''}><span className=\"flex-loose\">Ungroup</span></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick,\n        tree:store.tree\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\n\nimport './styles.css';\n\nexport class DumbMenuItem extends Component{\n    snapToGrid(){\n        store.dispatch({\n            type:'WORKAREA_SNAP_TO_GRID'\n        });\n    }\n    render(){\n        return (\n            <div>\n                <button className=\"menu__dropdown-item\" onClick={this.snapToGrid}><span className=\"flex-loose\">Snap To Grid</span><i className={'flex-fixed material-icons' + (this.props.workarea.snapToGrid?'':' invisible')}>check</i></button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        workarea:store.workarea\n    };\n};\n\nexport const MenuItem = connect(mapStateToProps)(DumbMenuItem);\n","export const Artboard = {\n    id:'root',\n    label:'Artboard 1',\n    children:[],\n    currentState:0,\n    type:'artboard',\n    states:[\n        {\n            label:'base',\n            classes:[],\n            text:'',\n            style:{\n                position:'relative',\n                width:240,\n                height:320,\n                backgroundColor:'#ffffff',\n                color:'#000000',\n                transform:'rotate(0deg)',\n                opacity:1,\n                mixBlendMode:'normal'\n            }\n        }\n    ]\n};\nexport const Element = {\n    id:null,\n    label:null,\n    currentState:0,\n    states:[],\n\tlocked:false,\n    type:'box',\n    children:[]\n};\nexport const State = {\n    id:null,\n    name:'base',\n    classes:[],\n    style:{},\n    actions:[],\n    text:''\n};\nexport const Style = {\n    position:'absolute',\n    width:0,\n    height:0,\n    backgroundColor:'#ffffff',\n    borderColor:'#000000',\n    borderStyle:'solid',\n    borderWidth:1,\n    borderRadius:0,\n    boxSizing:'border-box',\n    transform:'rotate(0deg)',\n    opacity:1,\n    mixBlendMode:'normal'\n};\n","import TreeHelpers from '../factories/Tree';\nimport ObjectTools from '../factories/ObjectTools';\nimport Store from '../store';\nexport default {\n    add:function(elementObject){\n        Store.dispatch({\n            type:'PICK_ADD',\n            val:elementObject\n        });\n    },\n    remove:function(elementId){\n        Store.dispatch({\n            type:'PICK_REMOVE',\n            val:elementId\n        });\n    },\n    clear:function(){\n        Store.dispatch({\n            type:'PICK_CLEAR'\n        });\n    },\n    isInPick:function(elementId){\n        let pick = Store.getState().pick.elements;\n        return ObjectTools.objectAvailableByKey('id',elementId,pick);\n    },\n    addElementToPick:function(elementId, pick, addKey){\n        // if what's clicked is not the artboard\n        \n        if (elementId && elementId!=='root'){\n\n            // element initial MOUSE_POSITION\n            let state = Store.getState();\n            let elementData = TreeHelpers.getElementDataById(state.tree.children,elementId);\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n\n            let pickObject = {\n                id: elementId,\n                top:stateStyle.top,\n                left:stateStyle.left,\n                width:stateStyle.width,\n                height:stateStyle.height,\n            }\n            // let's see if it's already selected\n            let isInPick = ObjectTools.objectAvailableByKey('id',elementId,pick.elements);\n\n            if (addKey){ // if shift is pressed\n                if (isInPick){ // and the element is already selected\n                    pick.remove(elementId); // deselect it\n                } else { // and the element is not selected\n                    pick.add(pickObject);// then select it too\n                }\n            } else { // if shif is not pressed\n                if (!isInPick){ // and the element is not selected/active\n                    pick.clear();\n                    pick.add(pickObject); //then select it\n                }\n            }\n        } else {\n            let initialPick = [].concat(pick.elements);\n\n            if (!addKey){ //if shift is not pressed\n                pick.clear(); // it is the root element, so let's clear\n                initialPick = [];\n            }\n\n            Store.dispatch({\n                type:'PUBLIC_ADD',\n                key:'initialPick',\n                val:initialPick\n            });\n        }\n    }\n};\n","export default {\n    roundToMultiple:(num,multiple)=>{\n\t\treturn Math.round(num / multiple) * multiple;\n    }\n}\n","import FilterTools from './FilterTools';\nexport default (coords, wc=true, workarea, mouse, keyboard, screen, event=false) => {\n    let finalCoords = coords;\n    //filter all you want\n    if (workarea.snapToGrid){\n\t\tfinalCoords = {\n\t\t\tx:FilterTools.roundToMultiple(coords.x, (workarea.gridSize)),\n\t\t\ty:FilterTools.roundToMultiple(coords.y, (workarea.gridSize))\n\t\t};\n    }\n\n    if(keyboard.shift && wc && event.type==='mousemove'){\n        let dd = {\n            x:finalCoords.x - mouse.offsetDown.x,\n            y:finalCoords.y - mouse.offsetDown.y\n        };\n\t\tlet angle = -1 * Math.atan2(dd.y, dd.x) * 180 / Math.PI;\n\t\tangle = Math.floor(angle < 0 ? 360 + angle : angle);\n\t\tlet quadrant = Math.floor((angle-15)/45);\n\t\tlet lower;\n\t\tswitch(quadrant){\n\n\t\t\tcase 0: //(45deg) NE\n\t\t\t\tlower = dd.x<Math.abs(dd.y)?dd.x:Math.abs(dd.y);\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x + lower,\n\t\t\t\t\ty:mouse.offsetDown.y - lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 2: //135\n\t\t\t\tlower = dd.x>dd.y?dd.x:dd.y;\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x + lower,\n\t\t\t\t\ty:mouse.offsetDown.y + lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 4: //225\n\t\t\t\tlower = Math.abs(dd.x)<dd.y?Math.abs(dd.x):dd.y;\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x - lower,\n\t\t\t\t\ty:mouse.offsetDown.y + lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 6: //305\n\t\t\t\tlower = dd.x<dd.y?dd.x:dd.y;\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx:mouse.offsetDown.x + lower,\n\t\t\t\t\ty:mouse.offsetDown.y + lower\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 1: //270px\n            case 5:\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx: mouse.offsetDown.x,\n\t\t\t\t\ty:finalCoords.y\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase -1:\n            case 7:\n            case 3: //(-1 and 7 and 3)\n\t\t\t\tfinalCoords = {\n\t\t\t\t\tx: finalCoords.x,\n\t\t\t\t\ty: mouse.offsetDown.y\n\t\t\t\t};\n                break;\n            default:;\n\t\t}\n\t}\n    return finalCoords;\n};\n","import React, { Component } from 'react';\nimport store from '../../store';\nimport zoom from 'panzoom';\n\nclass InputLogger extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.mouseDown = false;\n\t\tthis.logEvent = function(e){\n\t\t\te.persist();\n\t\t\te.preventDefault();\n\t\t\tlet xy;\n            let eType = e.type;\n\t\t\txy = {\n\t\t\t\tx:e.pageX,\n\t\t\t\ty:e.pageY\n\t\t\t};\n\t\t\tswitch (eType) {\n\t\t\t\tcase 'mousedown':\n\t\t\t\t\tthis.mouseDown = true;\n\t\t\t\t\tthis.props.mouseDownFunction(e,xy);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mouseup':\n\t\t\t\t\tthis.mouseDown = false;\n\t\t\t\t\tthis.props.mouseUpFunction(e,xy);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log('woot');\n\t\t\t}\n\n\t\t\tthis.props.registerMouseEventType();\n\t\t\tthis.props.eventReceptorFunction({\n                theEvent:eType,\n                e:e\n            });\n\t\t}.bind(this);\n\n\t\tthis.logMove = function(e){\n\t\t\tif (this.mouseDown){\n\t\t\t\tlet il = this.refs.inputLogger;\n\t\t\t\tlet xy = {\n\t\t\t\t\tx:(e.type==='touchmove'?e.originalEvent.touches[0].pageX:e.pageX) + il.scrollLeft,\n\t\t\t\t\ty:(e.type==='touchmove'?e.originalEvent.touches[0].pageY:e.pageY) + il.scrollTop\n\t\t\t\t};\n\t            this.props.mouseMoveFunction(xy);\n\t            this.props.eventReceptorFunction({\n\t                theEvent:'mousemove',\n\t                e:e\n\t            });\n\t\t\t}\n\t\t}.bind(this);\n\n\t\tthis.zoomFn = async (e) => {\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'SCREEN_ZOOM',\n\t\t\t\tval:e.detail.scale\n\t\t\t});\n\t\t}\n\t\tthis.panFn = function(e){\n\t\t}\n\t\tthis.transformFn = (e) => {\n\t\t\treturn window.dispatchEvent(new Event('resize'));\n\t\t};\n\t}\n\tshouldComponentUpdate(nextProps){\n\t\tlet itShould = (this.props.cursor!==nextProps.cursor);\n\t\treturn itShould;\n\t}\n\tcomponentDidUpdate(prevProps){}\n\tcomponentDidMount(){\n        if (this.refs.inputLogger!==undefined){\n\t\t\tlet il = this.refs.inputLogger;\n\n\t\t\t//lets talk about origin\n\t\t\tlet origin = {\n\t\t\t\tx:'calc(50% - 50vw)',\n\t\t\t\ty:'calc(50% - 50vh)',\n\t\t\t\tz:0\n\t\t\t};\n\n\t\t\t// initialize zoompan\n\t\t\tlet zoomInstance = zoom(il,{\n\t            smoothScroll: false,\n\t\t\t\tpanButton:1,\n\t\t\t\tzoomDoubleClickSpeed: 1,\n\t\t\t\ttransformOrigin:origin\n\t        });\n\t\t\til.addEventListener('zoom',this.zoomFn);\n\t\t\til.addEventListener('panend',this.panFn);\n\t\t\til.addEventListener('transform',this.transformFn);\n\t        store.dispatch({\n\t            type:'PUBLIC_ADD',\n\t            key:'zoomInstance',\n\t            val:zoomInstance\n\t        });\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.refs.inputLogger!==undefined){\n\t\t\tthis.refs.inputLogger.removeEventListener('zoom',this.zoomFn);\n\t\t\tthis.refs.inputLogger.removeEventListener('panend',this.panFn);\n\t\t\tthis.refs.inputLogger.removeEventListener('transform',this.transformFn);\n        }\n    }\n\trender() {\n\t\treturn (\n\t\t\t<div ref=\"inputLogger\" style={{cursor:this.props.cursor}}\n    \t\t\tclassName=\"input-logger\"\n    \t\t\tonMouseDown={this.logEvent}\n    \t\t\tonMouseUp={this.logEvent}\n    \t\t\tonMouseMove={this.logMove}\n\t\t\t>{ this.props.children }</div>\n\t\t);\n\t}\n};\n\nexport default InputLogger;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {merge} from 'lodash';\nimport CoordFilters from '../../factories/CoordFilters';\nimport InputLogger from '../InputLogger/';\nimport PickHelpers from '../../factories/Pick';\nimport store from '../../store'\n\nimport './styles.css';\n\nclass Workarea extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.eventReceptorFunction = function(args){\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_EVENT',\n\t\t\t\tval:args.e\n\t\t\t});\n\t\t\tlet tools = this.props.tools;\n\t\t\tif (tools.current && (tools.set[tools.current]!==undefined)){\n\t\t\t\tlet toolFn = tools.set[tools.current][args.e.type];\n\t\t\t\tif (typeof(toolFn)==='function'){\n\t\t\t\t\tlet currentPick = store.getState().pick;\n\t\t\t\t\ttoolFn({\n\t\t\t\t\t\tpick: merge(\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\tPickHelpers,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telements:currentPick.elements,\n\t\t\t\t\t\t\t\tinitialStates:currentPick.initialStates\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t),\n\t\t\t\t\t\tevent:args.e\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this);\n\t\tthis.mouseDownFunction = function(e,xy){\n\t\t\tlet state = store.getState();\n\t\t\tlet screen = state.screen;\n\t\t\tlet so = screen.offset;\n\t\t\tlet xyo = {\n\t\t\t\tx: Math.round((xy.x - so.left)/screen.zoom,0),\n\t\t\t\ty: Math.round((xy.y - so.top)/screen.zoom,0)\n\t\t\t}\n\t\t\txy = this.filterFunction(xy,e);\n\t\t\txyo = this.filterFunction(xyo,e);\n\t\t\t//disable undus till we mouseup\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'UNDO_DEACTIVATE'\n\t\t\t});\n\t\t\t// blur inputs\n\t\t\tdocument.activeElement.blur();\n\t\t\t// register mousedown coordinates\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_DOWN',\n\t\t\t\tval:{\n\t\t\t\t\tdown:{\n\t\t\t\t\t\tx:xy.x,\n\t\t\t\t\t\ty:xy.y\n\t\t\t\t\t},\n\t\t\t\t\toffsetDown:{\n\t\t\t\t\t\tx:xyo.x,\n\t\t\t\t\t\ty:xyo.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'WORKAREA_CLASS',\n\t\t\t\tval:['mouse-down']\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_DRAG_DELTA',\n\t\t\t\tval: {\n\t\t\t\t\tx:0,\n\t\t\t\t\ty:0\n\t\t\t\t}\n\t\t\t});\n\t\t\t// save the mousedown event to a variable so we can pick it up in case it is not a longpress\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_DOWN_EVENT',\n\t\t\t\tval: e\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'MOUSE_IS_DOWN',\n\t\t\t\tval: true\n\t\t\t});\n\t\t}\n\t\tthis.mouseUpFunction = function(e,xy){\n\t\t\tlet screen = store.getState().screen;\n\t\t\tlet so = screen.offset;\n\t\t\tlet xyo = {\n\t\t\t\tx: Math.round((xy.x - so.left)/screen.zoom,0),\n\t\t\t\ty: Math.round((xy.y - so.top)/screen.zoom,0)\n\t\t\t}\n\t\t\txy = this.filterFunction(xy,e);\n\t\t\txyo = this.filterFunction(xyo, e);\n\t\t\tstore.dispatch({\n\t\t\t\ttype: 'WORKAREA_CLASS',\n\t\t\t\tval:[]\n\t\t\t});\n\n\t\t\t// enable undos\n\t\t\tstore.dispatch({type: 'UNDO_ACTIVATE'});\n\n\n\t\t\t// register the coordinates\n\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'MOUSE_UP',\n\t\t\t\tval:{\n\t\t\t\t\tup:{\n\t\t\t\t\t\tx:xy.x,\n\t\t\t\t\t\ty:xy.y\n\t\t\t\t\t},\n\t\t\t\t\toffsetUp:{\n\t\t\t\t\t\tx:xyo.x,\n\t\t\t\t\t\ty:xyo.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tthis.registerMouseEventType = function(eType){\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'MOUSE_EVENT',\n\t\t\t\tval:eType\n\t\t\t});\n\t\t};\n\t\tthis.mouseMoveFunction = function(xy){\n\t\t\tlet screen = this.props.screen;\n\t\t\tlet so = screen.offset;\n\t\t\t//let ss = screen.scroll;\n\t\t\tlet xyo = {\n\t\t\t\tx: Math.round((xy.x - so.left)/screen.zoom,0),\n\t\t\t\ty: Math.round((xy.y - so.top)/screen.zoom,0)\n\t\t\t}\n\t\t\txy = this.filterFunction(xy,{type:'mousemove'});\n\t\t\txyo = this.filterFunction(xyo,{type:'mousemove'});\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'MOUSE_POSITION',\n\t\t\t\tval:{\n\t\t\t\t\tx:xy.x,\n\t\t\t\t\ty:xy.y,\n\t\t\t\t\toffset:{\n\t\t\t\t\t\tx:xyo.x,\n\t\t\t\t\t\ty:xyo.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstore.dispatch({\n\t\t\t\ttype:'WORKAREA_CLASS',\n\t\t\t\tval:['mouse-down','mouse-move']\n\t\t\t});\n\t\t}.bind(this);\n\t\tthis.filterFunction = function(coords,e){\n\t\t\treturn CoordFilters(coords,true,this.props.workarea,this.props.mouse,this.props.keyboard,this.props.screen,e);\n\t\t}.bind(this);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"work-area\">\n\t\t\t<InputLogger\n\t\t\t\tzoom={this.props.screen.zoom}\n\t\t\t\tcursor={this.props.workarea.cursor}\n\t\t\t\teventReceptorFunction={this.eventReceptorFunction}\n\t\t\t\tfilterFunction={this.filterFunction}\n\t\t\t\tmouseDownFunction={this.mouseDownFunction}\n\t\t\t\tmouseUpFunction={this.mouseUpFunction}\n\t\t\t\tmouseMoveFunction={this.mouseMoveFunction}\n\t\t\t\tregisterMouseEventType={this.registerMouseEventType}\n\t\t\t>{this.props.children}</InputLogger>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\n\n\nconst mapStateToProps = function(store) {\n  //return store.main;\n  return {\n    mouse:store.mouse,\n    tools:store.tools,\n    screen:store.screen,\n\tworkarea:store.workarea,\n\tkeyboard:store.keyboard,\n\tpick:store.pick\n  };\n}\nconst SmartWorkarea = connect(mapStateToProps)(Workarea);\n\nexport default SmartWorkarea;\n","import React, { Component } from 'react';\nimport store from '../../store';\nimport ObjectTools from '../../factories/ObjectTools';\n\nimport './styles.css';\n\nclass Element extends Component {\n    renderChildren(){\n        if(this.props.specs.children){\n            return this.props.specs.children.map(\n                (child, i) => {\n                    return (<Element key={i} specs={child} pick={this.props.pick} />);\n                }\n            )\n        }\n        return null;\n    }\n    getClassString(){\n        let classes = this.props.specs.states[this.props.specs.currentState].classes;\n        let classArray = ['element'].concat(classes);\n        if(ObjectTools.objectAvailableByKey('id',this.props.specs.id,this.props.pick.elements)) {\n            classArray.push('selected');\n        }\n        if(this.props.specs.id === \"root\") {\n            classArray.push(\"element--root\");\n            if(this.props.pick.elements.length>1){\n                classArray.push('selected-multiple');\n            }\n        }\n        return classArray.join(' ');\n    }\n    renderTools(){\n        if(this.props.specs.id !== \"root\") {\n            return (\n            <div className=\"element__tools\">\n                <div data-id={this.props.specs.id} data-resize='nw' data-move='0' className=\"element__tool element__tool--top-left\"></div>\n                <div data-id={this.props.specs.id} data-resize='n' data-move='0' className=\"element__tool element__tool--top\"></div>\n                <div data-id={this.props.specs.id} data-resize='ne' data-move='0' className=\"element__tool element__tool--top-right\"></div>\n                <div data-id={this.props.specs.id} data-resize='w' data-move='0' className=\"element__tool element__tool--left\"></div>\n                <div data-id={this.props.specs.id} data-resize='' data-move='1' className=\"element__tool element__tool--center\"></div>\n                <div data-id={this.props.specs.id} data-resize='e' data-move='0' className=\"element__tool element__tool--right\"></div>\n                <div data-id={this.props.specs.id} data-resize='sw' data-move='0' className=\"element__tool element__tool--bottom-left\"></div>\n                <div data-id={this.props.specs.id} data-resize='s' data-move='0' className=\"element__tool element__tool--bottom\"></div>\n                <div data-id={this.props.specs.id} data-resize='se' data-move='0' className=\"element__tool element__tool--bottom-right\"></div>\n            </div>\n            );\n        }\n        return null;\n    }\n    storeDimensions(){\n        if (this.refs.root!==undefined){\n            let offset = function(el) {\n                let rect = el.getBoundingClientRect();\n                return { top: rect.top, left: rect.left }\n            }\n            let zeOffset = offset(this.refs.root);\n            store.dispatch({\n                type:'SCREEN_OFFSET',\n                val:zeOffset\n            });\n        }\n    }\n    componentDidMount(){\n        if (this.refs.root!==undefined){\n            this.storeDimensions();\n            window.addEventListener(\"resize\",this.storeDimensions.bind(this));\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.refs.root!==undefined){\n            window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n        }\n    }\n    conponentWillUpdate(){\n        console.log(this.props.specs.id);\n    }\n    render(){\n\n        if (this.props.specs.states){\n            let specs =  this.props.specs.states[this.props.specs.currentState];\n            return (\n                <div id={'els_'+this.props.specs.id} className={this.getClassString()} style={{...specs.style}} ref={this.props.specs.id}>\n                    {this.renderTools()}\n                    <div className=\"element__contents\">\n                        {specs.text}\n                        {this.renderChildren()}\n                    </div>\n                </div>);\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default Element;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Element from '../Element/';\n\nimport './styles.css';\n\nclass Artboard extends Component {\n    render(){\n        return (<Element specs={this.props.tree} pick={this.props.pick}/>);\n    }\n}\n\nconst mapStateToProps = function(store) {\n  return {\n    tree:store.tree,\n    pick:store.pick\n  };\n};\nconst SmartArtboard = connect(mapStateToProps)(Artboard);\n\n\nexport default SmartArtboard;\n","export default {\n    objectToCss:function(obj = {marginLeft:0,paddingLeft:0}){\n        let cssString = '';\n        for (let prop in obj){\n            if (obj.hasOwnProperty(prop)) {\n                cssString += prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() + ':' + obj[prop]+';';\n            }\n        }\n        return cssString;\n    },\n    getStylesheet:function(id){\n        let styleSheets = document.styleSheets;\n        for (let i=0; i < styleSheets.length;i++){\n            if (styleSheets[i].ownerNode.id===id) return styleSheets[i];\n        }\n        return false;\n    },\n    insertRule:function(styleSheet, classObject){\n        let ruleContents = this.objectToCss(classObject.style);\n        let rule = '.'+classObject.label+'{'+ruleContents+'}';\n        return styleSheet.insertRule(rule,styleSheet.cssRules.length);\n    },\n    emptystyleSheet:function(styleSheet){\n        for (let i=styleSheet.cssRules.length; i>0; i--){\n            styleSheet.deleteRule(i);\n        }\n        return false;\n    },\n    initializeSheet:function(styleSheet,classes){\n        this.emptystyleSheet(styleSheet);\n        classes.map(\n            (classObject)=>{\n                let ruleInsertedIndex = this.insertRule(styleSheet,classObject);\n                //console.log(ruleInsertedIndex);\n                return ruleInsertedIndex;\n            }\n        );\n        return false;\n    }\n}\n","import React, { Component } from 'react';\n\nimport './styles.css';\n\nclass ToolbarButton extends Component {\n    constructor(props){\n        super(props);\n        this.toolName = this.props.toolName;\n        this.tool = this.props.tool;\n        this.toolIcon = this.tool.iconClass;\n        this.iconString = this.tool.iconString;\n        this.renderIcon = function(){\n            if (this.toolIcon) return <span className={this.toolIcon}>{this.iconString}</span>;\n        };\n        this.activateTool = function(){\n            this.props.activateTool(this.toolName);\n        }.bind(this);\n        this.theClass = function(){\n            return 'toolbar__button'+(this.props.toolName===this.props.currentTool?' active':'')\n        }.bind(this);\n    }\n    render(){\n        return (<button className={this.theClass()} onClick={this.activateTool}>{this.renderIcon()}<span className=\"sr-only\">{this.toolName}</span></button>);\n    }\n}\n\nexport default ToolbarButton;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ToolbarButton from '../ToolbarButton/';\nimport store from '../../store';\n\nimport './styles.css';\n\n\n\nclass Toolbar extends Component {\n    constructor(props){\n        super(props);\n        this.activateTool = (theTool)=>{\n            if (this.props.tools.current!==theTool){\n                if(typeof(this.props.tools.set[this.props.tools.current].destroy)==='function'){\n                    this.props.tools.set[this.props.tools.current].destroy();\n                }\n                store.dispatch({\n    \t\t\t\ttype:'TOOLS_CURRENT',\n    \t\t\t\tval:theTool\n    \t\t\t});\n                store.dispatch({\n    \t\t\t\ttype:'WORKAREA_CURSOR',\n    \t\t\t\tval:this.props.tools.set[theTool].cursor\n    \t\t\t});\n                store.dispatch({\n                    type:'PICK_CLEAR'\n                });\n                console.log()\n                if(typeof(this.props.tools.set[theTool].initialize)==='function'){\n                    this.props.tools.set[theTool].initialize();\n                }\n            }\n        };\n        this.renderTools = ()=>{\n            let toolArray = [];\n            let tools = this.props.tools.set;\n            for (let tool in tools){\n                if (tools.hasOwnProperty(tool)) {\n                    toolArray.push(<ToolbarButton key={tool} toolName={tool} tool={tools[tool]} activateTool={this.activateTool} currentTool={this.props.tools.current} />);\n                }\n            }\n            return toolArray;\n        };\n    }\n    render(){\n        return (<div className=\"toolbar\">{this.renderTools()}</div>);\n    }\n}\n\n\nconst mapStateToProps = function(store) {\n  return {\n    tools:store.tools,\n    keyboard:store.keyboard\n  };\n};\nconst SmartToolbar = connect(mapStateToProps)(Toolbar);\n\n\nexport default SmartToolbar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../store';\n\nimport './styles.css';\n\nclass MenuSub extends Component{\n    showMenu(sub){\n        store.dispatch({\n            type:'MENU_TOGGLE_SUB',\n            value:sub\n        });\n    }\n    buildMenuDropdown(ddData){\n        let output = [];\n        for (const item in ddData) {\n            let Component = require('./SingleComponents/'+ddData[item].tag+'/').MenuItem;\n            output.push(<Component key={ddData[item].tag} />);\n        }\n        return output;\n    }\n    render(){\n        return (\n            <div key={this.props.sub[0]} className={(this.props.sub[1].visible?'menu__sub menu__sub--visible':'menu__sub')} onClick={()=>{this.showMenu(this.props.sub[0])}}>\n                <button className=\"menu__label\">{this.props.sub[0]}</button>\n                <div className=\"menu__backdrop\"></div>\n                <div className=\"menu__dropdown\">{this.buildMenuDropdown(this.props.sub[1].items)}</div>\n            </div>\n        );\n    }\n}\n\nclass MenuBar extends Component {\n    renderMenuHelpers(){\n        return Object.entries(this.props.menu.menus).map((sub, key)=>{\n            let output = [];\n            let items = sub[1].items;\n            for (const item in items) {\n                let Component = require('./SingleComponents/'+items[item].tag+'/').MenuHelper;\n                if (Component!==undefined){\n                    output.push(<Component key={items[item].tag} />);\n                }\n            }\n            return output;\n        });\n    }\n    // listen to keyboard\n    listenToKeydown(event){\n        event.preventDefault();\n        let keyCode = event.keyCode;\n        let keys = this.props.keyboard;\n        if ((keys.set[keyCode]!==undefined)&&(keys.set[keyCode].keydown!==undefined)){\n            keys.set[keyCode].keydown(event);\n        }\n        if (keyCode === 16){\n            store.dispatch({\n                type:'KEYBOARD_SHIFT',\n                val:true\n            });\n        }\n    };\n    listenToKeyup(event){\n        event.preventDefault();\n        let keyCode = event.keyCode;\n        let keys = this.props.keyboard;\n        if ((keys.set[keyCode]!==undefined)&&(keys.set[keyCode].keyup!==undefined)){\n            keys.set[keyCode].keyup(event);\n        }\n        if (event.keyCode === 16){\n            store.dispatch({\n                type:'KEYBOARD_SHIFT',\n                val:false\n            });\n        }\n    };\n\tcomponentWillMount(){\n\t\twindow.addEventListener(\"keydown\", this.listenToKeydown.bind(this), false);\n\t\twindow.addEventListener(\"keyup\", this.listenToKeyup.bind(this), false);\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"keydown\", this.listenToKeydown.bind(this), false);\n\t\twindow.removeEventListener(\"keyup\", this.listenToKeyup.bind(this), false);\n\t}\n    render(){\n        return (\n            <div className=\"top-header\">\n                <div className=\"menu\">\n                    {Object.entries(this.props.menu.menus).map((sub, key)=>{return <MenuSub key={key} sub={sub} />})}\n                </div>\n                <div className=\"menu__helpers\">\n                    {this.renderMenuHelpers()}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        menu:store.menu,\n        keyboard:store.keyboard\n    };\n};\nconst SmartMenuBar = connect(mapStateToProps)(MenuBar);\n\nexport default SmartMenuBar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PickHelpers from '../../factories/Pick';\nimport TreeHelpers from '../../factories/Tree';\nimport store from '../../store';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\nclass Tree extends Component {\n    findTree(treeId,tree){\n        if (tree.id===treeId) {\n            return tree;\n        } else {\n            for (let child of tree.children){\n                return this.findTree(treeId,child);\n            }\n        }\n        return false;\n    }\n    selectItem(e){\n        let element = e.target;\n        let elementId = element.dataset.elementId;\n        let addKey = e.ctrlKey || e.metaKey;\n        //let swipeKey = e.shiftKey;\n\n        let currentPick = store.getState().pick;\n        let pick = merge(\n            {},\n            PickHelpers,\n            {\n                elements:currentPick.elements,\n                initialStates:currentPick.initialStates\n            }\n        );\n\n        // BOOM\n        PickHelpers.addElementToPick(elementId, pick, addKey);\n    }\n    renderChildren(){\n        let children = this.props.tree.children;\n        let returnArray =[];\n        let path = (this.props.path!==''?(this.props.path+'_'):'')+this.props.index;\n        for (let i=children.length-1; i>-1; i--){\n            returnArray.push(<Tree key={i} index={i} tree={children[i]} path={path}></Tree>);\n        }\n        return returnArray;\n    }\n    dragEnter(e){\n        e.preventDefault();\n        e.target.classList.add('hover');\n    }\n    dragLeave(e){\n        e.preventDefault();\n        e.target.classList.remove('hover');\n    }\n    drop(e, before=true){\n        // recursive funciton to calculate the new top-left\n\n        e.preventDefault();\n        let target = e.target;\n        let targetId = target.dataset.elementId;\n\n        if (!PickHelpers.isInPick(targetId)){\n            let state = store.getState();\n            let tree = merge({},state.tree);\n\n            let targetElementParent = TreeHelpers.getParentElementById(tree,targetId);\n\n            let pick = state.pick.elements;\n            let transferArray = [];\n            for (let element of pick){\n                // get the element to splice parent\n                let elementSource = TreeHelpers.getParentElementById(tree,element.id);\n\n                // get the parent position respect to 0\n                let parentGlobalPosition = TreeHelpers.getElementGlobalPosition(tree,elementSource.id);\n                \n                // splice the element\n                let transfer = TreeHelpers.spliceElementById(tree,element.id)[0];\n                \n                if(targetElementParent!==elementSource){\n                    let targetParentGlobalPosition = TreeHelpers.getElementGlobalPosition(tree,targetElementParent.id);\n\n                    transfer.states[transfer.currentState].style.left += (parentGlobalPosition.left - targetParentGlobalPosition.left);\n                    transfer.states[transfer.currentState].style.top += (parentGlobalPosition.top - targetParentGlobalPosition.top);\n                    \n                    // recalculate the width and height of the group now tha tit has a new element tha tcould have gone out of the boundaries\n                }\n                \n                if (transfer) transferArray.push(transfer);\n            }\n            tree = TreeHelpers[(before?'InsertElementsBefore':'InsertElementsAfter')](tree,targetId,transferArray);\n            store.dispatch({\n                type:'TREE_FULL',\n                val:tree\n            });\n            store.dispatch({\n                type:'PUBLIC_ADD',\n                key:'layerDrag',\n                val:false\n            })\n        }\n    }\n    dropBefore(e){\n        this.drop(e,true);\n    }\n    dropAfter(e){\n        this.drop(e,false);\n    }\n    dragOver(e){\n        e.preventDefault();\n    }\n    dragStart(e){\n        store.dispatch({\n            type:'PUBLIC_ADD',\n            key:'layerDrag',\n            val:true\n        })\n    }\n    componentWillMount(){\n        store.dispatch({\n            type:'PUBLIC_ADD',\n            key:'layerDrag',\n            val:false\n        })\n    }\n    componentWillUnmount(){\n        store.dispatch({\n            type:'PUBLIC_REMOVE',\n            key:'layerDrag'\n        })\n    }\n    renderButton(){\n        let tree = this.props.tree;\n        if(tree.id !== 'root'){\n            return (\n                <button className=\"tree-button\" data-element-id={this.props.tree.id} onDragStart={this.dragStart} draggable=\"true\" onMouseDown={this.selectItem}>\n                    <span className=\"drop-zone\" data-element-id={this.props.tree.id} onDragOver={this.dragOver} onDragEnter={this.dragEnter} onDragLeave={this.dragLeave}  onDrop={this.dropBefore.bind(this)}></span>\n                    {tree.label}\n                    <span className=\"drop-zone\" data-element-id={this.props.tree.id} onDragOver={this.dragOver} onDragEnter={this.dragEnter} onDragLeave={this.dragLeave} onDrop={this.dropAfter.bind(this)}></span>\n                </button>\n            );\n        } else {\n            return <button className=\"tree-button\" data-element-id={this.props.tree.id} onMouseDown={this.selectItem}>{tree.label}</button>\n        }\n    }\n    render(){\n        let tree = this.props.tree;\n        return (\n            <div className={\"tree-element ch_\"+tree.id}>\n\n                {this.renderButton()}\n\n                <style type=\"text/css\">{'.'+tree.id+' .ch_'+tree.id+'{background-color:#ccc} .'+tree.id+' .ch_'+tree.id+' .drop-zone{opacity:0 !important;pointer-events:none !important;}'}</style>\n\n                {this.renderChildren()}\n\n            </div>\n        );\n    }\n}\n\nclass LeftBar extends Component {\n    render(){\n        return (\n            <div className={\"leftbar \"+(this.props.public.layerDrag?'drag':'')+\" \"+this.props.pick.elements.map((element)  => {return element.id+\" \"}).join(\" \")}>\n                <Tree tree={this.props.tree} path={''} index={'root'}></Tree>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        tree:store.tree,\n        pick:store.pick,\n        public:store.public\n    };\n};\n\nconst SmartLeftBar = connect(mapStateToProps)(LeftBar);\n\nexport default SmartLeftBar;\n","import React, { Component } from 'react';\n\nclass InputNumeric extends Component {\n    render(){\n        return (<input type=\"number\" min={this.props.min} max={this.props.max} step={this.props.step} data-which={this.props.which} data-type=\"number\" value={this.props.value} onChange={this.props.change} disabled={this.props.disabled} />);\n    }\n}\nexport default InputNumeric;\n","import React, { Component } from 'react';\nimport './styles.css';\nimport { ChromePicker } from 'react-color';\n\nclass InputColor extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            pickerVisible:false\n        }\n        this.setColor = (color)=>{\n            let c = color.rgb;\n            let colorString = 'rgba('+c.r+','+c.g+','+c.b+','+c.a+')';\n            this.props.change({\n                target:{\n                    value:colorString,\n                    dataset:{\n                        which:this.props.which,\n                        type:\"string\"\n                    }\n                }\n            })\n        }\n        this.togglePicker = ()=>{\n            if (!this.props.disabled){\n                this.setState({\n                    pickerVisible:!this.state.pickerVisible\n                })\n            }\n        };\n    }\n    render(){\n        return (\n            <div className={\"input-color\"+(this.props.disabled?' disabled':'')}>\n                <div className=\"input-color__swatch-wrap\">\n                    <div className=\"input-color__swatch\" style={{backgroundColor:this.props.value}} onClick={this.togglePicker}></div>\n                </div>\n                <ChromePicker className={this.state.pickerVisible?'visible':''} color={this.props.value} onChangeComplete={this.setColor} />\n                <div  className={'input-color__backdrop '+(this.state.pickerVisible?'visible':'')} onClick={this.togglePicker}></div>\n            </div>\n        );\n    }\n}\nexport default InputColor;\n","import React, { Component } from 'react';\nimport './styles.css';\n\nclass InputRange extends Component {\n    render(){\n        return (<input className={'input-range '+this.props.className} type=\"range\" min={this.props.min} max={this.props.max} step={this.props.step} data-which={this.props.which} data-type=\"number\" value={this.props.value} onChange={this.props.change} disabled={this.props.disabled} />);\n    }\n}\nexport default InputRange;\n","import React, { Component } from 'react';\nimport './styles.css';\n\nclass InputSelect extends Component {\n    render(){\n        return (<select className={'input-select '+this.props.className} data-which={this.props.which} data-type=\"string\" value={this.props.value} onChange={this.props.change} disabled={this.props.disabled}>{this.props.children}</select>);\n    }\n}\nexport default InputSelect;\n","import React, { Component } from 'react';\nimport {merge} from 'lodash';\n\nimport './styles.css';\n\n\n\nclass CssNavigator extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            propName:'',\n            propValue:''\n        };\n    }\n    changeProp(e){\n        let elmt = e.target;\n        let val = elmt.value;\n        let prop = elmt.dataset.prop;\n        this.props.updateValue({\n            target:{\n                value:val,\n                dataset:{\n                    which:prop,\n                    type:(isNaN(val)?\"string\":\"number\")\n                }\n            }\n        })\n    }\n    deleteProp(e){\n        let elmt = e.target;\n        let prop = elmt.dataset.prop;\n        this.props.deleteProp({\n            target:{\n                dataset:{\n                    which:prop\n                }\n            }\n        })\n    }\n    addProp(e){\n        e.preventDefault();\n\n        this.props.addProp({\n            propName:this.state.propName.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); }),\n            propValue:this.state.propValue\n        });\n        this.setState({\n            propName:'',\n            propValue:''\n        })\n        this.refs.propName.focus();\n    }\n    definePropKey(e){\n        this.setState({\n            propName:e.target.value\n        })\n    }\n    definePropValue(e){\n        this.setState({\n            propValue:e.target.value\n        })\n    }\n    renderProperties(){\n        let output = [];\n        let styles = this.props.elementValues;\n        let toCss = (myStr)=>{\n            return myStr.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase();\n        }\n        // lets see first an expanded array of pros in the whole pick\n        let propObject = {};\n        for (let element of styles){\n            merge(propObject,element);\n        }\n\n        for (let prop in propObject){\n            output.push(\n                <div className=\"css-prop\" key={prop}>\n                    <label className=\"css-prop-label\">{toCss(prop)}</label>\n                    <input className=\"css-prop-val\" type=\"text\" data-prop={prop} value={this.props.getValue(styles,prop)} onChange={this.changeProp.bind(this)} />\n                    <button className=\"button button-icon material-icons\" data-prop={prop} onClick={this.deleteProp.bind(this)}>close</button>\n                </div>\n            );\n        }\n        return output\n    }\n    render(){\n\n        return(\n            <div className=\"css-nav\">\n                {this.renderProperties()}\n                <form className=\"css-prop\" onSubmit={this.addProp.bind(this)}>\n                    <input ref=\"propName\" type=\"text\" onChange={this.definePropKey.bind(this)} value={this.state.propName} placeholder=\"Property\" />\n                    <input type=\"text\" onChange={this.definePropValue.bind(this)} value={this.state.propValue} placeholder=\"Value\" />\n                    <button type=\"submit\" className=\"button button-icon material-icons\">add_circle_outline</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default CssNavigator;\n","import React, { Component } from 'react';\nimport InputNumeric from '../Inputs/InputNumeric/';\nimport InputColor from '../Inputs/InputColor/';\n\nimport './styles.css';\n\n\n\nclass ShadowHandler extends Component {\n    generateValue(props){\n        return(props['x']+'px ' + props['y'] + 'px ' + props['blur'] + 'px ' + props['color']);\n    }\n    changeShadow(e,props,prop){\n        let val = e.target.value;\n        props[prop] = val;\n\n        this.props.change({\n            target:{\n                value:this.generateValue(props),\n                dataset:{\n                    which:this.props.what\n                }\n            }\n        })\n    }\n    generateProps(props){\n        if (props){\n            let pa = props.split(' ');\n            let x = parseFloat(pa[0].replace('px',''));\n            let y = parseFloat(pa[1].replace('px',''));\n            let b = parseFloat(pa[2].replace('px',''));\n            let c = pa[3];\n            let ro = {\n                x:x,\n                y:y,\n                blur:b,\n                color:c\n            };\n            return ro;\n        }\n        return {\n            x:'0',\n            y:'0',\n            blur:'0',\n            color:'rgba(0,0,0,1)'\n        }\n    }\n    render(){\n        let sProps = this.generateProps(this.props.value);\n        return(\n            <div className=\"shadow-handler\">\n                <InputNumeric value={sProps.x} change={(e)=>{this.changeShadow(e,sProps,'x')}} disabled={this.props.disabled} />\n                <InputNumeric value={sProps.y} change={(e)=>{this.changeShadow(e,sProps,'y')}} disabled={this.props.disabled} />\n                <InputNumeric value={sProps.blur} change={(e)=>{this.changeShadow(e,sProps,'blur')}} min={0} disabled={this.props.disabled} />\n                <InputColor value={sProps.color} change={(e)=>{this.changeShadow(e,sProps,'color')}} disabled={this.props.disabled} />\n            </div>\n        );\n    }\n}\n\nexport default ShadowHandler;\n","import React, { Component } from 'react';\nimport {merge} from 'lodash';\nimport InputNumeric from '../Inputs/InputNumeric/';\nimport ShadowHandler from '../ShadowHandler/';\n\nimport './styles.css';\n\nclass FilterComposer extends Component {\n    toggle(e,props){\n        console.log(props);\n        let what = e.target.dataset.what;\n        let nuState = merge({},props);\n        nuState[what].on = !nuState[what].on\n        this.zap(nuState);\n    }\n    generateValue(props){\n        let output = '';\n        for (let filter in props){\n            if (props[filter].on){\n                output += filter+'('+props[filter].value+props[filter].appendix+') ';\n            }\n        }\n        return output.trim();\n    }\n    zap(props){\n        let textValue = this.generateValue(props);\n        this.props.change({\n            target:{\n                value:textValue,\n                dataset:{\n                    which:'filter'\n                }\n            }\n        });\n    }\n    updateFilter(e,props){\n        let value = e.target.value;\n        let nuState = merge({},props);\n        let which = e.target.dataset.which;\n        nuState[which].value = value;\n        this.zap(nuState);\n    }\n    formatProps(val){\n        let propObject = {\n            'drop-shadow':{\n                on:false,\n                value:'0px 0px 0px rgba(0,0,0,1)',\n                appendix:''\n            },\n            blur:{\n                on:false,\n                value:0,\n                appendix:'px'\n            },\n            brightness:{\n                on:false,\n                value:100,\n                appendix:'%'\n            },\n            contrast:{\n                on:false,\n                value:100,\n                appendix:'%'\n            },\n            grayscale:{\n                on:false,\n                value:0,\n                appendix:'%'\n            },\n            'hue-rotate':{\n                on:false,\n                value:0,\n                appendix:'deg'\n            },\n            invert:{\n                on:false,\n                value:0,\n                appendix:'%'\n            },\n            saturate:{\n                on:false,\n                value:100,\n                appendix:'%'\n            },\n            sepia:{\n                on:false,\n                value:0,\n                appendix:'%'\n            }\n        };\n        if(val){\n            let effectsArray = val.split(')').filter(function(x){\n              return (x !== (undefined || null || ''));\n            });\n            for (let effect of effectsArray){\n                let effectPieces = effect.split('(');\n                let effectName = effectPieces[0].trim();\n                let effectVal = effectPieces[1];\n                if (effectName!=='drop-shadow'){\n                    let effectNumericVal = effectVal.replace(/\\D+/g, '');\n                    let effectUnit = effectVal.replace(effectNumericVal,'');\n                    propObject[effectName] = {\n                        on:true,\n                        value:parseFloat(effectNumericVal),\n                        appendix:effectUnit\n                    }\n                } else {\n                    propObject[effectName] = {\n                        on:true,\n                        value:(effectPieces.length>2?effectPieces[1]+'('+effectPieces[2]+')':effectPieces[1]),\n                        appendix:''\n                    }\n                }\n            }\n        }\n        return propObject;\n    }\n    render(){\n        let fProps = this.formatProps(this.props.value);\n        return(\n            <div className=\"filters\">\n                <div className=\"sidebar__grid\">\n                    <input type=\"checkbox\" data-props={fProps} data-what=\"drop-shadow\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps['drop-shadow'].on} />\n                    <label className=\"span-2 text-left js-start\">Drop Shadow</label>\n                    <div className=\"span-3\">\n                        <ShadowHandler what='drop-shadow' disabled={fProps['drop-shadow'].on?\"\":\"disabled\"} value={fProps['drop-shadow'].value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"blur\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.blur.on} />\n                    <label className=\"span-2 text-left js-start\">Blur</label>\n                    <div className=\"span-3\">\n                        <div className=\"span-3\">\n                            <InputNumeric disabled={fProps.blur.on?\"\":\"disabled\"} min={0} step={1} which=\"blur\" value={fProps.blur.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                        </div>\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"brightness\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.brightness.on} />\n                    <label className=\"span-2 text-left js-start\">Brightness</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.brightness.on?\"\":\"disabled\"} min={0} step={1} which=\"brightness\" value={fProps.brightness.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"contrast\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.contrast.on} />\n                    <label className=\"span-2 text-left js-start\">Contrast</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.contrast.on?\"\":\"disabled\"} min={0} step={1} which=\"contrast\" value={fProps.contrast.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"hue-rotate\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps['hue-rotate'].on} />\n                    <label className=\"span-2 text-left js-start\">Hue</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps['hue-rotate'].on?\"\":\"disabled\"} min={0} max={360} step={'any'} which=\"hue-rotate\" value={fProps['hue-rotate'].value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"saturate\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.saturate.on} />\n                    <label className=\"span-2 text-left js-start\">Saturation</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.saturate.on?\"\":\"disabled\"} min={0} step={1} which=\"saturate\" value={fProps.saturate.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"invert\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.invert.on} />\n                    <label className=\"span-2 text-left js-start\">Invert</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.invert.on?\"\":\"disabled\"} min={0} max={100} step={'any'} which=\"invert\" value={fProps.invert.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n\n                    <input type=\"checkbox\" data-what=\"grayscale\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.grayscale.on} />\n                    <label className=\"span-2 text-left js-start\">Grayscale</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.grayscale.on?\"\":\"disabled\"} min={0} max={100} step={'any'} which=\"grayscale\" value={fProps.grayscale.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n\n                    <input type=\"checkbox\" data-what=\"sepia\" onChange={(e)=>{this.toggle(e,fProps)}} checked={fProps.sepia.on} />\n                    <label className=\"span-2 text-left js-start\">Sepia</label>\n                    <div className=\"span-3\">\n                        <InputNumeric disabled={fProps.sepia.on?\"\":\"disabled\"} min={0} max={100} step={'any'} which=\"sepia\" value={fProps.sepia.value} change={(e)=>{this.updateFilter(e,fProps)}} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default FilterComposer;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {merge} from 'lodash';\nimport TreeHelpers from '../../factories/Tree';\nimport store from '../../store';\nimport InputNumeric from '../Inputs/InputNumeric/';\nimport InputColor from '../Inputs/InputColor/';\nimport InputRange from '../Inputs/InputRange/';\nimport InputSelect from '../Inputs/InputSelect/';\nimport CssNavigator from '../CssNavigator/';\nimport FilterComposer from '../FilterComposer/';\n\nclass ElementsSidebarProperties extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            filtersCollapsed:true\n        }\n    }\n    elementValues(){\n        // let's get the pick\n        let pick = this.props.pick.elements;\n\n\n        // let's handle the pick\n        if (pick.length===0){\n            // nothings selected, thus we present the arboard props\n            let elementData = this.props.tree;\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n            return [stateStyle];\n\n        } else {\n            // just one element, have fun\n            // lets get that element's props\n            let output = [];\n            for (let pickElement of pick){\n                let elementId = pickElement.id;\n                let elementData = TreeHelpers.getElementDataById(this.props.tree.children,elementId);\n                let elementState = elementData.currentState;\n                let stateStyle = elementData.states[elementState].style;\n\n                output.push(stateStyle);\n\n            }\n\n            return output;\n        }\n    }\n    elementTypes(){\n        // let's get the pick\n        let pick = this.props.pick.elements;\n        // let's handle the pick\n        if (pick.length===0){\n            return this.props.tree.type;\n        } else {\n            let outputType = null;\n            for (let pickElement of pick){\n                let elementData = TreeHelpers.getElementDataById(this.props.tree.children,pickElement.id);\n                if (!outputType){\n                    outputType = elementData.type;\n                } else {\n                    if (outputType!==elementData.type){\n                        return 'mixed';\n                    }\n                }\n            }\n            return outputType;\n        }\n    }\n    shouldComponentUpdate(){\n        //return (this.props.pick.elements.length>0?true:false);\n        return this.props.tools.current === 'selection';\n    }\n    getValue(styles,prop){\n        if (styles.length < 2) {\n            let style = styles[0];\n            if (style && (style[prop]!==undefined)){\n                return style[prop];\n            }\n        } else {\n            let baseStyle;\n            let style = styles[0];\n            if (style && (style[prop]!==undefined)){\n                baseStyle = style[prop];\n            }\n            // multiple elements! superfun!\n            // default behavior is that for elements that have the same values at the same properties\n            // we show the value, otherwise we show blank!\n            for (let i=1;i<styles.length;i++){\n                style = styles[i];\n                if (style && (style[prop]!==undefined) && (style[prop]===baseStyle)){\n                    // life's good,  let's move forward\n                } else {\n                    return '';\n                }\n            }\n            return baseStyle;\n        }\n        return '';\n    }\n    updateValue(e,altValue = false){\n        // let's get the pick\n        let dataType = function(data,type){\n            switch(type){\n                case ('number'):\n                    return parseFloat(data);\n                default:\n                    return data;\n            }\n        };\n        let pick = this.props.pick.elements;\n        let nuTree = merge({},this.props.tree);\n        let zeInput = e.target;\n        let which = zeInput.dataset.which;\n        let zeValue = (altValue?altValue:dataType(zeInput.value,zeInput.dataset.type));\n        // let's handle the pick\n        if (pick.length===0){\n            // nothings selected, thus we present the arboard props\n\n            let elementData = nuTree;\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n            stateStyle[which] = zeValue;\n\n        } else {\n            // just one element, have fun\n            // lets get that element's props\n            for (let pickElement of pick){\n                let elementId = pickElement.id;\n\n                let elementData = TreeHelpers.getElementDataById(nuTree.children,elementId);\n                let elementState = elementData.currentState;\n                let stateStyle = elementData.states[elementState].style;\n\n                stateStyle[which] = zeValue;\n            }\n        }\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    deleteProp(e){\n        let pick = this.props.pick.elements;\n        let nuTree = merge({},this.props.tree);\n        let zeInput = e.target;\n        let which = zeInput.dataset.which;\n\n        if (pick.length>0){\n            // just one element, have fun\n            // lets get that element's props\n            let pickElement = pick[0];\n            let elementId = pickElement.id;\n\n            let elementData = TreeHelpers.getElementDataById(nuTree.children,elementId);\n            let elementState = elementData.currentState;\n            let stateStyle = elementData.states[elementState].style;\n            delete stateStyle[which];\n        }\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    addProp(args){\n        let pick = this.props.pick.elements;\n        let nuTree = merge({},this.props.tree);\n        let elementData;\n\n        if (pick.length>0){\n            // just one element, have fun\n            // lets get that element's props\n            let pickElement = pick[0];\n            let elementId = pickElement.id;\n\n            elementData = TreeHelpers.getElementDataById(nuTree.children,elementId);\n        } else if (pick.length===0){\n            elementData = nuTree;\n        }\n        let elementState = elementData.currentState;\n        let stateStyle = elementData.states[elementState].style;\n        stateStyle[args.propName] = args.propValue;\n        store.dispatch({\n            type:'TREE_FULL',\n            val:nuTree\n        });\n    }\n    rotateFunc(str = 'rotate(0deg)'){\n        return parseInt(str.split('(')[1].split('deg')[0],10);\n    };\n    rotateChange(e){\n        e.persist()\n        this.updateValue(e,'rotate(Xdeg)'.replace('X',e.target.value));\n    }\n    render(){\n        let elementValues = this.elementValues();\n        let elementTypes = this.elementTypes();\n        let pickLength = this.props.pick.elements.length;\n        return (\n            <div className=\"sidebar__sub sidebar__properties\">\n                <div className=\"sidebar-easy\">\n                    <div className=\"sidebar__group\">\n                        <h3>Dimensions</h3>\n                        <div className=\"sidebar__grid\">\n                            <label>X</label>\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} which=\"left\" value={this.getValue(elementValues,'left')} change={this.updateValue.bind(this)} />\n                            <label title=\"Width\">W</label>\n                            <InputNumeric min={0} which=\"width\" value={this.getValue(elementValues,'width')} change={this.updateValue.bind(this)} />\n                            <label title=\"Rotation\" className=\"flex-static\"><i className=\"material-icons\">rotate_left</i></label>\n                            <InputNumeric which=\"transform\" disabled={pickLength<1?\"disabled\":\"\"} value={this.rotateFunc(this.getValue(elementValues,'transform'))} change={this.rotateChange.bind(this)} />\n                            <label>Y</label>\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} which=\"top\" value={this.getValue(elementValues,'top')} change={this.updateValue.bind(this)} />\n                            <label title=\"Height\">H</label>\n                            <InputNumeric min={0} which=\"height\" value={this.getValue(elementValues,'height')} change={this.updateValue.bind(this)} />\n                            <label title=\"Border Radius\" className=\"flex-static\"><i className=\"material-icons\">rounded_corner</i></label>\n                            <InputNumeric min={0} which=\"borderRadius\" disabled={pickLength<1?\"disabled\":\"\"} value={this.getValue(elementValues,'borderRadius')} change={this.updateValue.bind(this)} />\n                        </div>\n                    </div>\n                    <div className=\"sidebar__group\">\n                        <h3>Blending</h3>\n                        <div className=\"sidebar__grid\">\n                            <label title=\"Opacity\"><i className=\"material-icons\">opacity</i></label>\n                            <InputRange className=\"span-4\" disabled={pickLength<1?\"disabled\":\"\"} min={0} max={1} step={0.01} which=\"opacity\" value={this.getValue(elementValues,'opacity')} change={this.updateValue.bind(this)} />\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} min={0} max={1} step={0.01} which=\"opacity\" value={this.getValue(elementValues,'opacity')} change={this.updateValue.bind(this)} />\n                            <label title=\"Blend Mode\"><i className=\"material-icons\">filter</i></label>\n                            <InputSelect className=\"span-5\" disabled={pickLength<1?\"disabled\":\"\"} which=\"mixBlendMode\" value={this.getValue(elementValues,'mixBlendMode')} change={this.updateValue.bind(this)}>\n                                <optgroup>\n                                    <option value=\"normal\">Normal</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"darken\">Darken</option>\n                                    <option value=\"multiply\">Multiply</option>\n                                    <option value=\"color-burn\">Color Burn</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"lighten\">Lighten</option>\n                                    <option value=\"screen\">Screen</option>\n                                    <option value=\"color-dodge\">Color Dodge</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"overlay\">Overlay</option>\n                                    <option value=\"soft-light\">Soft Light</option>\n                                    <option value=\"hard-light\">Hard Light</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"difference\">Difference</option>\n                                    <option value=\"exclusion\">Exclusion</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"hue\">Hue</option>\n                                    <option value=\"saturation\">Saturation</option>\n                                    <option value=\"color\">Color</option>\n                                    <option value=\"luminosity\">Luminosity</option>\n                                </optgroup>\n                            </InputSelect>\n                        </div>\n                    </div>\n                    <div className={\"sidebar__group\" + ((elementTypes!=='mixed')&&(elementTypes!=='group')?'':' hidden')}>\n                        <h3>Color</h3>\n                        <div className=\"sidebar__grid\">\n                            <label title=\"Fill Style\"><i className='material-icons'>format_color_fill</i></label>\n                            <InputColor which=\"backgroundColor\" value={this.getValue(elementValues,'backgroundColor')} change={this.updateValue.bind(this)} />\n                        </div>\n                    </div>\n                    <div className={\"sidebar__group\" + ((elementTypes!=='mixed')&&(elementTypes!=='group')?'':' hidden')}>\n                        <h3>Border</h3>\n                        <div className=\"sidebar__grid\">\n                            <label title=\"Border Style\"><i className='material-icons'>border_style</i></label>\n                            <InputColor disabled={pickLength<1?\"disabled\":\"\"} which=\"borderColor\" value={this.getValue(elementValues,'borderColor')} change={this.updateValue.bind(this)} />\n                            <InputSelect className=\"span-3\" disabled={pickLength<1?\"disabled\":\"\"} which=\"borderStyle\" value={this.getValue(elementValues,'borderStyle')} change={this.updateValue.bind(this)}>\n                                <optgroup>\n                                    <option value=\"none\">None</option>\n                                </optgroup>\n                                <optgroup>\n                                    <option value=\"solid\">Solid</option>\n                                    <option value=\"dashed\">Dashed</option>\n                                    <option value=\"dotted\">Dotted</option>\n                                    <option value=\"double\">Double</option>\n                                    <option value=\"groove\">Groove</option>\n                                    <option value=\"ridge\">Ridge</option>\n                                    <option value=\"inset\">Inset</option>\n                                    <option value=\"outset\">Outset</option>\n                                </optgroup>\n                            </InputSelect>\n                            <InputNumeric disabled={pickLength<1?\"disabled\":\"\"} min={0} which=\"borderWidth\" value={this.getValue(elementValues,'borderWidth')} change={this.updateValue.bind(this)} />\n                        </div>\n                    </div>\n                    <div className={\"sidebar__group\"+(this.state.filtersCollapsed?\" collapsed\":\"\") + ((elementTypes!=='artboard')?'':' hidden')}>\n                        <h3>Filters <button className=\"collapse\" onClick={()=>{this.setState({filtersCollapsed:!this.state.filtersCollapsed})}}><i className=\"material-icons dd\">arrow_drop_down</i><i className=\"material-icons du\">arrow_drop_up</i></button></h3>\n                        <FilterComposer disabled={pickLength<1?\"disabled\":\"\"} elements={this.props.pick.elements} which=\"filter\" value={this.getValue(elementValues,'filter')} change={this.updateValue.bind(this)}  />\n                    </div>\n                </div>\n                <div className=\"sidebar-geek\">\n                    <div className=\"sidebar__group\">\n                        <h3>Advanced <span className=\"tip\">(It&#39;s just CSS)</span></h3>\n                        <CssNavigator addProp={this.addProp.bind(this)} deleteProp={this.deleteProp.bind(this)} elementValues={elementValues} getValue={this.getValue.bind(this)} updateValue={this.updateValue.bind(this)} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        pick:store.pick,\n        tree:store.tree,\n        tools:store.tools\n    };\n};\nconst SmartElementsSidebarProperties = connect(mapStateToProps)(ElementsSidebarProperties);\n\n\nexport default SmartElementsSidebarProperties;\n","import React, { Component } from 'react';\nimport ElementsSidebarProperties from '../ElementsSidebarProperties/';\nimport './styles.css';\n\nclass ElementsSidebar extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            geekMode:false,\n            activeTab:'properties'\n        }\n    }\n    switchMode(){\n        this.setState({\n            geekMode:!this.state.geekMode\n        })\n    }\n    render(){\n        return (\n            <div className={\"sidebar \"+this.state.activeTab+(this.state.geekMode?\" geek-mode\":'')}>\n                <div className=\"sidebar__tabs\">\n                    <button className=\"sidebar__tab active\">Properties <span className=\"geek-mode-switch material-icons\" title=\"Geek Mode\" onClick={()=>{this.setState({geekMode:!this.state.geekMode})}}>code</span></button>\n                    {/* <button className=\"sidebar__tab\">Actions</button> */}\n                </div>\n                <div className=\"sidebar__gap\"></div>\n                <ElementsSidebarProperties />\n            </div>\n        );\n    }\n}\n\nexport default ElementsSidebar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Workarea from '../Workarea/';\nimport Artboard from '../Artboard/';\nimport cssTools from '../../factories/Css';\nimport Toolbar from '../Toolbar/';\nimport MenuBar from '../MenuBar/';\nimport LeftBar from '../LeftBar/';\nimport ElementsSidebar from '../ElementsSidebar/';\nimport store from '../../store';\n\nimport './styles.css';\n\nclass App extends Component {\n    renderArtboards(){\n        const artboards = [this.props.tree];\n        return artboards.map((tree, i) => {\n            return (<Artboard key={i} tree={tree}></Artboard>);\n        });\n    }\n    updateTree(editor,data,val){\n        let ob = null;\n        try {\n           ob =  JSON.parse(val)\n        }\n        catch (e) {\n           console.log('oops',e);\n\n        }\n        if (ob) {\n            store.dispatch({\n                type:'TREE_FULL',\n                val:ob\n            });\n        }\n    }\n    componentWillMount(){\n        // initialize stuff\n    }\n    componentDidMount(){\n        // initialize stuff that requires dom\n        let classes = this.props.library.classes;\n        let styleSheet = cssTools.getStylesheet('dynamicStylesheet');\n        if (styleSheet) {\n            cssTools.initializeSheet(styleSheet,classes);\n        }\n    }\n    render() {\n        return (\n            <div className=\"wrap\">\n                <style id=\"dynamicStylesheet\" type=\"text/css\"></style>\n                <MenuBar />\n                <div className={\"main \"+this.props.tools.current+' '+this.props.workarea.elementClass.join(' ')}>\n                    <Toolbar></Toolbar>\n                    <LeftBar />\n                    <Workarea>{this.renderArtboards()}</Workarea>\n                    <ElementsSidebar />\n                </div>\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = function(store) {\n  return {\n    tree:store.tree,\n    library:store.library,\n    tools:store.tools,\n    workarea:store.workarea\n  };\n};\nconst SmartApp = connect(mapStateToProps)(App);\n\nexport default SmartApp;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { Router, Route, browserHistory  } from 'react-router';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/';\nimport registerServiceWorker from './registerServiceWorker';\nimport store from './store';\n\nimport './styles.css';\n\n// expose API to global in order to admit plugins\nwindow.Atlas = function(){\n    return {\n        setTree:(tree)=>{\n            store.dispatch({\n                type:'TREE_FULL',\n                val:tree\n            })\n        },\n        addMenuItem:(menuItem)=>{\n            store.dispatch({\n\n            });\n        }\n    }\n};\n\n// init and render to DOM function\nconst initialize = () => ReactDOM.render(\n  <Provider store={store}>\n    <Router history={browserHistory}>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// initialize\ninitialize();\nregisterServiceWorker();\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === 'installed') {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log('New content is available; please refresh.');\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log('Content is cached for offline use.');\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error('Error during service worker registration:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export default [\n    {\n        name: 'print',\n        icon: \"preset-print\",\n        default: 7,\n        layouts: [{\n            name: '4a0',\n            unit: \"mm\",\n            width: 1682,\n            height: 2378\n        }, {\n            name: '2a0',\n            unit: \"mm\",\n            width: 1189,\n            height: 1682\n        }, {\n            name: 'a0',\n            unit: \"mm\",\n            width: 841,\n            height: 1189\n        }, {\n            name: 'a1',\n            unit: \"mm\",\n            width: 594,\n            height: 841\n        }, {\n            name: 'a2',\n            unit: \"mm\",\n            width: 420,\n            height: 594\n        }, {\n            name: 'a2',\n            unit: \"mm\",\n            width: 420,\n            height: 594\n        }, {\n            name: 'a3',\n            unit: \"mm\",\n            width: 297,\n            height: 420\n        }, {\n            name: 'a4',\n            unit: \"mm\",\n            width: 210,\n            height: 297\n        }, {\n            name: 'a5',\n            unit: \"mm\",\n            width: 148,\n            height: 210\n        }, {\n            name: 'a6',\n            unit: \"mm\",\n            width: 105,\n            height: 148\n        }, {\n            name: 'a7',\n            unit: \"mm\",\n            width: 74,\n            height: 105\n        }, {\n            name: 'a8',\n            unit: \"mm\",\n            width: 52,\n            height: 74\n        }, {\n            name: 'a9',\n            unit: \"mm\",\n            width: 37,\n            height: 52\n        }, {\n            name: 'a10',\n            unit: \"mm\",\n            width: 26,\n            height: 37\n        }, {\n            name: 'us-letter-portrait',\n            unit: \"in\",\n            width: 8.5,\n            height: 11\n        }, {\n            name: 'us-letter-landscape',\n            unit: \"in\",\n            width: 11,\n            height: 8.5\n        }, {\n            name: 'business-card',\n            unit: \"mm\",\n            width: 85,\n            height: 55\n        }, {\n            name: 'flyer',\n            unit: \"in\",\n            width: 5,\n            height: 7\n        }, {\n            name: 'postcard',\n            unit: \"mm\",\n            width: 148,\n            height: 105\n        }]\n    }, {\n        name: 'text.web',\n        icon: \"preset-web\",\n        layouts: [{\n            name: 'blog-cover',\n            unit: \"px\",\n            width: 560,\n            height: 315\n        }, {\n            name: 'blog-graphic',\n            unit: \"px\",\n            width: 800,\n            height: 1200\n        }, {\n            name: 'website-small',\n            unit: \"px\",\n            width: 1024,\n            height: 768\n        }, {\n            name: 'website-normal',\n            unit: \"px\",\n            width: 1280,\n            height: 800\n        }, {\n            name: 'website-medium',\n            unit: \"px\",\n            width: 1366,\n            height: 768\n        }, {\n            name: 'website-large',\n            unit: \"px\",\n            width: 1440,\n            height: 900\n        }, {\n            name: 'website-huge',\n            unit: \"px\",\n            width: 1920,\n            height: 1280\n        }, {\n            name: 'full-website',\n            unit: \"px\",\n            width: 1440,\n            height: 3072\n        }]\n    }, {\n        name: 'social',\n        icon: \"preset-social\",\n        layouts: [{\n            name: 'facebook-cover',\n            unit: \"px\",\n            width: 851,\n            height: 315\n        }, {\n            name: 'twitter-cover',\n            unit: \"px\",\n            width: 1500,\n            height: 500\n        }, {\n            name: 'youtube-cover',\n            unit: \"px\",\n            width: 2560,\n            height: 1440\n        }, {\n            name: 'google-cover',\n            unit: \"px\",\n            width: 1080,\n            height: 608\n        }, {\n            name: 'linkedin-cover',\n            unit: \"px\",\n            width: 1440,\n            height: 425\n        }, {\n            name: 'twitch-cover',\n            unit: \"px\",\n            width: 900,\n            height: 480\n        }, {\n            name: 'twitter-post',\n            unit: \"px\",\n            width: 1024,\n            height: 512\n        }, {\n            name: 'facebook-post',\n            unit: \"px\",\n            width: 940,\n            height: 788\n        }, {\n            name: 'facebook-app',\n            unit: \"px\",\n            width: 810,\n            height: 450\n        }, {\n            name: 'facebook-ad',\n            unit: \"px\",\n            width: 1200,\n            height: 627\n        }, {\n            name: 'instagram-post',\n            unit: \"px\",\n            width: 1080,\n            height: 1080\n        }, {\n            name: 'tumblr-graphic',\n            unit: \"px\",\n            width: 540,\n            height: 810\n        }, {\n            name: 'pinterest-pin',\n            unit: \"px\",\n            width: 735,\n            height: 600\n        }, {\n            name: 'twitch-video',\n            unit: \"px\",\n            width: 1206,\n            height: 708\n        }, {\n            name: 'linkedin-banner',\n            unit: \"px\",\n            width: 646,\n            height: 220\n        }]\n    }, {\n        name: 'screen',\n        icon: \"preset-screen\",\n        layouts: [{\n            name: \"iPhone X\",\n            unit: \"px\",\n            width: 375,\n            height: 812\n        }, {\n            name: \"iPhone 8 Plus\",\n            unit: \"px\",\n            width: 414,\n            height: 736\n        }, {\n            name: \"iPhone 8\",\n            unit: \"px\",\n            width: 375,\n            height: 667\n        }, {\n            name: \"iPhone SE\",\n            unit: \"px\",\n            width: 320,\n            height: 568\n        }, {\n            name: \"Nexus 5\",\n            unit: \"px\",\n            width: 360,\n            height: 640\n        }, {\n            name: \"Apple Watch 38mm\",\n            unit: \"px\",\n            width: 272,\n            height: 340\n        }, {\n            section: \"55f6e10de679477c7bca92c4\",\n            name: \"Apple Watch 42mm\",\n            unit: \"px\",\n            width: 312,\n            height: 390\n        }]\n    }, {\n        name: 'screen',\n        icon: \"preset-tablet\",\n        layouts: [{\n            name: \"iPad 3/4/Air/Mini\",\n            unit: \"px\",\n            width: 768,\n            height: 1024\n        }, {\n            name: \"iPad Pro 12.9in\",\n            unit: \"px\",\n            width: 1024,\n            height: 1366\n        }, {\n            name: \"Nexus 7\",\n            unit: \"px\",\n            width: 600,\n            height: 960\n        }, {\n            name: \"Nexus 9\",\n            unit: \"px\",\n            width: 1024,\n            height: 768\n        }, {\n            name: \"Nexus 10\",\n            unit: \"px\",\n            width: 1280,\n            height: 800\n        }, {\n            name: \"Surface Pro 3\",\n            unit: \"px\",\n            width: 1440,\n            height: 960\n        }, {\n            name: \"Surface Pro 4\",\n            unit: \"px\",\n            width: 1368,\n            height: 912\n        }]\n    }\n]\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { merge } from 'lodash';\nimport { Artboard } from '../../../../structures/Element';\nimport store from '../../../../store';\nimport layouts from './PredefinedLayouts';\n\nimport './styles.css';\n\nexport class MenuItem extends Component{\n    newFile(){\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNewVisible',\n            value:true\n        });\n    }\n    render(){\n        return (\n            <div>\n                <button className=\"menu__dropdown-item\" onClick={this.newFile}>New</button>\n            </div>\n        )\n    }\n}\n\nexport class DumbMenuHelper extends Component{\n    constructor(props){\n\t\tsuper(props);\n        this.defaultData= {\n            width:240,\n            height:360\n        };\n        this.setWidth = function(e){\n            let nuData = merge({},this.props.menu.helperData.menuFileNew);\n            nuData.width=e.target.value;\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNew',\n                value:nuData\n            })\n        }.bind(this);\n        this.setHeight = function(e){\n            let nuData = merge({},this.props.menu.helperData.menuFileNew);\n            nuData.height=e.target.value;\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNew',\n                value:nuData\n            })\n        }.bind(this);\n        this.setLayout = function(e){\n            let nuData = merge({},this.props.menu.helperData.menuFileNew);\n            let wha = e.target.value.split('x');\n            nuData.width=parseInt(wha[0],10);\n            nuData.height=parseInt(wha[1],10);\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNew',\n                value:nuData\n            })\n        }.bind(this);\n        this.createNewFile = function(){\n            let size = this.props.menu.helperData.menuFileNew;\n            let nuTree = merge({},Artboard);\n            nuTree.states[0].style.width = size.width;\n            nuTree.states[0].style.height = size.height;\n            store.dispatch({\n                type:'TREE_FULL',\n                val:nuTree\n            });\n            store.dispatch({\n                type:'MENU_ADD_HELPER',\n                key:'menuFileNewVisible',\n                value:false\n            });\n        }.bind(this);\n    }\n    componentWillMount(){\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNew',\n            value:this.defaultData\n        });\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNewVisible',\n            value:false\n        });\n    }\n    cancel(){\n        store.dispatch({\n            type:'MENU_ADD_HELPER',\n            key:'menuFileNewVisible',\n            value:false\n        })\n    }\n    renderLayouts(){\n        let renderSizes = function(los){\n            return los.map((lo,j)=>{\n                return <option key={j} value={lo.width+'x'+lo.height}>{lo.name} - ({lo.width}x{lo.height}){lo.unit}</option>\n            });\n        }\n        return layouts.map((type, i)=>{\n            return <optgroup key={i} label={type.name}>{renderSizes(type.layouts)}</optgroup>\n        });\n    }\n    render(){\n        let selfData = this.props.menu.helperData.menuFileNew?this.props.menu.helperData.menuFileNew:this.defaultData;\n        let visible = this.props.menu.helperData.menuFileNewVisible;\n        return(\n            <div className={visible?'nfo visible':'nfo'}>\n                <div className=\"nfo__backdrop\"></div>\n                <div className=\"nfo__layer\">\n                    <div>\n                        <label>Predefined Layout</label>\n                        <select onChange={this.setLayout}>\n                            {this.renderLayouts()}\n                        </select>\n                    </div>\n                    <div>\n                        <label>Width</label>\n                        <input type=\"number\" onChange={this.setWidth} value={selfData.width} />px\n                    </div>\n                    <div>\n                        <label>Height</label>\n                        <input type=\"number\" onChange={this.setHeight} value={selfData.height}/>px\n                    </div>\n                    <div><button onClick={this.cancel}>Cancel</button> <button onClick={this.createNewFile}>Go</button></div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        menu:store.menu\n    };\n};\n\nexport const MenuHelper = connect(mapStateToProps)(DumbMenuHelper);\n"],"sourceRoot":""}